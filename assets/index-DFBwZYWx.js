var _f=Object.defineProperty;var Pf=(e,t,n)=>t in e?_f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ws=(e,t,n)=>Pf(e,typeof t!="symbol"?t+"":t,n);function Lf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Fu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Au={exports:{}},ts={},Ou={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=Symbol.for("react.element"),Df=Symbol.for("react.portal"),Tf=Symbol.for("react.fragment"),If=Symbol.for("react.strict_mode"),Rf=Symbol.for("react.profiler"),zf=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),Ff=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Of=Symbol.for("react.memo"),Uf=Symbol.for("react.lazy"),ra=Symbol.iterator;function Bf(e){return e===null||typeof e!="object"?null:(e=ra&&e[ra]||e["@@iterator"],typeof e=="function"?e:null)}var Uu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bu=Object.assign,$u={};function qn(e,t,n){this.props=e,this.context=t,this.refs=$u,this.updater=n||Uu}qn.prototype.isReactComponent={};qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wu(){}Wu.prototype=qn.prototype;function ti(e,t,n){this.props=e,this.context=t,this.refs=$u,this.updater=n||Uu}var ni=ti.prototype=new Wu;ni.constructor=ti;Bu(ni,qn.prototype);ni.isPureReactComponent=!0;var la=Array.isArray,Vu=Object.prototype.hasOwnProperty,ri={current:null},Hu={key:!0,ref:!0,__self:!0,__source:!0};function Gu(e,t,n){var r,l={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Vu.call(t,r)&&!Hu.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:Qr,type:e,key:s,ref:i,props:l,_owner:ri.current}}function $f(e,t){return{$$typeof:Qr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function li(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qr}function Wf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sa=/\/+/g;function js(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wf(""+e.key):t.toString(36)}function vl(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Qr:case Df:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+js(i,0):r,la(l)?(n="",e!=null&&(n=e.replace(sa,"$&/")+"/"),vl(l,t,n,"",function(c){return c})):l!=null&&(li(l)&&(l=$f(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(sa,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",la(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+js(s,a);i+=vl(s,t,n,u,l)}else if(u=Bf(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+js(s,a++),i+=vl(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function tl(e,t,n){if(e==null)return e;var r=[],l=0;return vl(e,r,"","",function(s){return t.call(n,s,l++)}),r}function Vf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},yl={transition:null},Hf={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:yl,ReactCurrentOwner:ri};function Qu(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:tl,forEach:function(e,t,n){tl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tl(e,function(){t++}),t},toArray:function(e){return tl(e,function(t){return t})||[]},only:function(e){if(!li(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=qn;V.Fragment=Tf;V.Profiler=Rf;V.PureComponent=ti;V.StrictMode=If;V.Suspense=Af;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hf;V.act=Qu;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bu({},e.props),l=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=ri.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Vu.call(t,u)&&!Hu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Qr,type:e.type,key:l,ref:s,props:r,_owner:i}};V.createContext=function(e){return e={$$typeof:Mf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zf,_context:e},e.Consumer=e};V.createElement=Gu;V.createFactory=function(e){var t=Gu.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:Ff,render:e}};V.isValidElement=li;V.lazy=function(e){return{$$typeof:Uf,_payload:{_status:-1,_result:e},_init:Vf}};V.memo=function(e,t){return{$$typeof:Of,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=yl.transition;yl.transition={};try{e()}finally{yl.transition=t}};V.unstable_act=Qu;V.useCallback=function(e,t){return Re.current.useCallback(e,t)};V.useContext=function(e){return Re.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};V.useEffect=function(e,t){return Re.current.useEffect(e,t)};V.useId=function(){return Re.current.useId()};V.useImperativeHandle=function(e,t,n){return Re.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return Re.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Re.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Re.current.useMemo(e,t)};V.useReducer=function(e,t,n){return Re.current.useReducer(e,t,n)};V.useRef=function(e){return Re.current.useRef(e)};V.useState=function(e){return Re.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return Re.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return Re.current.useTransition()};V.version="18.3.1";Ou.exports=V;var v=Ou.exports;const si=Fu(v),Gf=Lf({__proto__:null,default:si},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=v,Yf=Symbol.for("react.element"),Kf=Symbol.for("react.fragment"),Zf=Object.prototype.hasOwnProperty,Xf=Qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jf={key:!0,ref:!0,__self:!0,__source:!0};function Yu(e,t,n){var r,l={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Zf.call(t,r)&&!Jf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Yf,type:e,key:s,ref:i,props:l,_owner:Xf.current}}ts.Fragment=Kf;ts.jsx=Yu;ts.jsxs=Yu;Au.exports=ts;var o=Au.exports,qs={},Ku={exports:{}},Ge={},Zu={exports:{}},Xu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,D){var I=P.length;P.push(D);e:for(;0<I;){var B=I-1>>>1,K=P[B];if(0<l(K,D))P[B]=D,P[I]=K,I=B;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var D=P[0],I=P.pop();if(I!==D){P[0]=I;e:for(var B=0,K=P.length,rt=K>>>1;B<rt;){var je=2*(B+1)-1,ce=P[je],T=je+1,W=P[T];if(0>l(ce,I))T<K&&0>l(W,ce)?(P[B]=W,P[T]=I,B=T):(P[B]=ce,P[je]=I,B=je);else if(T<K&&0>l(W,I))P[B]=W,P[T]=I,B=T;else break e}}return D}function l(P,D){var I=P.sortIndex-D.sortIndex;return I!==0?I:P.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var u=[],c=[],m=1,d=null,p=3,x=!1,y=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=P)r(c),D.sortIndex=D.expirationTime,t(u,D);else break;D=n(c)}}function S(P){if(j=!1,g(P),!y)if(n(u)!==null)y=!0,F(w);else{var D=n(c);D!==null&&pe(S,D.startTime-P)}}function w(P,D){y=!1,j&&(j=!1,h(E),E=-1),x=!0;var I=p;try{for(g(D),d=n(u);d!==null&&(!(d.expirationTime>D)||P&&!Q());){var B=d.callback;if(typeof B=="function"){d.callback=null,p=d.priorityLevel;var K=B(d.expirationTime<=D);D=e.unstable_now(),typeof K=="function"?d.callback=K:d===n(u)&&r(u),g(D)}else r(u);d=n(u)}if(d!==null)var rt=!0;else{var je=n(c);je!==null&&pe(S,je.startTime-D),rt=!1}return rt}finally{d=null,p=I,x=!1}}var b=!1,C=null,E=-1,A=5,M=-1;function Q(){return!(e.unstable_now()-M<A)}function H(){if(C!==null){var P=e.unstable_now();M=P;var D=!0;try{D=C(!0,P)}finally{D?ne():(b=!1,C=null)}}else b=!1}var ne;if(typeof f=="function")ne=function(){f(H)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,U=$.port2;$.port1.onmessage=H,ne=function(){U.postMessage(null)}}else ne=function(){k(H,0)};function F(P){C=P,b||(b=!0,ne())}function pe(P,D){E=k(function(){P(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,F(w))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var I=p;p=D;try{return P()}finally{p=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var I=p;p=P;try{return D()}finally{p=I}},e.unstable_scheduleCallback=function(P,D,I){var B=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?B+I:B):I=B,P){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=I+K,P={id:m++,callback:D,priorityLevel:P,startTime:I,expirationTime:K,sortIndex:-1},I>B?(P.sortIndex=I,t(c,P),n(u)===null&&P===n(c)&&(j?(h(E),E=-1):j=!0,pe(S,I-B))):(P.sortIndex=K,t(u,P),y||x||(y=!0,F(w))),P},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(P){var D=p;return function(){var I=p;p=D;try{return P.apply(this,arguments)}finally{p=I}}}})(Xu);Zu.exports=Xu;var qf=Zu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=v,He=qf;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ju=new Set,br={};function yn(e,t){Hn(e,t),Hn(e+"Capture",t)}function Hn(e,t){for(br[e]=t,e=0;e<t.length;e++)Ju.add(t[e])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eo=Object.prototype.hasOwnProperty,tm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oa={},ia={};function nm(e){return eo.call(ia,e)?!0:eo.call(oa,e)?!1:tm.test(e)?ia[e]=!0:(oa[e]=!0,!1)}function rm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lm(e,t,n,r){if(t===null||typeof t>"u"||rm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,r,l,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var oi=/[\-:]([a-z])/g;function ii(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oi,ii);Ee[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oi,ii);Ee[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oi,ii);Ee[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function ai(e,t,n,r){var l=Ee.hasOwnProperty(t)?Ee[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lm(t,n,l,r)&&(n=null),r||l===null?nm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dt=em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nl=Symbol.for("react.element"),bn=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),ui=Symbol.for("react.strict_mode"),to=Symbol.for("react.profiler"),qu=Symbol.for("react.provider"),ec=Symbol.for("react.context"),ci=Symbol.for("react.forward_ref"),no=Symbol.for("react.suspense"),ro=Symbol.for("react.suspense_list"),di=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),tc=Symbol.for("react.offscreen"),aa=Symbol.iterator;function sr(e){return e===null||typeof e!="object"?null:(e=aa&&e[aa]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,Ss;function hr(e){if(Ss===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ss=t&&t[1]||""}return`
`+Ss+e}var ks=!1;function Ns(e,t){if(!e||ks)return"";ks=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),i=l.length-1,a=s.length-1;1<=i&&0<=a&&l[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(l[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||l[i]!==s[a]){var u=`
`+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=a);break}}}finally{ks=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hr(e):""}function sm(e){switch(e.tag){case 5:return hr(e.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 2:case 15:return e=Ns(e.type,!1),e;case 11:return e=Ns(e.type.render,!1),e;case 1:return e=Ns(e.type,!0),e;default:return""}}function lo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _n:return"Fragment";case bn:return"Portal";case to:return"Profiler";case ui:return"StrictMode";case no:return"Suspense";case ro:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ec:return(e.displayName||"Context")+".Consumer";case qu:return(e._context.displayName||"Context")+".Provider";case ci:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case di:return t=e.displayName||null,t!==null?t:lo(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return lo(e(t))}catch{}}return null}function om(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lo(t);case 8:return t===ui?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function im(e){var t=nc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rl(e){e._valueTracker||(e._valueTracker=im(e))}function rc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function so(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ua(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lc(e,t){t=t.checked,t!=null&&ai(e,"checked",t,!1)}function oo(e,t){lc(e,t);var n=Zt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?io(e,t.type,n):t.hasOwnProperty("defaultValue")&&io(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ca(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function io(e,t,n){(t!=="number"||Dl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pr=Array.isArray;function On(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ao(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function da(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(pr(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zt(n)}}function sc(e,t){var n=Zt(t.value),r=Zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ll,ic=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ll=ll||document.createElement("div"),ll.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ll.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _r(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},am=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(e){am.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vr[t]=vr[e]})});function ac(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vr.hasOwnProperty(e)&&vr[e]?(""+t).trim():t+"px"}function uc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=ac(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var um=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function co(e,t){if(t){if(um[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function fo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=null;function fi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ho=null,Un=null,Bn=null;function ma(e){if(e=Zr(e)){if(typeof ho!="function")throw Error(_(280));var t=e.stateNode;t&&(t=os(t),ho(e.stateNode,e.type,t))}}function cc(e){Un?Bn?Bn.push(e):Bn=[e]:Un=e}function dc(){if(Un){var e=Un,t=Bn;if(Bn=Un=null,ma(e),t)for(e=0;e<t.length;e++)ma(t[e])}}function fc(e,t){return e(t)}function mc(){}var Cs=!1;function hc(e,t,n){if(Cs)return e(t,n);Cs=!0;try{return fc(e,t,n)}finally{Cs=!1,(Un!==null||Bn!==null)&&(mc(),dc())}}function Pr(e,t){var n=e.stateNode;if(n===null)return null;var r=os(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var po=!1;if(bt)try{var or={};Object.defineProperty(or,"passive",{get:function(){po=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{po=!1}function cm(e,t,n,r,l,s,i,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var yr=!1,Tl=null,Il=!1,go=null,dm={onError:function(e){yr=!0,Tl=e}};function fm(e,t,n,r,l,s,i,a,u){yr=!1,Tl=null,cm.apply(dm,arguments)}function mm(e,t,n,r,l,s,i,a,u){if(fm.apply(this,arguments),yr){if(yr){var c=Tl;yr=!1,Tl=null}else throw Error(_(198));Il||(Il=!0,go=c)}}function wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ha(e){if(wn(e)!==e)throw Error(_(188))}function hm(e){var t=e.alternate;if(!t){if(t=wn(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return ha(l),e;if(s===r)return ha(l),t;s=s.sibling}throw Error(_(188))}if(n.return!==r.return)n=l,r=s;else{for(var i=!1,a=l.child;a;){if(a===n){i=!0,n=l,r=s;break}if(a===r){i=!0,r=l,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=l;break}if(a===r){i=!0,r=s,n=l;break}a=a.sibling}if(!i)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function gc(e){return e=hm(e),e!==null?xc(e):null}function xc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xc(e);if(t!==null)return t;e=e.sibling}return null}var vc=He.unstable_scheduleCallback,pa=He.unstable_cancelCallback,pm=He.unstable_shouldYield,gm=He.unstable_requestPaint,de=He.unstable_now,xm=He.unstable_getCurrentPriorityLevel,mi=He.unstable_ImmediatePriority,yc=He.unstable_UserBlockingPriority,Rl=He.unstable_NormalPriority,vm=He.unstable_LowPriority,wc=He.unstable_IdlePriority,ns=null,xt=null;function ym(e){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(ns,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:Sm,wm=Math.log,jm=Math.LN2;function Sm(e){return e>>>=0,e===0?32:31-(wm(e)/jm|0)|0}var sl=64,ol=4194304;function gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~l;a!==0?r=gr(a):(s&=i,s!==0&&(r=gr(s)))}else i=n&~l,i!==0?r=gr(i):s!==0&&(r=gr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ct(t),l=1<<n,r|=e[n],t&=~l;return r}function km(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-ct(s),a=1<<i,u=l[i];u===-1?(!(a&n)||a&r)&&(l[i]=km(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function xo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jc(){var e=sl;return sl<<=1,!(sl&4194240)&&(sl=64),e}function Es(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=n}function Cm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-ct(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function hi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ct(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Z=0;function Sc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kc,pi,Nc,Cc,Ec,vo=!1,il=[],$t=null,Wt=null,Vt=null,Lr=new Map,Dr=new Map,Mt=[],Em="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ga(e,t){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Lr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(t.pointerId)}}function ir(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Zr(t),t!==null&&pi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function bm(e,t,n,r,l){switch(t){case"focusin":return $t=ir($t,e,t,n,r,l),!0;case"dragenter":return Wt=ir(Wt,e,t,n,r,l),!0;case"mouseover":return Vt=ir(Vt,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return Lr.set(s,ir(Lr.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,Dr.set(s,ir(Dr.get(s)||null,e,t,n,r,l)),!0}return!1}function bc(e){var t=ln(e.target);if(t!==null){var n=wn(t);if(n!==null){if(t=n.tag,t===13){if(t=pc(n),t!==null){e.blockedOn=t,Ec(e.priority,function(){Nc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mo=r,n.target.dispatchEvent(r),mo=null}else return t=Zr(n),t!==null&&pi(t),e.blockedOn=n,!1;t.shift()}return!0}function xa(e,t,n){wl(e)&&n.delete(t)}function _m(){vo=!1,$t!==null&&wl($t)&&($t=null),Wt!==null&&wl(Wt)&&(Wt=null),Vt!==null&&wl(Vt)&&(Vt=null),Lr.forEach(xa),Dr.forEach(xa)}function ar(e,t){e.blockedOn===t&&(e.blockedOn=null,vo||(vo=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,_m)))}function Tr(e){function t(l){return ar(l,e)}if(0<il.length){ar(il[0],e);for(var n=1;n<il.length;n++){var r=il[n];r.blockedOn===e&&(r.blockedOn=null)}}for($t!==null&&ar($t,e),Wt!==null&&ar(Wt,e),Vt!==null&&ar(Vt,e),Lr.forEach(t),Dr.forEach(t),n=0;n<Mt.length;n++)r=Mt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&(n=Mt[0],n.blockedOn===null);)bc(n),n.blockedOn===null&&Mt.shift()}var $n=Dt.ReactCurrentBatchConfig,Ml=!0;function Pm(e,t,n,r){var l=Z,s=$n.transition;$n.transition=null;try{Z=1,gi(e,t,n,r)}finally{Z=l,$n.transition=s}}function Lm(e,t,n,r){var l=Z,s=$n.transition;$n.transition=null;try{Z=4,gi(e,t,n,r)}finally{Z=l,$n.transition=s}}function gi(e,t,n,r){if(Ml){var l=yo(e,t,n,r);if(l===null)Ms(e,t,r,Fl,n),ga(e,r);else if(bm(l,e,t,n,r))r.stopPropagation();else if(ga(e,r),t&4&&-1<Em.indexOf(e)){for(;l!==null;){var s=Zr(l);if(s!==null&&kc(s),s=yo(e,t,n,r),s===null&&Ms(e,t,r,Fl,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else Ms(e,t,r,null,n)}}var Fl=null;function yo(e,t,n,r){if(Fl=null,e=fi(r),e=ln(e),e!==null)if(t=wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fl=e,null}function _c(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xm()){case mi:return 1;case yc:return 4;case Rl:case vm:return 16;case wc:return 536870912;default:return 16}default:return 16}}var Ot=null,xi=null,jl=null;function Pc(){if(jl)return jl;var e,t=xi,n=t.length,r,l="value"in Ot?Ot.value:Ot.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[s-r];r++);return jl=l.slice(e,1<r?1-r:void 0)}function Sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function al(){return!0}function va(){return!1}function Qe(e){function t(n,r,l,s,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?al:va,this.isPropagationStopped=va,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),t}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Qe(er),Kr=ie({},er,{view:0,detail:0}),Dm=Qe(Kr),bs,_s,ur,rs=ie({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ur&&(ur&&e.type==="mousemove"?(bs=e.screenX-ur.screenX,_s=e.screenY-ur.screenY):_s=bs=0,ur=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:_s}}),ya=Qe(rs),Tm=ie({},rs,{dataTransfer:0}),Im=Qe(Tm),Rm=ie({},Kr,{relatedTarget:0}),Ps=Qe(Rm),zm=ie({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),Mm=Qe(zm),Fm=ie({},er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Am=Qe(Fm),Om=ie({},er,{data:0}),wa=Qe(Om),Um={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$m[e])?!!t[e]:!1}function yi(){return Wm}var Vm=ie({},Kr,{key:function(e){if(e.key){var t=Um[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yi,charCode:function(e){return e.type==="keypress"?Sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hm=Qe(Vm),Gm=ie({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ja=Qe(Gm),Qm=ie({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yi}),Ym=Qe(Qm),Km=ie({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zm=Qe(Km),Xm=ie({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jm=Qe(Xm),qm=[9,13,27,32],wi=bt&&"CompositionEvent"in window,wr=null;bt&&"documentMode"in document&&(wr=document.documentMode);var eh=bt&&"TextEvent"in window&&!wr,Lc=bt&&(!wi||wr&&8<wr&&11>=wr),Sa=" ",ka=!1;function Dc(e,t){switch(e){case"keyup":return qm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pn=!1;function th(e,t){switch(e){case"compositionend":return Tc(t);case"keypress":return t.which!==32?null:(ka=!0,Sa);case"textInput":return e=t.data,e===Sa&&ka?null:e;default:return null}}function nh(e,t){if(Pn)return e==="compositionend"||!wi&&Dc(e,t)?(e=Pc(),jl=xi=Ot=null,Pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lc&&t.locale!=="ko"?null:t.data;default:return null}}var rh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rh[e.type]:t==="textarea"}function Ic(e,t,n,r){cc(r),t=Al(t,"onChange"),0<t.length&&(n=new vi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jr=null,Ir=null;function lh(e){Vc(e,0)}function ls(e){var t=Tn(e);if(rc(t))return e}function sh(e,t){if(e==="change")return t}var Rc=!1;if(bt){var Ls;if(bt){var Ds="oninput"in document;if(!Ds){var Ca=document.createElement("div");Ca.setAttribute("oninput","return;"),Ds=typeof Ca.oninput=="function"}Ls=Ds}else Ls=!1;Rc=Ls&&(!document.documentMode||9<document.documentMode)}function Ea(){jr&&(jr.detachEvent("onpropertychange",zc),Ir=jr=null)}function zc(e){if(e.propertyName==="value"&&ls(Ir)){var t=[];Ic(t,Ir,e,fi(e)),hc(lh,t)}}function oh(e,t,n){e==="focusin"?(Ea(),jr=t,Ir=n,jr.attachEvent("onpropertychange",zc)):e==="focusout"&&Ea()}function ih(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ls(Ir)}function ah(e,t){if(e==="click")return ls(t)}function uh(e,t){if(e==="input"||e==="change")return ls(t)}function ch(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:ch;function Rr(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!eo.call(t,l)||!ft(e[l],t[l]))return!1}return!0}function ba(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _a(e,t){var n=ba(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ba(n)}}function Mc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fc(){for(var e=window,t=Dl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Dl(e.document)}return t}function ji(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dh(e){var t=Fc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mc(n.ownerDocument.documentElement,n)){if(r!==null&&ji(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=_a(n,s);var i=_a(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fh=bt&&"documentMode"in document&&11>=document.documentMode,Ln=null,wo=null,Sr=null,jo=!1;function Pa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jo||Ln==null||Ln!==Dl(r)||(r=Ln,"selectionStart"in r&&ji(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sr&&Rr(Sr,r)||(Sr=r,r=Al(wo,"onSelect"),0<r.length&&(t=new vi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ln)))}function ul(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dn={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},Ts={},Ac={};bt&&(Ac=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function ss(e){if(Ts[e])return Ts[e];if(!Dn[e])return e;var t=Dn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ac)return Ts[e]=t[n];return e}var Oc=ss("animationend"),Uc=ss("animationiteration"),Bc=ss("animationstart"),$c=ss("transitionend"),Wc=new Map,La="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){Wc.set(e,t),yn(t,[e])}for(var Is=0;Is<La.length;Is++){var Rs=La[Is],mh=Rs.toLowerCase(),hh=Rs[0].toUpperCase()+Rs.slice(1);Jt(mh,"on"+hh)}Jt(Oc,"onAnimationEnd");Jt(Uc,"onAnimationIteration");Jt(Bc,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt($c,"onTransitionEnd");Hn("onMouseEnter",["mouseout","mouseover"]);Hn("onMouseLeave",["mouseout","mouseover"]);Hn("onPointerEnter",["pointerout","pointerover"]);Hn("onPointerLeave",["pointerout","pointerover"]);yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ph=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Da(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mm(r,t,void 0,e),e.currentTarget=null}function Vc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&l.isPropagationStopped())break e;Da(l,a,c),s=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&l.isPropagationStopped())break e;Da(l,a,c),s=u}}}if(Il)throw e=go,Il=!1,go=null,e}function ee(e,t){var n=t[Eo];n===void 0&&(n=t[Eo]=new Set);var r=e+"__bubble";n.has(r)||(Hc(t,e,2,!1),n.add(r))}function zs(e,t,n){var r=0;t&&(r|=4),Hc(n,e,r,t)}var cl="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[cl]){e[cl]=!0,Ju.forEach(function(n){n!=="selectionchange"&&(ph.has(n)||zs(n,!1,e),zs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cl]||(t[cl]=!0,zs("selectionchange",!1,t))}}function Hc(e,t,n,r){switch(_c(t)){case 1:var l=Pm;break;case 4:l=Lm;break;default:l=gi}n=l.bind(null,t,n,e),l=void 0,!po||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ms(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;i=i.return}for(;a!==null;){if(i=ln(a),i===null)return;if(u=i.tag,u===5||u===6){r=s=i;continue e}a=a.parentNode}}r=r.return}hc(function(){var c=s,m=fi(n),d=[];e:{var p=Wc.get(e);if(p!==void 0){var x=vi,y=e;switch(e){case"keypress":if(Sl(n)===0)break e;case"keydown":case"keyup":x=Hm;break;case"focusin":y="focus",x=Ps;break;case"focusout":y="blur",x=Ps;break;case"beforeblur":case"afterblur":x=Ps;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=ya;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Im;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Ym;break;case Oc:case Uc:case Bc:x=Mm;break;case $c:x=Zm;break;case"scroll":x=Dm;break;case"wheel":x=Jm;break;case"copy":case"cut":case"paste":x=Am;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ja}var j=(t&4)!==0,k=!j&&e==="scroll",h=j?p!==null?p+"Capture":null:p;j=[];for(var f=c,g;f!==null;){g=f;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,h!==null&&(S=Pr(f,h),S!=null&&j.push(Mr(f,S,g)))),k)break;f=f.return}0<j.length&&(p=new x(p,y,null,n,m),d.push({event:p,listeners:j}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&n!==mo&&(y=n.relatedTarget||n.fromElement)&&(ln(y)||y[_t]))break e;if((x||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=c,y=y?ln(y):null,y!==null&&(k=wn(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=c),x!==y)){if(j=ya,S="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(j=ja,S="onPointerLeave",h="onPointerEnter",f="pointer"),k=x==null?p:Tn(x),g=y==null?p:Tn(y),p=new j(S,f+"leave",x,n,m),p.target=k,p.relatedTarget=g,S=null,ln(m)===c&&(j=new j(h,f+"enter",y,n,m),j.target=g,j.relatedTarget=k,S=j),k=S,x&&y)t:{for(j=x,h=y,f=0,g=j;g;g=Cn(g))f++;for(g=0,S=h;S;S=Cn(S))g++;for(;0<f-g;)j=Cn(j),f--;for(;0<g-f;)h=Cn(h),g--;for(;f--;){if(j===h||h!==null&&j===h.alternate)break t;j=Cn(j),h=Cn(h)}j=null}else j=null;x!==null&&Ta(d,p,x,j,!1),y!==null&&k!==null&&Ta(d,k,y,j,!0)}}e:{if(p=c?Tn(c):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var w=sh;else if(Na(p))if(Rc)w=uh;else{w=ih;var b=oh}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=ah);if(w&&(w=w(e,c))){Ic(d,w,n,m);break e}b&&b(e,p,c),e==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&io(p,"number",p.value)}switch(b=c?Tn(c):window,e){case"focusin":(Na(b)||b.contentEditable==="true")&&(Ln=b,wo=c,Sr=null);break;case"focusout":Sr=wo=Ln=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,Pa(d,n,m);break;case"selectionchange":if(fh)break;case"keydown":case"keyup":Pa(d,n,m)}var C;if(wi)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Pn?Dc(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Lc&&n.locale!=="ko"&&(Pn||E!=="onCompositionStart"?E==="onCompositionEnd"&&Pn&&(C=Pc()):(Ot=m,xi="value"in Ot?Ot.value:Ot.textContent,Pn=!0)),b=Al(c,E),0<b.length&&(E=new wa(E,e,null,n,m),d.push({event:E,listeners:b}),C?E.data=C:(C=Tc(n),C!==null&&(E.data=C)))),(C=eh?th(e,n):nh(e,n))&&(c=Al(c,"onBeforeInput"),0<c.length&&(m=new wa("onBeforeInput","beforeinput",null,n,m),d.push({event:m,listeners:c}),m.data=C))}Vc(d,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Al(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=Pr(e,n),s!=null&&r.unshift(Mr(e,s,l)),s=Pr(e,t),s!=null&&r.push(Mr(e,s,l))),e=e.return}return r}function Cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ta(e,t,n,r,l){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,l?(u=Pr(n,s),u!=null&&i.unshift(Mr(n,u,a))):l||(u=Pr(n,s),u!=null&&i.push(Mr(n,u,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var gh=/\r\n?/g,xh=/\u0000|\uFFFD/g;function Ia(e){return(typeof e=="string"?e:""+e).replace(gh,`
`).replace(xh,"")}function dl(e,t,n){if(t=Ia(t),Ia(e)!==t&&n)throw Error(_(425))}function Ol(){}var So=null,ko=null;function No(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Co=typeof setTimeout=="function"?setTimeout:void 0,vh=typeof clearTimeout=="function"?clearTimeout:void 0,Ra=typeof Promise=="function"?Promise:void 0,yh=typeof queueMicrotask=="function"?queueMicrotask:typeof Ra<"u"?function(e){return Ra.resolve(null).then(e).catch(wh)}:Co;function wh(e){setTimeout(function(){throw e})}function Fs(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Tr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Tr(t)}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function za(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var tr=Math.random().toString(36).slice(2),gt="__reactFiber$"+tr,Fr="__reactProps$"+tr,_t="__reactContainer$"+tr,Eo="__reactEvents$"+tr,jh="__reactListeners$"+tr,Sh="__reactHandles$"+tr;function ln(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_t]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=za(e);e!==null;){if(n=e[gt])return n;e=za(e)}return t}e=n,n=e.parentNode}return null}function Zr(e){return e=e[gt]||e[_t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function os(e){return e[Fr]||null}var bo=[],In=-1;function qt(e){return{current:e}}function te(e){0>In||(e.current=bo[In],bo[In]=null,In--)}function q(e,t){In++,bo[In]=e.current,e.current=t}var Xt={},Le=qt(Xt),Oe=qt(!1),fn=Xt;function Gn(e,t){var n=e.type.contextTypes;if(!n)return Xt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ue(e){return e=e.childContextTypes,e!=null}function Ul(){te(Oe),te(Le)}function Ma(e,t,n){if(Le.current!==Xt)throw Error(_(168));q(Le,t),q(Oe,n)}function Gc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(_(108,om(e)||"Unknown",l));return ie({},n,r)}function Bl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,fn=Le.current,q(Le,e),q(Oe,Oe.current),!0}function Fa(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=Gc(e,t,fn),r.__reactInternalMemoizedMergedChildContext=e,te(Oe),te(Le),q(Le,e)):te(Oe),q(Oe,n)}var St=null,is=!1,As=!1;function Qc(e){St===null?St=[e]:St.push(e)}function kh(e){is=!0,Qc(e)}function en(){if(!As&&St!==null){As=!0;var e=0,t=Z;try{var n=St;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}St=null,is=!1}catch(l){throw St!==null&&(St=St.slice(e+1)),vc(mi,en),l}finally{Z=t,As=!1}}return null}var Rn=[],zn=0,$l=null,Wl=0,Xe=[],Je=0,mn=null,kt=1,Nt="";function nn(e,t){Rn[zn++]=Wl,Rn[zn++]=$l,$l=e,Wl=t}function Yc(e,t,n){Xe[Je++]=kt,Xe[Je++]=Nt,Xe[Je++]=mn,mn=e;var r=kt;e=Nt;var l=32-ct(r)-1;r&=~(1<<l),n+=1;var s=32-ct(t)+l;if(30<s){var i=l-l%5;s=(r&(1<<i)-1).toString(32),r>>=i,l-=i,kt=1<<32-ct(t)+l|n<<l|r,Nt=s+e}else kt=1<<s|n<<l|r,Nt=e}function Si(e){e.return!==null&&(nn(e,1),Yc(e,1,0))}function ki(e){for(;e===$l;)$l=Rn[--zn],Rn[zn]=null,Wl=Rn[--zn],Rn[zn]=null;for(;e===mn;)mn=Xe[--Je],Xe[Je]=null,Nt=Xe[--Je],Xe[Je]=null,kt=Xe[--Je],Xe[Je]=null}var Ve=null,We=null,le=!1,at=null;function Kc(e,t){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Aa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,We=Ht(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mn!==null?{id:kt,overflow:Nt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ve=e,We=null,!0):!1;default:return!1}}function _o(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Po(e){if(le){var t=We;if(t){var n=t;if(!Aa(e,t)){if(_o(e))throw Error(_(418));t=Ht(n.nextSibling);var r=Ve;t&&Aa(e,t)?Kc(r,n):(e.flags=e.flags&-4097|2,le=!1,Ve=e)}}else{if(_o(e))throw Error(_(418));e.flags=e.flags&-4097|2,le=!1,Ve=e}}}function Oa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function fl(e){if(e!==Ve)return!1;if(!le)return Oa(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!No(e.type,e.memoizedProps)),t&&(t=We)){if(_o(e))throw Zc(),Error(_(418));for(;t;)Kc(e,t),t=Ht(t.nextSibling)}if(Oa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){We=Ht(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}We=null}}else We=Ve?Ht(e.stateNode.nextSibling):null;return!0}function Zc(){for(var e=We;e;)e=Ht(e.nextSibling)}function Qn(){We=Ve=null,le=!1}function Ni(e){at===null?at=[e]:at.push(e)}var Nh=Dt.ReactCurrentBatchConfig;function cr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=l.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function ml(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ua(e){var t=e._init;return t(e._payload)}function Xc(e){function t(h,f){if(e){var g=h.deletions;g===null?(h.deletions=[f],h.flags|=16):g.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function l(h,f){return h=Kt(h,f),h.index=0,h.sibling=null,h}function s(h,f,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<f?(h.flags|=2,f):g):(h.flags|=2,f)):(h.flags|=1048576,f)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,f,g,S){return f===null||f.tag!==6?(f=Hs(g,h.mode,S),f.return=h,f):(f=l(f,g),f.return=h,f)}function u(h,f,g,S){var w=g.type;return w===_n?m(h,f,g.props.children,S,g.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rt&&Ua(w)===f.type)?(S=l(f,g.props),S.ref=cr(h,f,g),S.return=h,S):(S=Pl(g.type,g.key,g.props,null,h.mode,S),S.ref=cr(h,f,g),S.return=h,S)}function c(h,f,g,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Gs(g,h.mode,S),f.return=h,f):(f=l(f,g.children||[]),f.return=h,f)}function m(h,f,g,S,w){return f===null||f.tag!==7?(f=un(g,h.mode,S,w),f.return=h,f):(f=l(f,g),f.return=h,f)}function d(h,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Hs(""+f,h.mode,g),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case nl:return g=Pl(f.type,f.key,f.props,null,h.mode,g),g.ref=cr(h,null,f),g.return=h,g;case bn:return f=Gs(f,h.mode,g),f.return=h,f;case Rt:var S=f._init;return d(h,S(f._payload),g)}if(pr(f)||sr(f))return f=un(f,h.mode,g,null),f.return=h,f;ml(h,f)}return null}function p(h,f,g,S){var w=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:a(h,f,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case nl:return g.key===w?u(h,f,g,S):null;case bn:return g.key===w?c(h,f,g,S):null;case Rt:return w=g._init,p(h,f,w(g._payload),S)}if(pr(g)||sr(g))return w!==null?null:m(h,f,g,S,null);ml(h,g)}return null}function x(h,f,g,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(g)||null,a(f,h,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case nl:return h=h.get(S.key===null?g:S.key)||null,u(f,h,S,w);case bn:return h=h.get(S.key===null?g:S.key)||null,c(f,h,S,w);case Rt:var b=S._init;return x(h,f,g,b(S._payload),w)}if(pr(S)||sr(S))return h=h.get(g)||null,m(f,h,S,w,null);ml(f,S)}return null}function y(h,f,g,S){for(var w=null,b=null,C=f,E=f=0,A=null;C!==null&&E<g.length;E++){C.index>E?(A=C,C=null):A=C.sibling;var M=p(h,C,g[E],S);if(M===null){C===null&&(C=A);break}e&&C&&M.alternate===null&&t(h,C),f=s(M,f,E),b===null?w=M:b.sibling=M,b=M,C=A}if(E===g.length)return n(h,C),le&&nn(h,E),w;if(C===null){for(;E<g.length;E++)C=d(h,g[E],S),C!==null&&(f=s(C,f,E),b===null?w=C:b.sibling=C,b=C);return le&&nn(h,E),w}for(C=r(h,C);E<g.length;E++)A=x(C,h,E,g[E],S),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),f=s(A,f,E),b===null?w=A:b.sibling=A,b=A);return e&&C.forEach(function(Q){return t(h,Q)}),le&&nn(h,E),w}function j(h,f,g,S){var w=sr(g);if(typeof w!="function")throw Error(_(150));if(g=w.call(g),g==null)throw Error(_(151));for(var b=w=null,C=f,E=f=0,A=null,M=g.next();C!==null&&!M.done;E++,M=g.next()){C.index>E?(A=C,C=null):A=C.sibling;var Q=p(h,C,M.value,S);if(Q===null){C===null&&(C=A);break}e&&C&&Q.alternate===null&&t(h,C),f=s(Q,f,E),b===null?w=Q:b.sibling=Q,b=Q,C=A}if(M.done)return n(h,C),le&&nn(h,E),w;if(C===null){for(;!M.done;E++,M=g.next())M=d(h,M.value,S),M!==null&&(f=s(M,f,E),b===null?w=M:b.sibling=M,b=M);return le&&nn(h,E),w}for(C=r(h,C);!M.done;E++,M=g.next())M=x(C,h,E,M.value,S),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?E:M.key),f=s(M,f,E),b===null?w=M:b.sibling=M,b=M);return e&&C.forEach(function(H){return t(h,H)}),le&&nn(h,E),w}function k(h,f,g,S){if(typeof g=="object"&&g!==null&&g.type===_n&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case nl:e:{for(var w=g.key,b=f;b!==null;){if(b.key===w){if(w=g.type,w===_n){if(b.tag===7){n(h,b.sibling),f=l(b,g.props.children),f.return=h,h=f;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rt&&Ua(w)===b.type){n(h,b.sibling),f=l(b,g.props),f.ref=cr(h,b,g),f.return=h,h=f;break e}n(h,b);break}else t(h,b);b=b.sibling}g.type===_n?(f=un(g.props.children,h.mode,S,g.key),f.return=h,h=f):(S=Pl(g.type,g.key,g.props,null,h.mode,S),S.ref=cr(h,f,g),S.return=h,h=S)}return i(h);case bn:e:{for(b=g.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(h,f.sibling),f=l(f,g.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=Gs(g,h.mode,S),f.return=h,h=f}return i(h);case Rt:return b=g._init,k(h,f,b(g._payload),S)}if(pr(g))return y(h,f,g,S);if(sr(g))return j(h,f,g,S);ml(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(h,f.sibling),f=l(f,g),f.return=h,h=f):(n(h,f),f=Hs(g,h.mode,S),f.return=h,h=f),i(h)):n(h,f)}return k}var Yn=Xc(!0),Jc=Xc(!1),Vl=qt(null),Hl=null,Mn=null,Ci=null;function Ei(){Ci=Mn=Hl=null}function bi(e){var t=Vl.current;te(Vl),e._currentValue=t}function Lo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wn(e,t){Hl=e,Ci=Mn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ae=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},Mn===null){if(Hl===null)throw Error(_(308));Mn=e,Hl.dependencies={lanes:0,firstContext:e}}else Mn=Mn.next=e;return t}var sn=null;function _i(e){sn===null?sn=[e]:sn.push(e)}function qc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,_i(t)):(n.next=l.next,l.next=n),t.interleaved=n,Pt(e,r)}function Pt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zt=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ed(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Pt(e,n)}return l=r.interleaved,l===null?(t.next=t,_i(r)):(t.next=l.next,l.next=t),r.interleaved=t,Pt(e,n)}function kl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hi(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gl(e,t,n,r){var l=e.updateQueue;zt=!1;var s=l.firstBaseUpdate,i=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,c=u.next;u.next=null,i===null?s=c:i.next=c,i=u;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==i&&(a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=u))}if(s!==null){var d=l.baseState;i=0,m=c=u=null,a=s;do{var p=a.lane,x=a.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,j=a;switch(p=t,x=n,j.tag){case 1:if(y=j.payload,typeof y=="function"){d=y.call(x,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=j.payload,p=typeof y=="function"?y.call(x,d,p):y,p==null)break e;d=ie({},d,p);break e;case 2:zt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=l.effects,p===null?l.effects=[a]:p.push(a))}else x={eventTime:x,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(c=m=x,u=d):m=m.next=x,i|=p;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;p=a,a=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);if(m===null&&(u=d),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);pn|=i,e.lanes=i,e.memoizedState=d}}function $a(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(_(191,l));l.call(r)}}}var Xr={},vt=qt(Xr),Ar=qt(Xr),Or=qt(Xr);function on(e){if(e===Xr)throw Error(_(174));return e}function Li(e,t){switch(q(Or,t),q(Ar,e),q(vt,Xr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uo(t,e)}te(vt),q(vt,t)}function Kn(){te(vt),te(Ar),te(Or)}function td(e){on(Or.current);var t=on(vt.current),n=uo(t,e.type);t!==n&&(q(Ar,e),q(vt,n))}function Di(e){Ar.current===e&&(te(vt),te(Ar))}var se=qt(0);function Ql(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Os=[];function Ti(){for(var e=0;e<Os.length;e++)Os[e]._workInProgressVersionPrimary=null;Os.length=0}var Nl=Dt.ReactCurrentDispatcher,Us=Dt.ReactCurrentBatchConfig,hn=0,oe=null,xe=null,ye=null,Yl=!1,kr=!1,Ur=0,Ch=0;function be(){throw Error(_(321))}function Ii(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function Ri(e,t,n,r,l,s){if(hn=s,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nl.current=e===null||e.memoizedState===null?Ph:Lh,e=n(r,l),kr){s=0;do{if(kr=!1,Ur=0,25<=s)throw Error(_(301));s+=1,ye=xe=null,t.updateQueue=null,Nl.current=Dh,e=n(r,l)}while(kr)}if(Nl.current=Kl,t=xe!==null&&xe.next!==null,hn=0,ye=xe=oe=null,Yl=!1,t)throw Error(_(300));return e}function zi(){var e=Ur!==0;return Ur=0,e}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?oe.memoizedState=ye=e:ye=ye.next=e,ye}function nt(){if(xe===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=ye===null?oe.memoizedState:ye.next;if(t!==null)ye=t,xe=e;else{if(e===null)throw Error(_(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},ye===null?oe.memoizedState=ye=e:ye=ye.next=e}return ye}function Br(e,t){return typeof t=="function"?t(e):t}function Bs(e){var t=nt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=xe,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var i=l.next;l.next=s.next,s.next=i}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var a=i=null,u=null,c=s;do{var m=c.lane;if((hn&m)===m)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,i=r):u=u.next=d,oe.lanes|=m,pn|=m}c=c.next}while(c!==null&&c!==s);u===null?i=r:u.next=a,ft(r,t.memoizedState)||(Ae=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,oe.lanes|=s,pn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $s(e){var t=nt(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do s=e(s,i.action),i=i.next;while(i!==l);ft(s,t.memoizedState)||(Ae=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function nd(){}function rd(e,t){var n=oe,r=nt(),l=t(),s=!ft(r.memoizedState,l);if(s&&(r.memoizedState=l,Ae=!0),r=r.queue,Mi(od.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,$r(9,sd.bind(null,n,r,l,t),void 0,null),we===null)throw Error(_(349));hn&30||ld(n,t,l)}return l}function ld(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function sd(e,t,n,r){t.value=n,t.getSnapshot=r,id(t)&&ad(e)}function od(e,t,n){return n(function(){id(t)&&ad(e)})}function id(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function ad(e){var t=Pt(e,1);t!==null&&dt(t,e,1,-1)}function Wa(e){var t=pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:e},t.queue=e,e=e.dispatch=_h.bind(null,oe,e),[t.memoizedState,e]}function $r(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ud(){return nt().memoizedState}function Cl(e,t,n,r){var l=pt();oe.flags|=e,l.memoizedState=$r(1|t,n,void 0,r===void 0?null:r)}function as(e,t,n,r){var l=nt();r=r===void 0?null:r;var s=void 0;if(xe!==null){var i=xe.memoizedState;if(s=i.destroy,r!==null&&Ii(r,i.deps)){l.memoizedState=$r(t,n,s,r);return}}oe.flags|=e,l.memoizedState=$r(1|t,n,s,r)}function Va(e,t){return Cl(8390656,8,e,t)}function Mi(e,t){return as(2048,8,e,t)}function cd(e,t){return as(4,2,e,t)}function dd(e,t){return as(4,4,e,t)}function fd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function md(e,t,n){return n=n!=null?n.concat([e]):null,as(4,4,fd.bind(null,t,e),n)}function Fi(){}function hd(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ii(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pd(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ii(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gd(e,t,n){return hn&21?(ft(n,t)||(n=jc(),oe.lanes|=n,pn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ae=!0),e.memoizedState=n)}function Eh(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=Us.transition;Us.transition={};try{e(!1),t()}finally{Z=n,Us.transition=r}}function xd(){return nt().memoizedState}function bh(e,t,n){var r=Yt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vd(e))yd(t,n);else if(n=qc(e,t,n,r),n!==null){var l=Ie();dt(n,e,r,l),wd(n,t,r)}}function _h(e,t,n){var r=Yt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vd(e))yd(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(l.hasEagerState=!0,l.eagerState=a,ft(a,i)){var u=t.interleaved;u===null?(l.next=l,_i(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=qc(e,t,l,r),n!==null&&(l=Ie(),dt(n,e,r,l),wd(n,t,r))}}function vd(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function yd(e,t){kr=Yl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hi(e,n)}}var Kl={readContext:tt,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Ph={readContext:tt,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:Va,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cl(4194308,4,fd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cl(4,2,e,t)},useMemo:function(e,t){var n=pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bh.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:Wa,useDebugValue:Fi,useDeferredValue:function(e){return pt().memoizedState=e},useTransition:function(){var e=Wa(!1),t=e[0];return e=Eh.bind(null,e[1]),pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,l=pt();if(le){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),we===null)throw Error(_(349));hn&30||ld(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Va(od.bind(null,r,s,e),[e]),r.flags|=2048,$r(9,sd.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=pt(),t=we.identifierPrefix;if(le){var n=Nt,r=kt;n=(r&~(1<<32-ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ur++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ch++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lh={readContext:tt,useCallback:hd,useContext:tt,useEffect:Mi,useImperativeHandle:md,useInsertionEffect:cd,useLayoutEffect:dd,useMemo:pd,useReducer:Bs,useRef:ud,useState:function(){return Bs(Br)},useDebugValue:Fi,useDeferredValue:function(e){var t=nt();return gd(t,xe.memoizedState,e)},useTransition:function(){var e=Bs(Br)[0],t=nt().memoizedState;return[e,t]},useMutableSource:nd,useSyncExternalStore:rd,useId:xd,unstable_isNewReconciler:!1},Dh={readContext:tt,useCallback:hd,useContext:tt,useEffect:Mi,useImperativeHandle:md,useInsertionEffect:cd,useLayoutEffect:dd,useMemo:pd,useReducer:$s,useRef:ud,useState:function(){return $s(Br)},useDebugValue:Fi,useDeferredValue:function(e){var t=nt();return xe===null?t.memoizedState=e:gd(t,xe.memoizedState,e)},useTransition:function(){var e=$s(Br)[0],t=nt().memoizedState;return[e,t]},useMutableSource:nd,useSyncExternalStore:rd,useId:xd,unstable_isNewReconciler:!1};function st(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Do(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var us={isMounted:function(e){return(e=e._reactInternals)?wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),l=Yt(e),s=Ct(r,l);s.payload=t,n!=null&&(s.callback=n),t=Gt(e,s,l),t!==null&&(dt(t,e,l,r),kl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),l=Yt(e),s=Ct(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Gt(e,s,l),t!==null&&(dt(t,e,l,r),kl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=Yt(e),l=Ct(n,r);l.tag=2,t!=null&&(l.callback=t),t=Gt(e,l,r),t!==null&&(dt(t,e,r,n),kl(t,e,r))}};function Ha(e,t,n,r,l,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Rr(n,r)||!Rr(l,s):!0}function jd(e,t,n){var r=!1,l=Xt,s=t.contextType;return typeof s=="object"&&s!==null?s=tt(s):(l=Ue(t)?fn:Le.current,r=t.contextTypes,s=(r=r!=null)?Gn(e,l):Xt),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=us,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ga(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&us.enqueueReplaceState(t,t.state,null)}function To(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Pi(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=tt(s):(s=Ue(t)?fn:Le.current,l.context=Gn(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Do(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&us.enqueueReplaceState(l,l.state,null),Gl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Zn(e,t){try{var n="",r=t;do n+=sm(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function Ws(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Io(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Th=typeof WeakMap=="function"?WeakMap:Map;function Sd(e,t,n){n=Ct(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xl||(Xl=!0,Wo=r),Io(e,t)},n}function kd(e,t,n){n=Ct(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Io(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Io(e,t),typeof r!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Qa(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Th;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Gh.bind(null,e,t,n),t.then(e,e))}function Ya(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ka(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ct(-1,1),t.tag=2,Gt(n,t,1))),n.lanes|=1),e)}var Ih=Dt.ReactCurrentOwner,Ae=!1;function Te(e,t,n,r){t.child=e===null?Jc(t,null,n,r):Yn(t,e.child,n,r)}function Za(e,t,n,r,l){n=n.render;var s=t.ref;return Wn(t,l),r=Ri(e,t,n,r,s,l),n=zi(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(le&&n&&Si(t),t.flags|=1,Te(e,t,r,l),t.child)}function Xa(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!Hi(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Nd(e,t,s,r,l)):(e=Pl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Rr,n(i,r)&&e.ref===t.ref)return Lt(e,t,l)}return t.flags|=1,e=Kt(s,r),e.ref=t.ref,e.return=t,t.child=e}function Nd(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(Rr(s,r)&&e.ref===t.ref)if(Ae=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(Ae=!0);else return t.lanes=e.lanes,Lt(e,t,l)}return Ro(e,t,n,r,l)}function Cd(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(An,$e),$e|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(An,$e),$e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,q(An,$e),$e|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,q(An,$e),$e|=r;return Te(e,t,l,n),t.child}function Ed(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ro(e,t,n,r,l){var s=Ue(n)?fn:Le.current;return s=Gn(t,s),Wn(t,l),n=Ri(e,t,n,r,s,l),r=zi(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(le&&r&&Si(t),t.flags|=1,Te(e,t,n,l),t.child)}function Ja(e,t,n,r,l){if(Ue(n)){var s=!0;Bl(t)}else s=!1;if(Wn(t,l),t.stateNode===null)El(e,t),jd(t,n,r),To(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=tt(c):(c=Ue(n)?fn:Le.current,c=Gn(t,c));var m=n.getDerivedStateFromProps,d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Ga(t,i,r,c),zt=!1;var p=t.memoizedState;i.state=p,Gl(t,r,i,l),u=t.memoizedState,a!==r||p!==u||Oe.current||zt?(typeof m=="function"&&(Do(t,n,m,r),u=t.memoizedState),(a=zt||Ha(t,n,a,r,p,u,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ed(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:st(t.type,a),i.props=c,d=t.pendingProps,p=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=tt(u):(u=Ue(n)?fn:Le.current,u=Gn(t,u));var x=n.getDerivedStateFromProps;(m=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||p!==u)&&Ga(t,i,r,u),zt=!1,p=t.memoizedState,i.state=p,Gl(t,r,i,l);var y=t.memoizedState;a!==d||p!==y||Oe.current||zt?(typeof x=="function"&&(Do(t,n,x,r),y=t.memoizedState),(c=zt||Ha(t,n,c,r,p,y,u)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return zo(e,t,n,r,s,l)}function zo(e,t,n,r,l,s){Ed(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Fa(t,n,!1),Lt(e,t,s);r=t.stateNode,Ih.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Yn(t,e.child,null,s),t.child=Yn(t,null,a,s)):Te(e,t,a,s),t.memoizedState=r.state,l&&Fa(t,n,!0),t.child}function bd(e){var t=e.stateNode;t.pendingContext?Ma(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ma(e,t.context,!1),Li(e,t.containerInfo)}function qa(e,t,n,r,l){return Qn(),Ni(l),t.flags|=256,Te(e,t,n,r),t.child}var Mo={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function _d(e,t,n){var r=t.pendingProps,l=se.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),q(se,l&1),e===null)return Po(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=fs(i,r,0,null),e=un(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fo(n),t.memoizedState=Mo,e):Ai(t,i));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Rh(e,t,i,r,a,l,n);if(s){s=r.fallback,i=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Kt(l,u),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?s=Kt(a,s):(s=un(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Fo(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Mo,r}return s=e.child,e=s.sibling,r=Kt(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ai(e,t){return t=fs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hl(e,t,n,r){return r!==null&&Ni(r),Yn(t,e.child,null,n),e=Ai(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rh(e,t,n,r,l,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Ws(Error(_(422))),hl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=fs({mode:"visible",children:r.children},l,0,null),s=un(s,l,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Yn(t,e.child,null,i),t.child.memoizedState=Fo(i),t.memoizedState=Mo,s);if(!(t.mode&1))return hl(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(_(419)),r=Ws(s,r,void 0),hl(e,t,i,r)}if(a=(i&e.childLanes)!==0,Ae||a){if(r=we,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,Pt(e,l),dt(r,e,l,-1))}return Vi(),r=Ws(Error(_(421))),hl(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Qh.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,We=Ht(l.nextSibling),Ve=t,le=!0,at=null,e!==null&&(Xe[Je++]=kt,Xe[Je++]=Nt,Xe[Je++]=mn,kt=e.id,Nt=e.overflow,mn=t),t=Ai(t,r.children),t.flags|=4096,t)}function eu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lo(e.return,t,n)}function Vs(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function Pd(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(Te(e,t,r.children,n),r=se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eu(e,n,t);else if(e.tag===19)eu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(se,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ql(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Vs(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ql(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Vs(t,!0,n,null,s);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function El(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Kt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zh(e,t,n){switch(t.tag){case 3:bd(t),Qn();break;case 5:td(t);break;case 1:Ue(t.type)&&Bl(t);break;case 4:Li(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;q(Vl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?_d(e,t,n):(q(se,se.current&1),e=Lt(e,t,n),e!==null?e.sibling:null);q(se,se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Pd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),q(se,se.current),r)break;return null;case 22:case 23:return t.lanes=0,Cd(e,t,n)}return Lt(e,t,n)}var Ld,Ao,Dd,Td;Ld=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ao=function(){};Dd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,on(vt.current);var s=null;switch(n){case"input":l=so(e,l),r=so(e,r),s=[];break;case"select":l=ie({},l,{value:void 0}),r=ie({},r,{value:void 0}),s=[];break;case"textarea":l=ao(e,l),r=ao(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ol)}co(n,r);var i;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var a=l[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(br.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(br.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ee("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Td=function(e,t,n,r){n!==r&&(t.flags|=4)};function dr(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Mh(e,t,n){var r=t.pendingProps;switch(ki(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Ue(t.type)&&Ul(),_e(t),null;case 3:return r=t.stateNode,Kn(),te(Oe),te(Le),Ti(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,at!==null&&(Go(at),at=null))),Ao(e,t),_e(t),null;case 5:Di(t);var l=on(Or.current);if(n=t.type,e!==null&&t.stateNode!=null)Dd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return _e(t),null}if(e=on(vt.current),fl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[gt]=t,r[Fr]=s,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(l=0;l<xr.length;l++)ee(xr[l],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":ua(r,s),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ee("invalid",r);break;case"textarea":da(r,s),ee("invalid",r)}co(n,s),l=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&dl(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&dl(r.textContent,a,e),l=["children",""+a]):br.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ee("scroll",r)}switch(n){case"input":rl(r),ca(r,s,!0);break;case"textarea":rl(r),fa(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ol)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[gt]=t,e[Fr]=r,Ld(e,t,!1,!1),t.stateNode=e;e:{switch(i=fo(n,r),n){case"dialog":ee("cancel",e),ee("close",e),l=r;break;case"iframe":case"object":case"embed":ee("load",e),l=r;break;case"video":case"audio":for(l=0;l<xr.length;l++)ee(xr[l],e);l=r;break;case"source":ee("error",e),l=r;break;case"img":case"image":case"link":ee("error",e),ee("load",e),l=r;break;case"details":ee("toggle",e),l=r;break;case"input":ua(e,r),l=so(e,r),ee("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ie({},r,{value:void 0}),ee("invalid",e);break;case"textarea":da(e,r),l=ao(e,r),ee("invalid",e);break;default:l=r}co(n,l),a=l;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?uc(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ic(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&_r(e,u):typeof u=="number"&&_r(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(br.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ee("scroll",e):u!=null&&ai(e,s,u,i))}switch(n){case"input":rl(e),ca(e,r,!1);break;case"textarea":rl(e),fa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zt(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?On(e,!!r.multiple,s,!1):r.defaultValue!=null&&On(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)Td(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=on(Or.current),on(vt.current),fl(t)){if(r=t.stateNode,n=t.memoizedProps,r[gt]=t,(s=r.nodeValue!==n)&&(e=Ve,e!==null))switch(e.tag){case 3:dl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gt]=t,t.stateNode=r}return _e(t),null;case 13:if(te(se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&We!==null&&t.mode&1&&!(t.flags&128))Zc(),Qn(),t.flags|=98560,s=!1;else if(s=fl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(_(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_(317));s[gt]=t}else Qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),s=!1}else at!==null&&(Go(at),at=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?ve===0&&(ve=3):Vi())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return Kn(),Ao(e,t),e===null&&zr(t.stateNode.containerInfo),_e(t),null;case 10:return bi(t.type._context),_e(t),null;case 17:return Ue(t.type)&&Ul(),_e(t),null;case 19:if(te(se),s=t.memoizedState,s===null)return _e(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)dr(s,!1);else{if(ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ql(e),i!==null){for(t.flags|=128,dr(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(se,se.current&1|2),t.child}e=e.sibling}s.tail!==null&&de()>Xn&&(t.flags|=128,r=!0,dr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ql(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),dr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!le)return _e(t),null}else 2*de()-s.renderingStartTime>Xn&&n!==1073741824&&(t.flags|=128,r=!0,dr(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=de(),t.sibling=null,n=se.current,q(se,r?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return Wi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$e&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function Fh(e,t){switch(ki(t),t.tag){case 1:return Ue(t.type)&&Ul(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kn(),te(Oe),te(Le),Ti(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Di(t),null;case 13:if(te(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(se),null;case 4:return Kn(),null;case 10:return bi(t.type._context),null;case 22:case 23:return Wi(),null;case 24:return null;default:return null}}var pl=!1,Pe=!1,Ah=typeof WeakSet=="function"?WeakSet:Set,L=null;function Fn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function Oo(e,t,n){try{n()}catch(r){ue(e,t,r)}}var tu=!1;function Oh(e,t){if(So=Ml,e=Fc(),ji(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,c=0,m=0,d=e,p=null;t:for(;;){for(var x;d!==n||l!==0&&d.nodeType!==3||(a=i+l),d!==s||r!==0&&d.nodeType!==3||(u=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(x=d.firstChild)!==null;)p=d,d=x;for(;;){if(d===e)break t;if(p===n&&++c===l&&(a=i),p===s&&++m===r&&(u=i),(x=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=x}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ko={focusedElem:e,selectionRange:n},Ml=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var j=y.memoizedProps,k=y.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?j:st(t.type,j),k);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(S){ue(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return y=tu,tu=!1,y}function Nr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&Oo(t,n,s)}l=l.next}while(l!==r)}}function cs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Uo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Id(e){var t=e.alternate;t!==null&&(e.alternate=null,Id(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gt],delete t[Fr],delete t[Eo],delete t[jh],delete t[Sh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rd(e){return e.tag===5||e.tag===3||e.tag===4}function nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ol));else if(r!==4&&(e=e.child,e!==null))for(Bo(e,t,n),e=e.sibling;e!==null;)Bo(e,t,n),e=e.sibling}function $o(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($o(e,t,n),e=e.sibling;e!==null;)$o(e,t,n),e=e.sibling}var Ne=null,it=!1;function It(e,t,n){for(n=n.child;n!==null;)zd(e,t,n),n=n.sibling}function zd(e,t,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(ns,n)}catch{}switch(n.tag){case 5:Pe||Fn(n,t);case 6:var r=Ne,l=it;Ne=null,It(e,t,n),Ne=r,it=l,Ne!==null&&(it?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(it?(e=Ne,n=n.stateNode,e.nodeType===8?Fs(e.parentNode,n):e.nodeType===1&&Fs(e,n),Tr(e)):Fs(Ne,n.stateNode));break;case 4:r=Ne,l=it,Ne=n.stateNode.containerInfo,it=!0,It(e,t,n),Ne=r,it=l;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Oo(n,t,i),l=l.next}while(l!==r)}It(e,t,n);break;case 1:if(!Pe&&(Fn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,t,a)}It(e,t,n);break;case 21:It(e,t,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,It(e,t,n),Pe=r):It(e,t,n);break;default:It(e,t,n)}}function ru(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ah),t.forEach(function(r){var l=Yh.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ne=a.stateNode,it=!1;break e;case 3:Ne=a.stateNode.containerInfo,it=!0;break e;case 4:Ne=a.stateNode.containerInfo,it=!0;break e}a=a.return}if(Ne===null)throw Error(_(160));zd(s,i,l),Ne=null,it=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){ue(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Md(t,e),t=t.sibling}function Md(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),ht(e),r&4){try{Nr(3,e,e.return),cs(3,e)}catch(j){ue(e,e.return,j)}try{Nr(5,e,e.return)}catch(j){ue(e,e.return,j)}}break;case 1:lt(t,e),ht(e),r&512&&n!==null&&Fn(n,n.return);break;case 5:if(lt(t,e),ht(e),r&512&&n!==null&&Fn(n,n.return),e.flags&32){var l=e.stateNode;try{_r(l,"")}catch(j){ue(e,e.return,j)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lc(l,s),fo(a,i);var c=fo(a,s);for(i=0;i<u.length;i+=2){var m=u[i],d=u[i+1];m==="style"?uc(l,d):m==="dangerouslySetInnerHTML"?ic(l,d):m==="children"?_r(l,d):ai(l,m,d,c)}switch(a){case"input":oo(l,s);break;case"textarea":sc(l,s);break;case"select":var p=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?On(l,!!s.multiple,x,!1):p!==!!s.multiple&&(s.defaultValue!=null?On(l,!!s.multiple,s.defaultValue,!0):On(l,!!s.multiple,s.multiple?[]:"",!1))}l[Fr]=s}catch(j){ue(e,e.return,j)}}break;case 6:if(lt(t,e),ht(e),r&4){if(e.stateNode===null)throw Error(_(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(j){ue(e,e.return,j)}}break;case 3:if(lt(t,e),ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tr(t.containerInfo)}catch(j){ue(e,e.return,j)}break;case 4:lt(t,e),ht(e);break;case 13:lt(t,e),ht(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Bi=de())),r&4&&ru(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Pe=(c=Pe)||m,lt(t,e),Pe=c):lt(t,e),ht(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for(L=e,m=e.child;m!==null;){for(d=L=m;L!==null;){switch(p=L,x=p.child,p.tag){case 0:case 11:case 14:case 15:Nr(4,p,p.return);break;case 1:Fn(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(j){ue(r,n,j)}}break;case 5:Fn(p,p.return);break;case 22:if(p.memoizedState!==null){su(d);continue}}x!==null?(x.return=p,L=x):su(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{l=d.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ac("display",i))}catch(j){ue(e,e.return,j)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(j){ue(e,e.return,j)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:lt(t,e),ht(e),r&4&&ru(e);break;case 21:break;default:lt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Rd(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(_r(l,""),r.flags&=-33);var s=nu(e);$o(e,s,l);break;case 3:case 4:var i=r.stateNode.containerInfo,a=nu(e);Bo(e,a,i);break;default:throw Error(_(161))}}catch(u){ue(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uh(e,t,n){L=e,Fd(e)}function Fd(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var l=L,s=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||pl;if(!i){var a=l.alternate,u=a!==null&&a.memoizedState!==null||Pe;a=pl;var c=Pe;if(pl=i,(Pe=u)&&!c)for(L=l;L!==null;)i=L,u=i.child,i.tag===22&&i.memoizedState!==null?ou(l):u!==null?(u.return=i,L=u):ou(l);for(;s!==null;)L=s,Fd(s),s=s.sibling;L=l,pl=a,Pe=c}lu(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,L=s):lu(e)}}function lu(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||cs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:st(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&$a(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$a(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&Tr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}Pe||t.flags&512&&Uo(t)}catch(p){ue(t,t.return,p)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function su(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function ou(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cs(4,t)}catch(u){ue(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){ue(t,l,u)}}var s=t.return;try{Uo(t)}catch(u){ue(t,s,u)}break;case 5:var i=t.return;try{Uo(t)}catch(u){ue(t,i,u)}}}catch(u){ue(t,t.return,u)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var Bh=Math.ceil,Zl=Dt.ReactCurrentDispatcher,Oi=Dt.ReactCurrentOwner,et=Dt.ReactCurrentBatchConfig,G=0,we=null,me=null,Ce=0,$e=0,An=qt(0),ve=0,Wr=null,pn=0,ds=0,Ui=0,Cr=null,Fe=null,Bi=0,Xn=1/0,jt=null,Xl=!1,Wo=null,Qt=null,gl=!1,Ut=null,Jl=0,Er=0,Vo=null,bl=-1,_l=0;function Ie(){return G&6?de():bl!==-1?bl:bl=de()}function Yt(e){return e.mode&1?G&2&&Ce!==0?Ce&-Ce:Nh.transition!==null?(_l===0&&(_l=jc()),_l):(e=Z,e!==0||(e=window.event,e=e===void 0?16:_c(e.type)),e):1}function dt(e,t,n,r){if(50<Er)throw Er=0,Vo=null,Error(_(185));Yr(e,n,r),(!(G&2)||e!==we)&&(e===we&&(!(G&2)&&(ds|=n),ve===4&&Ft(e,Ce)),Be(e,r),n===1&&G===0&&!(t.mode&1)&&(Xn=de()+500,is&&en()))}function Be(e,t){var n=e.callbackNode;Nm(e,t);var r=zl(e,e===we?Ce:0);if(r===0)n!==null&&pa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pa(n),t===1)e.tag===0?kh(iu.bind(null,e)):Qc(iu.bind(null,e)),yh(function(){!(G&6)&&en()}),n=null;else{switch(Sc(r)){case 1:n=mi;break;case 4:n=yc;break;case 16:n=Rl;break;case 536870912:n=wc;break;default:n=Rl}n=Hd(n,Ad.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ad(e,t){if(bl=-1,_l=0,G&6)throw Error(_(327));var n=e.callbackNode;if(Vn()&&e.callbackNode!==n)return null;var r=zl(e,e===we?Ce:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ql(e,r);else{t=r;var l=G;G|=2;var s=Ud();(we!==e||Ce!==t)&&(jt=null,Xn=de()+500,an(e,t));do try{Vh();break}catch(a){Od(e,a)}while(!0);Ei(),Zl.current=s,G=l,me!==null?t=0:(we=null,Ce=0,t=ve)}if(t!==0){if(t===2&&(l=xo(e),l!==0&&(r=l,t=Ho(e,l))),t===1)throw n=Wr,an(e,0),Ft(e,r),Be(e,de()),n;if(t===6)Ft(e,r);else{if(l=e.current.alternate,!(r&30)&&!$h(l)&&(t=ql(e,r),t===2&&(s=xo(e),s!==0&&(r=s,t=Ho(e,s))),t===1))throw n=Wr,an(e,0),Ft(e,r),Be(e,de()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:rn(e,Fe,jt);break;case 3:if(Ft(e,r),(r&130023424)===r&&(t=Bi+500-de(),10<t)){if(zl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Co(rn.bind(null,e,Fe,jt),t);break}rn(e,Fe,jt);break;case 4:if(Ft(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-ct(r);s=1<<i,i=t[i],i>l&&(l=i),r&=~s}if(r=l,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bh(r/1960))-r,10<r){e.timeoutHandle=Co(rn.bind(null,e,Fe,jt),r);break}rn(e,Fe,jt);break;case 5:rn(e,Fe,jt);break;default:throw Error(_(329))}}}return Be(e,de()),e.callbackNode===n?Ad.bind(null,e):null}function Ho(e,t){var n=Cr;return e.current.memoizedState.isDehydrated&&(an(e,t).flags|=256),e=ql(e,t),e!==2&&(t=Fe,Fe=n,t!==null&&Go(t)),e}function Go(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function $h(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!ft(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ft(e,t){for(t&=~Ui,t&=~ds,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ct(t),r=1<<n;e[n]=-1,t&=~r}}function iu(e){if(G&6)throw Error(_(327));Vn();var t=zl(e,0);if(!(t&1))return Be(e,de()),null;var n=ql(e,t);if(e.tag!==0&&n===2){var r=xo(e);r!==0&&(t=r,n=Ho(e,r))}if(n===1)throw n=Wr,an(e,0),Ft(e,t),Be(e,de()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rn(e,Fe,jt),Be(e,de()),null}function $i(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(Xn=de()+500,is&&en())}}function gn(e){Ut!==null&&Ut.tag===0&&!(G&6)&&Vn();var t=G;G|=1;var n=et.transition,r=Z;try{if(et.transition=null,Z=1,e)return e()}finally{Z=r,et.transition=n,G=t,!(G&6)&&en()}}function Wi(){$e=An.current,te(An)}function an(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vh(n)),me!==null)for(n=me.return;n!==null;){var r=n;switch(ki(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ul();break;case 3:Kn(),te(Oe),te(Le),Ti();break;case 5:Di(r);break;case 4:Kn();break;case 13:te(se);break;case 19:te(se);break;case 10:bi(r.type._context);break;case 22:case 23:Wi()}n=n.return}if(we=e,me=e=Kt(e.current,null),Ce=$e=t,ve=0,Wr=null,Ui=ds=pn=0,Fe=Cr=null,sn!==null){for(t=0;t<sn.length;t++)if(n=sn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=l,r.next=i}n.pending=r}sn=null}return e}function Od(e,t){do{var n=me;try{if(Ei(),Nl.current=Kl,Yl){for(var r=oe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Yl=!1}if(hn=0,ye=xe=oe=null,kr=!1,Ur=0,Oi.current=null,n===null||n.return===null){ve=1,Wr=t,me=null;break}e:{var s=e,i=n.return,a=n,u=t;if(t=Ce,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,m=a,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=Ya(i);if(x!==null){x.flags&=-257,Ka(x,i,a,s,t),x.mode&1&&Qa(s,c,t),t=x,u=c;var y=t.updateQueue;if(y===null){var j=new Set;j.add(u),t.updateQueue=j}else y.add(u);break e}else{if(!(t&1)){Qa(s,c,t),Vi();break e}u=Error(_(426))}}else if(le&&a.mode&1){var k=Ya(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ka(k,i,a,s,t),Ni(Zn(u,a));break e}}s=u=Zn(u,a),ve!==4&&(ve=2),Cr===null?Cr=[s]:Cr.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=Sd(s,u,t);Ba(s,h);break e;case 1:a=u;var f=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qt===null||!Qt.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=kd(s,a,t);Ba(s,S);break e}}s=s.return}while(s!==null)}$d(n)}catch(w){t=w,me===n&&n!==null&&(me=n=n.return);continue}break}while(!0)}function Ud(){var e=Zl.current;return Zl.current=Kl,e===null?Kl:e}function Vi(){(ve===0||ve===3||ve===2)&&(ve=4),we===null||!(pn&268435455)&&!(ds&268435455)||Ft(we,Ce)}function ql(e,t){var n=G;G|=2;var r=Ud();(we!==e||Ce!==t)&&(jt=null,an(e,t));do try{Wh();break}catch(l){Od(e,l)}while(!0);if(Ei(),G=n,Zl.current=r,me!==null)throw Error(_(261));return we=null,Ce=0,ve}function Wh(){for(;me!==null;)Bd(me)}function Vh(){for(;me!==null&&!pm();)Bd(me)}function Bd(e){var t=Vd(e.alternate,e,$e);e.memoizedProps=e.pendingProps,t===null?$d(e):me=t,Oi.current=null}function $d(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fh(n,t),n!==null){n.flags&=32767,me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ve=6,me=null;return}}else if(n=Mh(n,t,$e),n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);ve===0&&(ve=5)}function rn(e,t,n){var r=Z,l=et.transition;try{et.transition=null,Z=1,Hh(e,t,n,r)}finally{et.transition=l,Z=r}return null}function Hh(e,t,n,r){do Vn();while(Ut!==null);if(G&6)throw Error(_(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Cm(e,s),e===we&&(me=we=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gl||(gl=!0,Hd(Rl,function(){return Vn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=et.transition,et.transition=null;var i=Z;Z=1;var a=G;G|=4,Oi.current=null,Oh(e,n),Md(n,e),dh(ko),Ml=!!So,ko=So=null,e.current=n,Uh(n),gm(),G=a,Z=i,et.transition=s}else e.current=n;if(gl&&(gl=!1,Ut=e,Jl=l),s=e.pendingLanes,s===0&&(Qt=null),ym(n.stateNode),Be(e,de()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Xl)throw Xl=!1,e=Wo,Wo=null,e;return Jl&1&&e.tag!==0&&Vn(),s=e.pendingLanes,s&1?e===Vo?Er++:(Er=0,Vo=e):Er=0,en(),null}function Vn(){if(Ut!==null){var e=Sc(Jl),t=et.transition,n=Z;try{if(et.transition=null,Z=16>e?16:e,Ut===null)var r=!1;else{if(e=Ut,Ut=null,Jl=0,G&6)throw Error(_(331));var l=G;for(G|=4,L=e.current;L!==null;){var s=L,i=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(L=c;L!==null;){var m=L;switch(m.tag){case 0:case 11:case 15:Nr(8,m,s)}var d=m.child;if(d!==null)d.return=m,L=d;else for(;L!==null;){m=L;var p=m.sibling,x=m.return;if(Id(m),m===c){L=null;break}if(p!==null){p.return=x,L=p;break}L=x}}}var y=s.alternate;if(y!==null){var j=y.child;if(j!==null){y.child=null;do{var k=j.sibling;j.sibling=null,j=k}while(j!==null)}}L=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,L=i;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nr(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,L=h;break e}L=s.return}}var f=e.current;for(L=f;L!==null;){i=L;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,L=g;else e:for(i=f;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cs(9,a)}}catch(w){ue(a,a.return,w)}if(a===i){L=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,L=S;break e}L=a.return}}if(G=l,en(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(ns,e)}catch{}r=!0}return r}finally{Z=n,et.transition=t}}return!1}function au(e,t,n){t=Zn(n,t),t=Sd(e,t,1),e=Gt(e,t,1),t=Ie(),e!==null&&(Yr(e,1,t),Be(e,t))}function ue(e,t,n){if(e.tag===3)au(e,e,n);else for(;t!==null;){if(t.tag===3){au(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qt===null||!Qt.has(r))){e=Zn(n,e),e=kd(t,e,1),t=Gt(t,e,1),e=Ie(),t!==null&&(Yr(t,1,e),Be(t,e));break}}t=t.return}}function Gh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,we===e&&(Ce&n)===n&&(ve===4||ve===3&&(Ce&130023424)===Ce&&500>de()-Bi?an(e,0):Ui|=n),Be(e,t)}function Wd(e,t){t===0&&(e.mode&1?(t=ol,ol<<=1,!(ol&130023424)&&(ol=4194304)):t=1);var n=Ie();e=Pt(e,t),e!==null&&(Yr(e,t,n),Be(e,n))}function Qh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wd(e,n)}function Yh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),Wd(e,n)}var Vd;Vd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Ae=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ae=!1,zh(e,t,n);Ae=!!(e.flags&131072)}else Ae=!1,le&&t.flags&1048576&&Yc(t,Wl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;El(e,t),e=t.pendingProps;var l=Gn(t,Le.current);Wn(t,n),l=Ri(null,t,r,e,l,n);var s=zi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(r)?(s=!0,Bl(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Pi(t),l.updater=us,t.stateNode=l,l._reactInternals=t,To(t,r,e,n),t=zo(null,t,r,!0,s,n)):(t.tag=0,le&&s&&Si(t),Te(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(El(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Zh(r),e=st(r,e),l){case 0:t=Ro(null,t,r,e,n);break e;case 1:t=Ja(null,t,r,e,n);break e;case 11:t=Za(null,t,r,e,n);break e;case 14:t=Xa(null,t,r,st(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:st(r,l),Ro(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:st(r,l),Ja(e,t,r,l,n);case 3:e:{if(bd(t),e===null)throw Error(_(387));r=t.pendingProps,s=t.memoizedState,l=s.element,ed(e,t),Gl(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Zn(Error(_(423)),t),t=qa(e,t,r,n,l);break e}else if(r!==l){l=Zn(Error(_(424)),t),t=qa(e,t,r,n,l);break e}else for(We=Ht(t.stateNode.containerInfo.firstChild),Ve=t,le=!0,at=null,n=Jc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qn(),r===l){t=Lt(e,t,n);break e}Te(e,t,r,n)}t=t.child}return t;case 5:return td(t),e===null&&Po(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,No(r,l)?i=null:s!==null&&No(r,s)&&(t.flags|=32),Ed(e,t),Te(e,t,i,n),t.child;case 6:return e===null&&Po(t),null;case 13:return _d(e,t,n);case 4:return Li(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yn(t,null,r,n):Te(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:st(r,l),Za(e,t,r,l,n);case 7:return Te(e,t,t.pendingProps,n),t.child;case 8:return Te(e,t,t.pendingProps.children,n),t.child;case 12:return Te(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,i=l.value,q(Vl,r._currentValue),r._currentValue=i,s!==null)if(ft(s.value,i)){if(s.children===l.children&&!Oe.current){t=Lt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Ct(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Lo(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(_(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Lo(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Te(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Wn(t,n),l=tt(l),r=r(l),t.flags|=1,Te(e,t,r,n),t.child;case 14:return r=t.type,l=st(r,t.pendingProps),l=st(r.type,l),Xa(e,t,r,l,n);case 15:return Nd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:st(r,l),El(e,t),t.tag=1,Ue(r)?(e=!0,Bl(t)):e=!1,Wn(t,n),jd(t,r,l),To(t,r,l,n),zo(null,t,r,!0,e,n);case 19:return Pd(e,t,n);case 22:return Cd(e,t,n)}throw Error(_(156,t.tag))};function Hd(e,t){return vc(e,t)}function Kh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(e,t,n,r){return new Kh(e,t,n,r)}function Hi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zh(e){if(typeof e=="function")return Hi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ci)return 11;if(e===di)return 14}return 2}function Kt(e,t){var n=e.alternate;return n===null?(n=qe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,l,s){var i=2;if(r=e,typeof e=="function")Hi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case _n:return un(n.children,l,s,t);case ui:i=8,l|=8;break;case to:return e=qe(12,n,t,l|2),e.elementType=to,e.lanes=s,e;case no:return e=qe(13,n,t,l),e.elementType=no,e.lanes=s,e;case ro:return e=qe(19,n,t,l),e.elementType=ro,e.lanes=s,e;case tc:return fs(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qu:i=10;break e;case ec:i=9;break e;case ci:i=11;break e;case di:i=14;break e;case Rt:i=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=qe(i,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function un(e,t,n,r){return e=qe(7,e,r,t),e.lanes=n,e}function fs(e,t,n,r){return e=qe(22,e,r,t),e.elementType=tc,e.lanes=n,e.stateNode={isHidden:!1},e}function Hs(e,t,n){return e=qe(6,e,null,t),e.lanes=n,e}function Gs(e,t,n){return t=qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xh(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Es(0),this.expirationTimes=Es(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Es(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Gi(e,t,n,r,l,s,i,a,u){return e=new Xh(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=qe(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(s),e}function Jh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Gd(e){if(!e)return Xt;e=e._reactInternals;e:{if(wn(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(Ue(n))return Gc(e,n,t)}return t}function Qd(e,t,n,r,l,s,i,a,u){return e=Gi(n,r,!0,e,l,s,i,a,u),e.context=Gd(null),n=e.current,r=Ie(),l=Yt(n),s=Ct(r,l),s.callback=t??null,Gt(n,s,l),e.current.lanes=l,Yr(e,l,r),Be(e,r),e}function ms(e,t,n,r){var l=t.current,s=Ie(),i=Yt(l);return n=Gd(n),t.context===null?t.context=n:t.pendingContext=n,t=Ct(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gt(l,t,i),e!==null&&(dt(e,l,i,s),kl(e,l,i)),i}function es(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qi(e,t){uu(e,t),(e=e.alternate)&&uu(e,t)}function qh(){return null}var Yd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yi(e){this._internalRoot=e}hs.prototype.render=Yi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));ms(e,t,null,null)};hs.prototype.unmount=Yi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gn(function(){ms(null,e,null,null)}),t[_t]=null}};function hs(e){this._internalRoot=e}hs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&t!==0&&t<Mt[n].priority;n++);Mt.splice(n,0,e),n===0&&bc(e)}};function Ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ps(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cu(){}function ep(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=es(i);s.call(c)}}var i=Qd(t,r,e,0,null,!1,!1,"",cu);return e._reactRootContainer=i,e[_t]=i.current,zr(e.nodeType===8?e.parentNode:e),gn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var c=es(u);a.call(c)}}var u=Gi(e,0,!1,null,null,!1,!1,"",cu);return e._reactRootContainer=u,e[_t]=u.current,zr(e.nodeType===8?e.parentNode:e),gn(function(){ms(t,u,n,r)}),u}function gs(e,t,n,r,l){var s=n._reactRootContainer;if(s){var i=s;if(typeof l=="function"){var a=l;l=function(){var u=es(i);a.call(u)}}ms(t,i,e,l)}else i=ep(n,t,e,l,r);return es(i)}kc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gr(t.pendingLanes);n!==0&&(hi(t,n|1),Be(t,de()),!(G&6)&&(Xn=de()+500,en()))}break;case 13:gn(function(){var r=Pt(e,1);if(r!==null){var l=Ie();dt(r,e,1,l)}}),Qi(e,1)}};pi=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var n=Ie();dt(t,e,134217728,n)}Qi(e,134217728)}};Nc=function(e){if(e.tag===13){var t=Yt(e),n=Pt(e,t);if(n!==null){var r=Ie();dt(n,e,t,r)}Qi(e,t)}};Cc=function(){return Z};Ec=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};ho=function(e,t,n){switch(t){case"input":if(oo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=os(r);if(!l)throw Error(_(90));rc(r),oo(r,l)}}}break;case"textarea":sc(e,n);break;case"select":t=n.value,t!=null&&On(e,!!n.multiple,t,!1)}};fc=$i;mc=gn;var tp={usingClientEntryPoint:!1,Events:[Zr,Tn,os,cc,dc,$i]},fr={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},np={bundleType:fr.bundleType,version:fr.version,rendererPackageName:fr.rendererPackageName,rendererConfig:fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gc(e),e===null?null:e.stateNode},findFiberByHostInstance:fr.findFiberByHostInstance||qh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{ns=xl.inject(np),xt=xl}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tp;Ge.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ki(t))throw Error(_(200));return Jh(e,t,null,n)};Ge.createRoot=function(e,t){if(!Ki(e))throw Error(_(299));var n=!1,r="",l=Yd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Gi(e,1,!1,null,null,n,!1,r,l),e[_t]=t.current,zr(e.nodeType===8?e.parentNode:e),new Yi(t)};Ge.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=gc(t),e=e===null?null:e.stateNode,e};Ge.flushSync=function(e){return gn(e)};Ge.hydrate=function(e,t,n){if(!ps(t))throw Error(_(200));return gs(null,e,t,!0,n)};Ge.hydrateRoot=function(e,t,n){if(!Ki(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",i=Yd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Qd(t,null,e,1,n??null,l,!1,s,i),e[_t]=t.current,zr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new hs(t)};Ge.render=function(e,t,n){if(!ps(t))throw Error(_(200));return gs(null,e,t,!1,n)};Ge.unmountComponentAtNode=function(e){if(!ps(e))throw Error(_(40));return e._reactRootContainer?(gn(function(){gs(null,null,e,!1,function(){e._reactRootContainer=null,e[_t]=null})}),!0):!1};Ge.unstable_batchedUpdates=$i;Ge.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ps(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return gs(e,t,n,!1,r)};Ge.version="18.3.1-next-f1338f8080-20240426";function Kd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kd)}catch(e){console.error(e)}}Kd(),Ku.exports=Ge;var Zd=Ku.exports,du=Zd;qs.createRoot=du.createRoot,qs.hydrateRoot=du.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vr.apply(this,arguments)}var Bt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bt||(Bt={}));const fu="popstate";function rp(e){e===void 0&&(e={});function t(r,l){let{pathname:s,search:i,hash:a}=r.location;return Qo("",{pathname:s,search:i,hash:a},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Xd(l)}return sp(t,n,null,e)}function he(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lp(){return Math.random().toString(36).substr(2,8)}function mu(e,t){return{usr:e.state,key:e.key,idx:t}}function Qo(e,t,n,r){return n===void 0&&(n=null),Vr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nr(t):t,{state:n,key:t&&t.key||r||lp()})}function Xd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function nr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function sp(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,i=l.history,a=Bt.Pop,u=null,c=m();c==null&&(c=0,i.replaceState(Vr({},i.state,{idx:c}),""));function m(){return(i.state||{idx:null}).idx}function d(){a=Bt.Pop;let k=m(),h=k==null?null:k-c;c=k,u&&u({action:a,location:j.location,delta:h})}function p(k,h){a=Bt.Push;let f=Qo(j.location,k,h);c=m()+1;let g=mu(f,c),S=j.createHref(f);try{i.pushState(g,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;l.location.assign(S)}s&&u&&u({action:a,location:j.location,delta:1})}function x(k,h){a=Bt.Replace;let f=Qo(j.location,k,h);c=m();let g=mu(f,c),S=j.createHref(f);i.replaceState(g,"",S),s&&u&&u({action:a,location:j.location,delta:0})}function y(k){let h=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof k=="string"?k:Xd(k);return f=f.replace(/ $/,"%20"),he(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let j={get action(){return a},get location(){return e(l,i)},listen(k){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(fu,d),u=k,()=>{l.removeEventListener(fu,d),u=null}},createHref(k){return t(l,k)},createURL:y,encodeLocation(k){let h=y(k);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:x,go(k){return i.go(k)}};return j}var hu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hu||(hu={}));function op(e,t,n){return n===void 0&&(n="/"),ip(e,t,n)}function ip(e,t,n,r){let l=typeof t=="string"?nr(t):t,s=ef(l.pathname||"/",n);if(s==null)return null;let i=Jd(e);ap(i);let a=null;for(let u=0;a==null&&u<i.length;++u){let c=wp(s);a=xp(i[u],c)}return a}function Jd(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,i,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};u.relativePath.startsWith("/")&&(he(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=cn([r,u.relativePath]),m=n.concat(u);s.children&&s.children.length>0&&(he(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Jd(s.children,t,m,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:pp(c,s.index),routesMeta:m})};return e.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))l(s,i);else for(let u of qd(s.path))l(s,i,u)}),t}function qd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let i=qd(r.join("/")),a=[];return a.push(...i.map(u=>u===""?s:[s,u].join("/"))),l&&a.push(...i),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function ap(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:gp(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const up=/^:[\w-]+$/,cp=3,dp=2,fp=1,mp=10,hp=-2,pu=e=>e==="*";function pp(e,t){let n=e.split("/"),r=n.length;return n.some(pu)&&(r+=hp),t&&(r+=dp),n.filter(l=>!pu(l)).reduce((l,s)=>l+(up.test(s)?cp:s===""?fp:mp),r)}function gp(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function xp(e,t,n){let{routesMeta:r}=e,l={},s="/",i=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,m=s==="/"?t:t.slice(s.length)||"/",d=vp({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},m),p=u.route;if(!d)return null;Object.assign(l,d.params),i.push({params:l,pathname:cn([s,d.pathname]),pathnameBase:Cp(cn([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=cn([s,d.pathnameBase]))}return i}function vp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yp(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],i=s.replace(/(.)\/+$/,"$1"),a=l.slice(1);return{params:r.reduce((c,m,d)=>{let{paramName:p,isOptional:x}=m;if(p==="*"){let j=a[d]||"";i=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const y=a[d];return x&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:i,pattern:e}}function yp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Zi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function wp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ef(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const jp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sp=e=>jp.test(e);function kp(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?nr(e):e,s;if(n)if(Sp(n))s=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),Zi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?s=gu(n.substring(1),"/"):s=gu(n,t)}else s=t;return{pathname:s,search:Ep(r),hash:bp(l)}}function gu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Qs(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Np(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function tf(e,t){let n=Np(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nf(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=nr(e):(l=Vr({},e),he(!l.pathname||!l.pathname.includes("?"),Qs("?","pathname","search",l)),he(!l.pathname||!l.pathname.includes("#"),Qs("#","pathname","hash",l)),he(!l.search||!l.search.includes("#"),Qs("#","search","hash",l)));let s=e===""||l.pathname==="",i=s?"/":l.pathname,a;if(i==null)a=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),d-=1;l.pathname=p.join("/")}a=d>=0?t[d]:"/"}let u=kp(l,a),c=i&&i!=="/"&&i.endsWith("/"),m=(s||i===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||m)&&(u.pathname+="/"),u}const cn=e=>e.join("/").replace(/\/\/+/g,"/"),Cp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ep=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _p(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rf=["post","put","patch","delete"];new Set(rf);const Pp=["get",...rf];new Set(Pp);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hr.apply(this,arguments)}const Xi=v.createContext(null),Lp=v.createContext(null),Jr=v.createContext(null),xs=v.createContext(null),tn=v.createContext({outlet:null,matches:[],isDataRoute:!1}),lf=v.createContext(null);function qr(){return v.useContext(xs)!=null}function rr(){return qr()||he(!1),v.useContext(xs).location}function sf(e){v.useContext(Jr).static||v.useLayoutEffect(e)}function Me(){let{isDataRoute:e}=v.useContext(tn);return e?Vp():Dp()}function Dp(){qr()||he(!1);let e=v.useContext(Xi),{basename:t,future:n,navigator:r}=v.useContext(Jr),{matches:l}=v.useContext(tn),{pathname:s}=rr(),i=JSON.stringify(tf(l,n.v7_relativeSplatPath)),a=v.useRef(!1);return sf(()=>{a.current=!0}),v.useCallback(function(c,m){if(m===void 0&&(m={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=nf(c,JSON.parse(i),s,m.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:cn([t,d.pathname])),(m.replace?r.replace:r.push)(d,m.state,m)},[t,r,i,s,e])}function Tp(){let{matches:e}=v.useContext(tn),t=e[e.length-1];return t?t.params:{}}function Ip(e,t){return Rp(e,t)}function Rp(e,t,n,r){qr()||he(!1);let{navigator:l}=v.useContext(Jr),{matches:s}=v.useContext(tn),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let c=rr(),m;if(t){var d;let k=typeof t=="string"?nr(t):t;u==="/"||(d=k.pathname)!=null&&d.startsWith(u)||he(!1),m=k}else m=c;let p=m.pathname||"/",x=p;if(u!=="/"){let k=u.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=op(e,{pathname:x}),j=Op(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:cn([u,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:cn([u,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return t&&j?v.createElement(xs.Provider,{value:{location:Hr({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Bt.Pop}},j):j}function zp(){let e=Wp(),t=_p(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:l},n):null,null)}const Mp=v.createElement(zp,null);class Fp extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(tn.Provider,{value:this.props.routeContext},v.createElement(lf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ap(e){let{routeContext:t,match:n,children:r}=e,l=v.useContext(Xi);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(tn.Provider,{value:t},r)}function Op(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(l=n)==null?void 0:l.errors;if(a!=null){let m=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);m>=0||he(!1),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<i.length;m++){let d=i[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=m),d.route.id){let{loaderData:p,errors:x}=n,y=d.route.loader&&p[d.route.id]===void 0&&(!x||x[d.route.id]===void 0);if(d.route.lazy||y){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((m,d,p)=>{let x,y=!1,j=null,k=null;n&&(x=a&&d.route.id?a[d.route.id]:void 0,j=d.route.errorElement||Mp,u&&(c<0&&p===0?(Hp("route-fallback"),y=!0,k=null):c===p&&(y=!0,k=d.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,p+1)),f=()=>{let g;return x?g=j:y?g=k:d.route.Component?g=v.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=m,v.createElement(Ap,{match:d,routeContext:{outlet:m,matches:h,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?v.createElement(Fp,{location:n.location,revalidation:n.revalidation,component:j,error:x,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var of=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(of||{}),af=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(af||{});function Up(e){let t=v.useContext(Xi);return t||he(!1),t}function Bp(e){let t=v.useContext(Lp);return t||he(!1),t}function $p(e){let t=v.useContext(tn);return t||he(!1),t}function uf(e){let t=$p(),n=t.matches[t.matches.length-1];return n.route.id||he(!1),n.route.id}function Wp(){var e;let t=v.useContext(lf),n=Bp(),r=uf();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Vp(){let{router:e}=Up(of.UseNavigateStable),t=uf(af.UseNavigateStable),n=v.useRef(!1);return sf(()=>{n.current=!0}),v.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Hr({fromRouteId:t},s)))},[e,t])}const xu={};function Hp(e,t,n){xu[e]||(xu[e]=!0)}function Gp(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function cf(e){let{to:t,replace:n,state:r,relative:l}=e;qr()||he(!1);let{future:s,static:i}=v.useContext(Jr),{matches:a}=v.useContext(tn),{pathname:u}=rr(),c=Me(),m=nf(t,tf(a,s.v7_relativeSplatPath),u,l==="path"),d=JSON.stringify(m);return v.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:l}),[c,d,l,n,r]),null}function Ze(e){he(!1)}function Qp(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Bt.Pop,navigator:s,static:i=!1,future:a}=e;qr()&&he(!1);let u=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:u,navigator:s,static:i,future:Hr({v7_relativeSplatPath:!1},a)}),[u,a,s,i]);typeof r=="string"&&(r=nr(r));let{pathname:m="/",search:d="",hash:p="",state:x=null,key:y="default"}=r,j=v.useMemo(()=>{let k=ef(m,u);return k==null?null:{location:{pathname:k,search:d,hash:p,state:x,key:y},navigationType:l}},[u,m,d,p,x,y,l]);return j==null?null:v.createElement(Jr.Provider,{value:c},v.createElement(xs.Provider,{children:n,value:j}))}function Yp(e){let{children:t,location:n}=e;return Ip(Yo(t),n)}new Promise(()=>{});function Yo(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,l)=>{if(!v.isValidElement(r))return;let s=[...t,l];if(r.type===v.Fragment){n.push.apply(n,Yo(r.props.children,s));return}r.type!==Ze&&he(!1),!r.props.index||!r.props.children||he(!1);let i={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Yo(r.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Kp="6";try{window.__reactRouterVersion=Kp}catch{}const Zp="startTransition",vu=Gf[Zp];function Xp(e){let{basename:t,children:n,future:r,window:l}=e,s=v.useRef();s.current==null&&(s.current=rp({window:l,v5Compat:!0}));let i=s.current,[a,u]=v.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},m=v.useCallback(d=>{c&&vu?vu(()=>u(d)):u(d)},[u,c]);return v.useLayoutEffect(()=>i.listen(m),[i,m]),v.useEffect(()=>Gp(r),[r]),v.createElement(Qp,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var yu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yu||(yu={}));var wu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wu||(wu={}));const df=v.createContext(void 0);function Jp({children:e}){const[t,n]=v.useState(null),[r,l]=v.useState(!0),s=Me();v.useEffect(()=>{const u=localStorage.getItem("user");if(u)try{n(JSON.parse(u))}catch{localStorage.removeItem("user")}l(!1)},[]);const i=(u,c)=>{localStorage.setItem("user",JSON.stringify(c)),n(c),s("/")},a=()=>{localStorage.removeItem("user"),n(null),s("/auth")};return o.jsx(df.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:r,login:i,logout:a},children:e})}function yt(){const e=v.useContext(df);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const qp="https://script.google.com/macros/s/AKfycbyBK-9iXQ7bXvd26EN4qCz6DT2V_Z9pniGS2qrLaBP7pqXIQ29hGtmnQj2PP2LYCPHf/exec";class e0{getUserEmail(){const t=localStorage.getItem("user");if(!t)return null;try{return JSON.parse(t).email||null}catch{return null}}async request(t,n={}){var i,a,u,c,m;const r=this.getUserEmail(),l={...n.headers||{}},s=r?`&auth=${encodeURIComponent("Email "+r)}`:"";try{const p=await(await fetch(`${qp}?path=${t}${s}`,{...n,headers:l})).json();if(!p.ok){if(((i=p.error)==null?void 0:i.code)==="INVALID_TOKEN"||((a=p.error)==null?void 0:a.code)==="AUTH_REQUIRED"||((u=p.error)==null?void 0:u.code)==="FORBIDDEN"){localStorage.removeItem("user");const x=((c=p.error)==null?void 0:c.message)||"Your account is not authorized to access this application.";throw localStorage.setItem("auth_error",x),window.location.href="/auth",new Error(x)}throw new Error(((m=p.error)==null?void 0:m.message)||"An error occurred")}return p.data}catch(d){throw d instanceof Error?d:new Error("Network error")}}async get(t,n){const r=n?Object.fromEntries(Object.entries(n).filter(([s,i])=>i!==void 0)):void 0,l=r?"&"+new URLSearchParams(r).toString():"";return this.request(`${t}${l}`,{method:"POST"})}async post(t,n){return this.request(t,{method:"POST",body:JSON.stringify(n)})}async put(t,n){return this.request(t,{method:"PUT",body:JSON.stringify(n)})}}const re=new e0,ju={async get(){return re.get("profile/get")},async save(e){return re.post("profile/save",e)}};function t0(e){return new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{const s=r.result.split(",")[1];t(s)},r.onerror=n})}const ff=v.createContext(void 0);let mr=null,Ys=null;function n0({children:e}){const{isAuthenticated:t,isLoading:n}=yt(),[r,l]=v.useState(null),[s,i]=v.useState(!1),[a,u]=v.useState(null),c=async()=>{if(t){i(!0);try{const d=await ju.get();if(l({pseudo:d.pseudo,avatar_url:d.avatar_url}),d.avatar_base64&&d.avatar_url!==Ys)try{const p=`data:image/jpeg;base64,${d.avatar_base64}`;mr&&URL.revokeObjectURL(mr),mr=p,Ys=d.avatar_url,u(p)}catch(p){console.error("Failed to convert avatar to data URL:",p),u(null)}else d.avatar_url===Ys&&mr?u(mr):d.avatar_base64||u(null)}catch(d){console.error("Failed to load profile:",d)}finally{i(!1)}}};v.useEffect(()=>{!n&&t&&c()},[t,n]);const m=async(d,p)=>{try{const x={pseudo:d};if(p){const j=await t0(p);x.avatar=j}const y=await ju.save(x);l({pseudo:y.pseudo,avatar_url:y.avatar_url}),await c()}catch(x){throw console.error("Failed to save profile:",x),x}};return o.jsx(ff.Provider,{value:{profile:r,isLoading:s,saveProfile:m,reloadProfile:c,avatarBlobUrl:a},children:e})}function Ji(){const e=v.useContext(ff);if(!e)throw new Error("useProfile must be used within ProfileProvider");return e}function mf({size:e="md",className:t=""}){const r={sm:{width:16,height:16,border:2},md:{width:32,height:32,border:3},lg:{width:48,height:48,border:4}}[e];return o.jsx("div",{className:`rounded-full animate-spin ${t}`,style:{width:r.width,height:r.height,borderWidth:r.border,borderStyle:"solid",borderColor:"#2563eb",borderTopColor:"transparent"}})}function jn({message:e="Loading..."}){return o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[o.jsx(mf,{size:"lg"}),o.jsx("p",{className:"mt-4 text-gray-600",children:e})]})}function wt({children:e}){const{isAuthenticated:t,isLoading:n}=yt();return n?o.jsx(jn,{message:"Checking authentication..."}):t?o.jsx(o.Fragment,{children:e}):o.jsx(cf,{to:"/auth",replace:!0})}function Y({variant:e="primary",fullWidth:t=!1,className:n="",children:r,...l}){const s="px-6 py-3 rounded-lg font-medium transition-colors touch-manipulation flex items-center justify-center",i={primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 disabled:bg-gray-300",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 active:bg-gray-400 disabled:bg-gray-100",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800 disabled:bg-gray-300"},a=t?"w-full":"";return o.jsx("button",{className:`${s} ${i[e]} ${a} ${n}`,...l,children:r})}const xn={MAX_TEXT_LENGTH:300,MAX_PHOTOS_IN_ASSEMBLY:10,IMAGE_MAX_SIZE_MB:2,TIMEZONE:"Europe/Paris",PDF_POLL_INTERVAL_MS:3e3,INFINITE_SCROLL_THRESHOLD:.8,TARGET_IMAGE_WIDTH_PX:2480,ARTICLES_PER_PAGE:5},hf=["January","February","March","April","May","June","July","August","September","October","November","December"];function r0(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function l0(){const{login:e,isAuthenticated:t}=yt(),n=Me(),[r,l]=v.useState(!1),[s,i]=v.useState(null),[a]=v.useState(r0()),[u,c]=v.useState(!1);v.useEffect(()=>{t&&n("/")},[t,n]),v.useEffect(()=>{const d=localStorage.getItem("auth_error");d&&(i(d),localStorage.removeItem("auth_error"))},[]),v.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,document.body.appendChild(d),()=>{document.body.removeChild(d)}},[]);const m=()=>{var p,x,y;l(!0),i(null);const d=(y=(x=(p=window.google)==null?void 0:p.accounts)==null?void 0:x.oauth2)==null?void 0:y.initTokenClient({client_id:"175845978100-rqclosiat622f3b7ijpg17t2fnrnb522.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",callback:j=>{j.access_token?fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${j.access_token}`}}).then(k=>k.json()).then(k=>{e(j.access_token,{email:k.email,name:k.name}),l(!1)}).catch(()=>{i("Failed to get user information"),l(!1),a&&c(!0)}):(i("Failed to authenticate with Google"),l(!1),a&&c(!0))},error_callback:()=>{i("Google Sign-In failed"),l(!1),a&&c(!0)}});d==null||d.requestAccessToken()};return r?o.jsx(jn,{message:"Signing in..."}):a&&u?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rememly"}),o.jsx("p",{className:"text-gray-600",children:"Family photo journal"})]}),o.jsx("div",{className:"mb-6 w-full max-w-md",children:o.jsxs("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Safari login required"}),o.jsx("p",{className:"text-blue-800 text-sm mb-4",children:"Google sign-in doesn't work in app mode. Please login from Safari:"}),o.jsxs("ol",{className:"text-blue-800 text-sm space-y-2 mb-4 list-decimal list-inside",children:[o.jsx("li",{children:"Open Safari on your iPhone"}),o.jsxs("li",{children:["Go to ",o.jsx("span",{className:"font-mono bg-blue-100 px-1 rounded",children:"grut505.github.io"})]}),o.jsx("li",{children:"Sign in with your Google account"}),o.jsx("li",{children:"Add the app to your home screen again"})]}),o.jsx("p",{className:"text-blue-700 text-xs italic",children:"Important: you must re-add the app to your home screen after signing in from Safari."})]})}),o.jsx(Y,{onClick:()=>{window.location.href="https://grut505.github.io/auth"},className:"w-full max-w-sm",children:"Open in Safari"}),o.jsx("button",{onClick:()=>c(!1),className:"mt-4 text-sm text-gray-600 underline",children:"Try sign-in again"})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rememly"}),o.jsx("p",{className:"text-gray-600",children:"Family photo journal"})]}),s&&o.jsx("div",{className:"mb-6 w-full max-w-sm",children:o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("div",{className:"text-red-600 text-center text-sm",children:s})})}),o.jsx(Y,{onClick:m,className:"w-full max-w-sm",children:s?"Try another account":"Sign in with Google"})]})}const s0={},Su=e=>{let t;const n=new Set,r=(m,d)=>{const p=typeof m=="function"?m(t):m;if(!Object.is(p,t)){const x=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,x))}},l=()=>t,u={setState:r,getState:l,getInitialState:()=>c,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(s0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,l,u);return u},o0=e=>e?Su(e):Su;var pf={exports:{}},gf={},xf={exports:{}},vf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn=v;function i0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var a0=typeof Object.is=="function"?Object.is:i0,u0=Jn.useState,c0=Jn.useEffect,d0=Jn.useLayoutEffect,f0=Jn.useDebugValue;function m0(e,t){var n=t(),r=u0({inst:{value:n,getSnapshot:t}}),l=r[0].inst,s=r[1];return d0(function(){l.value=n,l.getSnapshot=t,Ks(l)&&s({inst:l})},[e,n,t]),c0(function(){return Ks(l)&&s({inst:l}),e(function(){Ks(l)&&s({inst:l})})},[e]),f0(n),n}function Ks(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a0(e,n)}catch{return!0}}function h0(e,t){return t()}var p0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h0:m0;vf.useSyncExternalStore=Jn.useSyncExternalStore!==void 0?Jn.useSyncExternalStore:p0;xf.exports=vf;var g0=xf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vs=v,x0=g0;function v0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var y0=typeof Object.is=="function"?Object.is:v0,w0=x0.useSyncExternalStore,j0=vs.useRef,S0=vs.useEffect,k0=vs.useMemo,N0=vs.useDebugValue;gf.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var s=j0(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=k0(function(){function u(x){if(!c){if(c=!0,m=x,x=r(x),l!==void 0&&i.hasValue){var y=i.value;if(l(y,x))return d=y}return d=x}if(y=d,y0(m,x))return y;var j=r(x);return l!==void 0&&l(y,j)?(m=x,y):(m=x,d=j)}var c=!1,m,d,p=n===void 0?null:n;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,n,r,l]);var a=w0(e,s[0],s[1]);return S0(function(){i.hasValue=!0,i.value=a},[a]),N0(a),a};pf.exports=gf;var C0=pf.exports;const E0=Fu(C0),yf={},{useDebugValue:b0}=si,{useSyncExternalStoreWithSelector:_0}=E0;let ku=!1;const P0=e=>e;function L0(e,t=P0,n){(yf?"production":void 0)!=="production"&&n&&!ku&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ku=!0);const r=_0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return b0(r),r}const Nu=e=>{(yf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?o0(e):e,n=(r,l)=>L0(t,r,l);return Object.assign(n,t),n},qi=e=>e?Nu(e):Nu,Cu={year:"",month:"",from:"",to:"",author:"",statusFilter:"active",sourceFilter:"all"},ot=qi(e=>({articles:[],isLoading:!1,error:null,cursor:null,hasMore:!0,filters:Cu,setArticles:(t,n=null)=>{const r=new Set,l=t.filter(s=>r.has(s.id)?!1:(r.add(s.id),!0));return e({articles:l,cursor:n,hasMore:n!==null})},addArticles:(t,n)=>e(r=>{const l=new Set(r.articles.map(i=>i.id)),s=t.filter(i=>!l.has(i.id));return{articles:[...r.articles,...s],cursor:n,hasMore:n!==null}}),updateArticle:t=>e(n=>({articles:n.articles.map(r=>r.id===t.id?t:r)})),deleteArticle:t=>e(n=>({articles:n.articles.filter(r=>r.id!==t)})),setLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),setFilters:t=>e({filters:t}),reset:()=>e({articles:[],isLoading:!1,error:null,cursor:null,hasMore:!0,filters:Cu})})),ut={list:e=>re.get("articles/list",e),authors:e=>re.get("articles/authors",e),get:e=>re.get("articles/get",{id:e}),create:e=>re.post("articles/create",e),update:e=>re.post("articles/update",e),delete:e=>re.get("articles/delete",{id:e}),permanentDelete:e=>re.get("articles/permanent-delete",{id:e})};function wf({onClick:e,icon:t,className:n=""}){return o.jsx("button",{onClick:e,className:`w-16 h-16 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 active:bg-blue-800 flex items-center justify-center text-3xl touch-manipulation ${n}`,"aria-label":"Create new article",children:t||"+"})}function jf({message:e,onRetry:t,retryLabel:n="Retry"}){return o.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-red-50 border border-red-200 rounded-lg",children:[o.jsx("div",{className:"text-red-600 text-center mb-4",children:e}),t&&o.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:n})]})}function Sf(e){return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Ko(){return new Date().getFullYear()}function kf(e){return new Date(e).toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}function Zs(e){const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`}const Eu=new Map;function D0(e){if(!e)return null;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/thumbnail\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return r[1]}return null}function T0(e,t){const[n,r]=v.useState(""),[l,s]=v.useState(!0),[i,a]=v.useState(!1);return v.useEffect(()=>{if(!e){r(""),s(!1),a(!1);return}if(e.startsWith("data:")||e.startsWith("blob:")){r(e),s(!1),a(!1);return}const u=t||D0(e);if(!u){a(!0),s(!1);return}const c=Eu.get(u);if(c){r(c),s(!1),a(!1);return}s(!0),a(!1),(async()=>{try{const d=await re.get("image/fetch",{fileId:u});if(!d.base64){a(!0),s(!1);return}const p=`data:image/jpeg;base64,${d.base64}`;Eu.set(u,p),r(p),s(!1)}catch{a(!0),s(!1)}})()},[e,t]),{src:n,isLoading:l,error:i}}function vn({isOpen:e,title:t,message:n,confirmLabel:r="Confirm",cancelLabel:l="Cancel",onConfirm:s,onCancel:i,variant:a="primary",isLoading:u=!1,progress:c=null}){return e?Zd.createPortal(o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:i}),o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-2",children:t}),o.jsx("p",{className:"text-gray-600 mb-4",children:n}),c&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[o.jsx("span",{children:"Deleting..."}),o.jsxs("span",{children:[c.current," / ",c.total]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-red-600 h-2.5 rounded-full transition-all duration-200",style:{width:`${c.current/c.total*100}%`}})})]}),!c&&o.jsx("div",{className:"mb-2"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Y,{variant:"secondary",fullWidth:!0,onClick:i,disabled:u,children:l}),o.jsx(Y,{variant:a,fullWidth:!0,onClick:s,disabled:u,children:u?"Deleting...":r})]})]})]}),document.body):null}async function I0(e,t=xn.TARGET_IMAGE_WIDTH_PX){return new Promise((n,r)=>{const l=new FileReader;l.onload=s=>{var a;const i=new Image;i.onload=()=>{const u=document.createElement("canvas");let c=i.width,m=i.height;c>t&&(m=m*t/c,c=t),u.width=c,u.height=m,u.getContext("2d").drawImage(i,0,0,c,m);const p=u.toDataURL("image/jpeg",.85);n(p.split(",")[1])},i.onerror=r,i.src=(a=s.target)==null?void 0:a.result},l.onerror=r,l.readAsDataURL(e)})}function R0(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{const l=r.result.split(",")[1];t(l)},r.onerror=n,r.readAsDataURL(e)})}async function z0(e,t=.9){return new Promise(n=>{e.toBlob(async r=>{if(r){const l=await R0(r);n(l)}},"image/jpeg",t)})}class M0{async processImage(t){const n=await I0(t);return{fileName:t.name,mimeType:"image/jpeg",base64:n}}async processMultipleImages(t){return Promise.all(t.map(n=>this.processImage(n)))}}const bu=new M0;class F0{async createArticle(t,n,r,l,s,i,a){const u=await bu.processImage(r),c={auteur:t,texte:n,image:u,date:l,famileo_post_id:s,assembly_state:i||null,full_page:a||!1};return ut.create(c)}async updateArticle(t,n,r,l,s,i,a){const u={id:t,texte:n,date:l,assembly_state:s,full_page:i,status:a};return r&&(u.image=await bu.processImage(r)),ut.update(u)}async deleteArticle(t){await ut.delete(t)}async restoreArticle(t){return ut.update({id:t,status:"ACTIVE"})}}const Et=new F0;function A0(e){if(!e)return"";if(e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w200`}return e}function O0(e,t){if(t){const r=t.startsWith("blob:")||t.startsWith("data:")?t:A0(t);return o.jsx("img",{src:r,alt:e,className:"w-10 h-10 rounded-full object-cover border-2 border-primary-200 flex-shrink-0"})}const n=e.split(" ").map(r=>r[0]).join("").toUpperCase().substring(0,2);return o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-sm font-semibold text-primary-700",children:n})})}function U0({article:e,onDeleted:t,onRestored:n,selectionMode:r,selected:l,onSelectionChange:s}){const i=Me(),{user:a}=yt(),{profile:u,avatarBlobUrl:c}=Ji(),{src:m,isLoading:d,error:p}=T0(e.image_url,e.image_file_id),[x,y]=v.useState(!1),[j,k]=v.useState(!1),[h,f]=v.useState(!1),[g,S]=v.useState(!1),w=e.status==="DELETED",b=F=>{F.stopPropagation(),i(`/editor/${e.id}`)},C=()=>{i(`/editor/${e.id}`)},E=F=>{F.stopPropagation(),y(!0)},A=async()=>{k(!0);try{await Et.deleteArticle(e.id),y(!1),t==null||t(e.id)}catch(F){console.error("Failed to delete article:",F)}finally{k(!1)}},M=F=>{F.stopPropagation(),f(!0)},Q=async()=>{S(!0);try{await Et.restoreArticle(e.id),f(!1),n==null||n(e.id)}catch(F){console.error("Failed to restore article:",F)}finally{S(!1)}},H=e.author_pseudo||"Unknown",$=(a==null?void 0:a.email)===e.auteur&&c||void 0,U=F=>{F.stopPropagation(),s==null||s(e.id,F.target.checked)};return o.jsxs("div",{className:"px-4 mb-4",children:[o.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border hover:shadow-lg transition-shadow max-w-2xl mx-auto relative z-0 ${w?"border-red-300":l?"border-primary-500 ring-2 ring-primary-200":"border-gray-200"}`,onClick:r?()=>s==null?void 0:s(e.id,!l):void 0,children:[(w||e.famileo_post_id)&&o.jsxs("div",{className:"flex",children:[e.famileo_post_id&&o.jsx("div",{className:"flex-1 bg-purple-500 text-white text-xs font-semibold px-2 py-1 text-center",children:"Famileo"}),w&&o.jsx("div",{className:"flex-1 bg-red-500 text-white text-xs font-semibold px-2 py-1 text-center",children:"Deleted"})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r&&o.jsx("input",{type:"checkbox",checked:l,onChange:U,onClick:F=>F.stopPropagation(),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 flex-shrink-0"}),O0(H,$),o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:H}),o.jsx("span",{className:"text-sm text-gray-500",children:Sf(e.date)})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:b,className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Edit article",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),w?o.jsx("button",{onClick:M,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Restore article",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}):o.jsx("button",{onClick:E,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Delete article",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),o.jsxs("div",{onClick:C,className:"w-full cursor-pointer bg-gray-50 relative",children:[d&&!p&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),p?o.jsxs("div",{className:"p-8 text-center text-gray-500",children:[o.jsx("p",{className:"text-sm",children:"Failed to load image"}),o.jsxs("p",{className:"text-xs mt-1",children:["FileId: ",e.image_file_id]})]}):m&&o.jsx("img",{src:m,alt:"",className:"w-full h-auto object-contain",loading:"lazy"})]}),e.texte&&o.jsx("div",{onClick:C,className:"p-4 transition-colors cursor-pointer hover:bg-gray-50",children:o.jsx("p",{className:"whitespace-pre-wrap text-gray-900",children:e.texte})})]}),o.jsx(vn,{isOpen:x,title:"Delete article?",message:"The article will be marked as deleted. You can find it later by enabling the 'Show deleted' filter.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:A,onCancel:()=>y(!1),variant:"danger",isLoading:j}),o.jsx(vn,{isOpen:h,title:"Restore article?",message:"The article will be restored and visible again in your timeline.",confirmLabel:"Restore",cancelLabel:"Cancel",onConfirm:Q,onCancel:()=>f(!1),isLoading:g})]})}function B0(){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No articles yet"}),o.jsx("p",{className:"text-gray-600",children:"Tap the + button to create your first photo article"})]})}function $0({monthYear:e,count:t}){return o.jsx("div",{className:"bg-gray-100 px-4 pt-3 pb-2 sticky top-[108px] z-10",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:e}),o.jsx("span",{className:"text-xs font-medium text-gray-600 bg-white/80 border border-gray-200 rounded-full px-2 py-0.5",children:t})]})})}function Sn({onMenuClick:e}){const t=Me();return o.jsxs(o.Fragment,{children:[o.jsxs("header",{className:"bg-primary-600 text-white px-4 h-14 flex items-center fixed top-0 left-0 right-0 z-30 shadow-md max-w-content mx-auto",children:[o.jsx("div",{className:"w-10"}),o.jsx("h1",{className:"flex-1 text-xl font-bold leading-none text-center",children:"Rememly"}),o.jsx("div",{className:"relative flex items-center gap-2",children:o.jsx("button",{onClick:()=>t("/settings"),className:"p-2 hover:bg-primary-700 rounded-lg transition-colors touch-manipulation flex items-center justify-center","aria-label":"Settings",children:o.jsxs("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),o.jsx("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})})]}),o.jsx("div",{className:"h-14 flex-shrink-0"})]})}function W0({isOpen:e,onClose:t,title:n,children:r}){return v.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),o.jsxs("div",{className:"relative bg-white rounded-t-2xl sm:rounded-2xl w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] flex flex-col shadow-xl",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 touch-manipulation p-2",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:r})]})]}):null}const Gr=v.forwardRef(({label:e,error:t,className:n="",...r},l)=>o.jsxs("div",{className:"w-full",children:[e&&o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),o.jsx("input",{ref:l,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"border-red-500":"border-gray-300"} ${n}`,...r}),t&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]}));Gr.displayName="Input";const ae={year:"",month:"",dateFrom:"",dateTo:"",author:"",statusFilter:"active",sourceFilter:"all"};function V0({initialFilters:e,onApply:t,onClose:n}){const[r,l]=v.useState((e==null?void 0:e.year)??ae.year),[s,i]=v.useState((e==null?void 0:e.month)??ae.month),[a,u]=v.useState((e==null?void 0:e.dateFrom)??ae.dateFrom),[c,m]=v.useState((e==null?void 0:e.dateTo)??ae.dateTo),[d,p]=v.useState((e==null?void 0:e.author)??ae.author),[x,y]=v.useState((e==null?void 0:e.statusFilter)??ae.statusFilter),[j,k]=v.useState((e==null?void 0:e.sourceFilter)??ae.sourceFilter),[h,f]=v.useState([]),[g,S]=v.useState(!1);v.useEffect(()=>{e&&(l(e.year??ae.year),i(e.month??ae.month),u(e.dateFrom??ae.dateFrom),m(e.dateTo??ae.dateTo),p(e.author??ae.author),y(e.statusFilter??ae.statusFilter),k(e.sourceFilter??ae.sourceFilter))},[e]),v.useEffect(()=>{let C=!0;return(async()=>{S(!0);try{const A=await ut.authors({status_filter:x,source_filter:j});C&&f(A.authors||[])}catch{C&&f([])}finally{C&&S(!1)}})(),()=>{C=!1}},[x,j]);const w=()=>{t({year:r,month:s,dateFrom:a,dateTo:c,author:d,statusFilter:x,sourceFilter:j}),n()},b=()=>{l(ae.year),i(ae.month),u(ae.dateFrom),m(ae.dateTo),p(ae.author),y(ae.statusFilter),k(ae.sourceFilter),t(ae),n()};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-4 space-y-6 overflow-y-auto overscroll-contain",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),o.jsxs("select",{value:r,onChange:C=>{l(C.target.value),C.target.value||i("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All years"}),[...Array(10)].map((C,E)=>{const A=Ko()-E;return o.jsx("option",{value:A,children:A},A)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),o.jsxs("select",{value:s,onChange:C=>i(C.target.value),disabled:!r,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[o.jsx("option",{value:"",children:"All months"}),hf.map((C,E)=>o.jsx("option",{value:(E+1).toString().padStart(2,"0"),children:C},E))]}),!r&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a year first"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author"}),o.jsxs("select",{value:d,onChange:C=>p(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All authors"}),h.map(C=>o.jsx("option",{value:C.email,children:C.pseudo||C.email.split("@")[0]},C.email))]}),g&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading authors..."})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsx(Gr,{type:"date",label:"From",value:a,onChange:C=>{const E=C.target.value;u(E),c&&E&&c<E&&m(E)},max:c||void 0,className:"min-w-0"}),o.jsx(Gr,{type:"date",label:"To",value:c,onChange:C=>{const E=C.target.value;m(E),a&&E&&E<a&&u(E)},min:a||void 0,className:"min-w-0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[o.jsx("button",{type:"button",onClick:()=>y("active"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${x==="active"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Active"}),o.jsx("button",{type:"button",onClick:()=>y("all"),className:`flex-1 px-3 py-2 text-sm font-medium border-x border-gray-300 transition-colors ${x==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"All"}),o.jsx("button",{type:"button",onClick:()=>y("deleted"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${x==="deleted"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Deleted"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source"}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[o.jsx("button",{type:"button",onClick:()=>k("all"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${j==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"All"}),o.jsx("button",{type:"button",onClick:()=>k("famileo"),className:`flex-1 px-3 py-2 text-sm font-medium border-x border-gray-300 transition-colors ${j==="famileo"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Famileo"}),o.jsx("button",{type:"button",onClick:()=>k("local"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${j==="local"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Local"})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 p-4 bg-white sticky bottom-0",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Y,{variant:"secondary",onClick:b,fullWidth:!0,children:"Reset"}),o.jsx(Y,{onClick:w,fullWidth:!0,children:"Apply Filters"})]})})]})})}function Nf({checked:e,onChange:t,label:n,disabled:r=!1}){return o.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${r?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ${e?"bg-primary-600":"bg-gray-300"}`,onClick:()=>!r&&t(!e),children:o.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200 ${e?"translate-x-5":"translate-x-0"}`})}),n&&o.jsx("span",{className:"text-sm text-gray-700 select-none",children:n})]})}function H0(){const e=Me(),{logout:t}=yt(),[n,r]=v.useState(!1),[l,s]=v.useState(!1),[i,a]=v.useState(new Set),[u,c]=v.useState(!1),[m,d]=v.useState(!1),[p,x]=v.useState(!1),[y,j]=v.useState(null),{articles:k,isLoading:h,error:f,cursor:g,hasMore:S,filters:w,setArticles:b,addArticles:C,setLoading:E,setError:A,setFilters:M}=ot(),Q=v.useRef(),H=v.useRef(!1),ne=v.useRef(null),[$,U]=v.useState(!1),[F,pe]=v.useState(!1),[P,D]=v.useState(0),I=v.useRef(null),B=60;v.useEffect(()=>{H.current=h},[h]),v.useEffect(()=>{ne.current=g},[g]);const K=async()=>{E(!0),A(null),console.log("Loading articles with filters:",w);try{const z=await ut.list({year:w.year||void 0,month:w.month,from:w.from,to:w.to,author:w.author,limit:String(xn.ARTICLES_PER_PAGE),status_filter:w.statusFilter||"active",source_filter:w.sourceFilter||"all"});console.log("Received articles:",z.items.length,"cursor:",z.next_cursor),b(z.items,z.next_cursor)}catch(z){A(z instanceof Error?z.message:"Failed to load articles")}finally{E(!1)}},rt=v.useCallback(async()=>{h||(pe(!0),await K(),pe(!1))},[h,K]),je=v.useCallback(async()=>{const z=ne.current;if(!(!z||H.current)){H.current=!0,U(!0),console.log("loadMore called with cursor:",z);try{const O=await ut.list({year:w.year||void 0,month:w.month,from:w.from,to:w.to,author:w.author,cursor:z,limit:String(xn.ARTICLES_PER_PAGE),status_filter:w.statusFilter||"active",source_filter:w.sourceFilter||"all"});console.log("Loaded more articles:",O.items.length,"next cursor:",O.next_cursor),ne.current=O.next_cursor,C(O.items,O.next_cursor)}catch(O){A(O instanceof Error?O.message:"Failed to load more")}finally{H.current=!1,U(!1)}}},[w.year,w.month,w.from,w.to,w.statusFilter,w.sourceFilter,C,A]),ce=v.useCallback(z=>{Q.current&&Q.current.disconnect(),z&&(Q.current=new IntersectionObserver(O=>{O[0].isIntersecting&&!H.current&&ne.current&&(console.log("Sentinel visible, loading more..."),je())},{threshold:1,rootMargin:"0px"}),Q.current.observe(z))},[je]),T=z=>{console.log("Applying filters:",z),b([]),M({year:z.year,month:z.month,from:z.dateFrom,to:z.dateTo,author:z.author,statusFilter:z.statusFilter,sourceFilter:z.sourceFilter})},W=z=>{if(w.statusFilter==="active"||!w.statusFilter)ot.getState().deleteArticle(z);else{const O=k.find(fe=>fe.id===z);O&&ot.getState().updateArticle({...O,status:"DELETED"})}},X=z=>{if(w.statusFilter==="deleted")ot.getState().deleteArticle(z);else{const O=k.find(fe=>fe.id===z);O&&ot.getState().updateArticle({...O,status:"ACTIVE"})}},Se=(z,O)=>{a(fe=>{const mt=new Set(fe);return O?mt.add(z):mt.delete(z),mt})},Ye=()=>{i.size===k.length?a(new Set):a(new Set(k.map(z=>z.id)))},De=()=>{s(!1),a(new Set)},Ke=z=>{s(z),z||a(new Set)},Tt=z=>{var fe;(((fe=document.scrollingElement)==null?void 0:fe.scrollTop)??window.scrollY)<=0&&!F&&!h&&(I.current=z.touches[0].clientY)},lr=z=>{var mt;if(I.current===null||F||h)return;if((((mt=document.scrollingElement)==null?void 0:mt.scrollTop)??window.scrollY)>0){D(0),I.current=null;return}const fe=z.touches[0].clientY-I.current;fe>0?D(Math.min(fe,80)):D(0)},kn=()=>{P>=B&&!F&&!h&&rt(),D(0),I.current=null},N=async()=>{c(!0);const z=Array.from(i);j({current:0,total:z.length});try{for(let O=0;O<z.length;O++)await Et.deleteArticle(z[O]),j({current:O+1,total:z.length});w.statusFilter==="active"||!w.statusFilter?i.forEach(O=>ot.getState().deleteArticle(O)):i.forEach(O=>{const fe=k.find(mt=>mt.id===O);fe&&ot.getState().updateArticle({...fe,status:"DELETED"})}),De()}catch(O){console.error("Bulk delete failed:",O)}finally{c(!1),j(null),d(!1)}},R=async()=>{c(!0);const z=Array.from(i);j({current:0,total:z.length});try{for(let O=0;O<z.length;O++)await ut.permanentDelete(z[O]),j({current:O+1,total:z.length});i.forEach(O=>ot.getState().deleteArticle(O)),De()}catch(O){console.error("Bulk permanent delete failed:",O)}finally{c(!1),j(null),x(!1)}},J=w.statusFilter==="deleted",ke=k.reduce((z,O)=>{const fe=Zs(O.date);return z[fe]=(z[fe]||0)+1,z},{}),ge=k.length,Nn=S?`${ge}+`:`${ge}`,ta=w.year||w.month||w.from||w.to||w.author||w.statusFilter&&w.statusFilter!=="active"||w.sourceFilter&&w.sourceFilter!=="all",bf={year:w.year||"",month:w.month||"",dateFrom:w.from||"",dateTo:w.to||"",author:w.author||"",statusFilter:w.statusFilter||"active",sourceFilter:w.sourceFilter||"all"};return v.useEffect(()=>{console.log("Filters changed, reloading articles:",w),K()},[w.year,w.month,w.from,w.to,w.author,w.statusFilter,w.sourceFilter]),h&&k.length===0?o.jsx(jn,{message:"Loading articles..."}):f&&k.length===0?o.jsx("div",{className:"h-full flex items-center justify-center p-6",children:o.jsx(jf,{message:f,onRetry:K})}):o.jsxs("div",{className:"min-h-screen flex flex-col",onTouchStart:Tt,onTouchMove:lr,onTouchEnd:kn,children:[o.jsx(Sn,{}),o.jsxs("div",{className:"bg-white border-b border-gray-300 px-4 py-3 flex items-center justify-between fixed top-[56px] left-0 right-0 z-[25] max-w-content mx-auto",children:[o.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 truncate",children:l?`${i.size} selected`:w.year||"All years"}),!l&&o.jsx("span",{className:"text-xs font-medium text-gray-600 bg-white border border-gray-200 rounded-full px-2 py-0.5",children:Nn})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[l?o.jsx("button",{onClick:Ye,className:"text-primary-600 hover:text-primary-700 touch-manipulation text-sm font-medium",children:i.size===k.length?"Deselect all":"Select all"}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:rt,className:"text-primary-600 hover:text-primary-700 touch-manipulation text-sm font-medium flex items-center gap-2 hidden sm:flex",children:[o.jsx("svg",{className:`w-4 h-4 ${F?"animate-spin":""}`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),o.jsxs("button",{onClick:()=>r(!0),className:`touch-manipulation flex items-center gap-2 ${ta?"text-white bg-primary-600 hover:bg-primary-700 px-3 py-1.5 rounded-lg font-medium":"text-primary-600 hover:text-primary-700"}`,children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filter",ta&&o.jsx("span",{className:"ml-1 bg-white text-primary-600 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:"!"})]})]}),k.length>0&&o.jsx(Nf,{checked:l,onChange:Ke,label:"Select"})]})]}),o.jsx("div",{className:"h-[36px]"}),o.jsxs("div",{className:"flex-1 pb-20",children:[(P>0||F)&&o.jsx("div",{className:"flex items-center justify-center",style:{height:`${Math.max(P,64)}px`},children:o.jsxs("div",{className:"flex items-center gap-3 bg-white/80 backdrop-blur px-3 py-2 rounded-full shadow-sm border border-gray-200",children:[o.jsxs("div",{className:"relative w-6 h-6",children:[o.jsx("svg",{className:"absolute inset-0 w-6 h-6 text-gray-200",viewBox:"0 0 36 36",children:o.jsx("path",{d:`M18 2.0845
                       a 15.9155 15.9155 0 0 1 0 31.831
                       a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"currentColor",strokeWidth:"3"})}),o.jsx("svg",{className:`absolute inset-0 w-6 h-6 ${F?"animate-spin text-primary-600":"text-primary-600"}`,viewBox:"0 0 36 36",style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%",strokeDasharray:`${Math.min(100,P/B*100)}, 100`,transition:"stroke-dasharray 120ms ease"},children:o.jsx("path",{d:`M18 2.0845
                       a 15.9155 15.9155 0 0 1 0 31.831
                       a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})}),o.jsxs("div",{className:`absolute inset-0 flex items-center justify-center transition-transform ${P>=B?"rotate-180":""}`,children:[o.jsx("svg",{className:`w-3.5 h-3.5 ${F?"hidden":"block"} text-primary-700`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 5v14m0 0l-5-5m5 5l5-5"})}),o.jsx("svg",{className:`w-3.5 h-3.5 ${F?"block":"hidden"} text-primary-700`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})]})]}),o.jsx("span",{className:"text-xs text-gray-600",children:F?"Refreshing...":P>=B?"Release to refresh":"Pull to refresh"})]})}),k.length===0?o.jsx(B0,{}):o.jsxs(o.Fragment,{children:[k.map((z,O)=>{const fe=Zs(z.date),mt=O>0?Zs(k[O-1].date):null,na=fe!==mt;return o.jsxs(v.Fragment,{children:[na&&o.jsx($0,{monthYear:kf(z.date),count:ke[fe]||0}),o.jsx("div",{className:`relative z-0 ${na?"pt-8":""}`,children:o.jsx(U0,{article:z,onDeleted:W,onRestored:X,selectionMode:l,selected:i.has(z.id),onSelectionChange:Se})})]},z.id)}),S&&!$&&o.jsx("div",{ref:ce,className:"h-4"})]})]}),$&&o.jsx("div",{className:"fixed bottom-24 left-0 right-0 flex justify-center z-50",children:o.jsx("div",{className:"bg-gray-100 shadow-lg rounded-full p-3 border border-gray-200",children:o.jsx(mf,{})})}),l&&i.size>0&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 z-50 shadow-lg",children:o.jsxs("div",{className:"max-w-content mx-auto flex items-center justify-between gap-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[i.size," article",i.size>1?"s":""," selected"]}),o.jsx("div",{className:"flex gap-2",children:J?o.jsx("button",{onClick:()=>x(!0),disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 font-medium",children:u?"Deleting...":"Delete permanently"}):o.jsx("button",{onClick:()=>d(!0),disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 font-medium",children:u?"Deleting...":"Delete"})})]})}),!l&&o.jsx("div",{className:"fixed bottom-28 left-0 right-0 z-50",children:o.jsx("div",{className:"max-w-content mx-auto px-4 flex justify-end",children:o.jsx(wf,{onClick:()=>e("/editor"),className:"bg-primary-600 hover:bg-primary-700 active:bg-primary-800 transition-all hover:scale-105 active:scale-95",icon:o.jsx("svg",{className:"w-8 h-8",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 4v16m8-8H4"})})})})}),o.jsx(vn,{isOpen:m,title:"Delete articles?",message:`${i.size} article${i.size>1?"s":""} will be marked as deleted. You can find them later by enabling the 'Show deleted' filter.`,confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:N,onCancel:()=>d(!1),variant:"danger",isLoading:u,progress:y}),o.jsx(vn,{isOpen:p,title:"Permanently delete articles?",message:` WARNING: ${i.size} article${i.size>1?"s":""} will be permanently removed from the database. This action cannot be undone!`,confirmLabel:"Delete permanently",cancelLabel:"Cancel",onConfirm:R,onCancel:()=>x(!1),variant:"danger",isLoading:u,progress:y}),o.jsx(W0,{isOpen:n,onClose:()=>r(!1),title:"Filters",children:o.jsx(V0,{initialFilters:bf,onApply:T,onClose:()=>r(!1)})})]})}const Zo=(e,t)=>t.some(n=>e instanceof n);let _u,Pu;function G0(){return _u||(_u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q0(){return Pu||(Pu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xo=new WeakMap,Xs=new WeakMap,ys=new WeakMap;function Y0(e){const t=new Promise((n,r)=>{const l=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(dn(e.result)),l()},i=()=>{r(e.error),l()};e.addEventListener("success",s),e.addEventListener("error",i)});return ys.set(t,e),t}function K0(e){if(Xo.has(e))return;const t=new Promise((n,r)=>{const l=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),l()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Xo.set(e,t)}let Jo={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Xo.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Cf(e){Jo=e(Jo)}function Z0(e){return Q0().includes(e)?function(...t){return e.apply(qo(this),t),dn(this.request)}:function(...t){return dn(e.apply(qo(this),t))}}function X0(e){return typeof e=="function"?Z0(e):(e instanceof IDBTransaction&&K0(e),Zo(e,G0())?new Proxy(e,Jo):e)}function dn(e){if(e instanceof IDBRequest)return Y0(e);if(Xs.has(e))return Xs.get(e);const t=X0(e);return t!==e&&(Xs.set(e,t),ys.set(t,e)),t}const qo=e=>ys.get(e);function J0(e,t,{blocked:n,upgrade:r,blocking:l,terminated:s}={}){const i=indexedDB.open(e,t),a=dn(i);return r&&i.addEventListener("upgradeneeded",u=>{r(dn(i.result),u.oldVersion,u.newVersion,dn(i.transaction),u)}),n&&i.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),l&&u.addEventListener("versionchange",c=>l(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const q0=["get","getKey","getAll","getAllKeys","count"],eg=["put","add","delete","clear"],Js=new Map;function Lu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Js.get(t))return Js.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=eg.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||q0.includes(n)))return;const s=async function(i,...a){const u=this.transaction(i,l?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),l&&u.done]))[0]};return Js.set(t,s),s}Cf(e=>({...e,get:(t,n,r)=>Lu(t,n)||e.get(t,n,r),has:(t,n)=>!!Lu(t,n)||e.has(t,n)}));const tg=["continue","continuePrimaryKey","advance"],Du={},ei=new WeakMap,Ef=new WeakMap,ng={get(e,t){if(!tg.includes(t))return e[t];let n=Du[t];return n||(n=Du[t]=function(...r){ei.set(this,Ef.get(this)[t](...r))}),n}};async function*rg(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,ng);for(Ef.set(n,t),ys.set(n,qo(t));t;)yield n,t=await(ei.get(n)||t.continue()),ei.delete(n)}function Tu(e,t){return t===Symbol.asyncIterator&&Zo(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Zo(e,[IDBIndex,IDBObjectStore])}Cf(e=>({...e,get(t,n,r){return Tu(t,n)?rg:e.get(t,n,r)},has(t,n){return Tu(t,n)||e.has(t,n)}}));class lg{constructor(){ws(this,"dbPromise");this.dbPromise=J0("rememly-db",1,{upgrade(t){t.objectStoreNames.contains("drafts")||t.createObjectStore("drafts",{keyPath:"id"}),t.objectStoreNames.contains("assemblyStates")||t.createObjectStore("assemblyStates",{keyPath:"articleId"})}})}async saveDraft(t){await(await this.dbPromise).put("drafts",{...t,timestamp:Date.now()})}async getDraft(t){return(await this.dbPromise).get("drafts",t)}async deleteDraft(t){await(await this.dbPromise).delete("drafts",t)}async saveAssemblyState(t,n){await(await this.dbPromise).put("assemblyStates",{articleId:t,state:n,timestamp:Date.now()})}async getAssemblyState(t){const r=await(await this.dbPromise).get("assemblyStates",t);return r==null?void 0:r.state}async deleteAssemblyState(t){await(await this.dbPromise).delete("assemblyStates",t)}}const sg=new lg,el=qi(e=>({toast:null,showToast:(t,n)=>{e({toast:{message:t,type:n}}),setTimeout(()=>e({toast:null}),3e3)},hideToast:()=>e({toast:null})}));function og(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}async function ig(e){return new Promise(t=>{const n=new FileReader;n.onload=r=>{var l,s;try{const i=new DataView((l=r.target)==null?void 0:l.result);if(i.getUint16(0,!1)!==65496){t(null);return}let a=2;const u=i.byteLength;for(;a<u;){if(i.getUint8(a)!==255){t(null);return}if(i.getUint8(a+1)===225){const m=i.getUint16(a+2,!1),d=new DataView((s=r.target)==null?void 0:s.result,a+4,m-2);if(String.fromCharCode(d.getUint8(0),d.getUint8(1),d.getUint8(2),d.getUint8(3))!=="Exif"){t(null);return}const x=6,y=d.getUint16(x,!1)===18761,j=d.getUint32(x+4,y),k=d.getUint16(x+j,y);for(let h=0;h<k;h++){const f=x+j+2+h*12,g=d.getUint16(f,y);if(g===34665){const S=d.getUint32(f+8,y),w=d.getUint16(x+S,y);for(let b=0;b<w;b++){const C=x+S+2+b*12,E=d.getUint16(C,y);if(E===36867||E===36868){const A=d.getUint32(C+8,y);let M="";for(let ne=0;ne<19;ne++)M+=String.fromCharCode(d.getUint8(x+A+ne));const Q=M.replace(/^(\d{4}):(\d{2}):(\d{2})/,"$1-$2-$3"),H=new Date(Q);if(!isNaN(H.getTime())){t(H);return}}}}if(g===306){const S=d.getUint32(f+8,y);let w="";for(let E=0;E<19;E++)w+=String.fromCharCode(d.getUint8(x+S+E));const b=w.replace(/^(\d{4}):(\d{2}):(\d{2})/,"$1-$2-$3"),C=new Date(b);if(!isNaN(C.getTime())){t(C);return}}}t(null);return}a+=2+i.getUint16(a+2,!1)}t(null)}catch{t(null)}},n.onerror=()=>t(null),n.readAsArrayBuffer(e)})}function ag(e){if(!e)return console.warn("Empty image URL provided to PhotoPicker"),"";if(e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([^\/]+)/,/drive\.google\.com\/uc\?.*[&?]id=([^&]+)/,/drive\.google\.com\/open\?.*[&?]id=([^&]+)/,/lh3\.googleusercontent\.com\/d\/([^?&]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w2000`}return e}function ug({onPhotoSelected:e,currentImage:t}){const n=v.useRef(null),r=v.useRef(null),l=v.useRef(null),s=v.useRef(null),[i,a]=v.useState(!1),[u,c]=v.useState(!1),[m,d]=v.useState(null),p=og();v.useEffect(()=>()=>{m&&m.getTracks().forEach(f=>f.stop())},[m]);const x=async f=>{var S;const g=(S=f.target.files)==null?void 0:S[0];if(g){const w=await ig(g);e(g,w||void 0),a(!1)}f.target.value=""},y=v.useCallback(async()=>{var f,g;if(p)(f=n.current)==null||f.click();else try{const S=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:720}}});d(S),c(!0),setTimeout(()=>{l.current&&(l.current.srcObject=S)},100)}catch(S){console.error("Error accessing webcam:",S),(g=n.current)==null||g.click()}},[p]),j=v.useCallback(()=>{if(l.current&&s.current){const f=l.current,g=s.current;g.width=f.videoWidth,g.height=f.videoHeight;const S=g.getContext("2d");S&&(S.drawImage(f,0,0),g.toBlob(async w=>{if(w){const b=new File([w],`webcam-${Date.now()}.jpg`,{type:"image/jpeg"});e(b,new Date),k(),a(!1)}},"image/jpeg",.9))}},[e]),k=v.useCallback(()=>{m&&(m.getTracks().forEach(f=>f.stop()),d(null)),c(!1)},[m]),h=()=>{var f;(f=r.current)==null||f.click()};return u?o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[o.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-auto max-h-[50vh] object-contain"}),o.jsx("canvas",{ref:s,className:"hidden"})]}),o.jsxs("div",{className:"mt-4 flex gap-2",children:[o.jsx(Y,{onClick:j,fullWidth:!0,children:"Capture"}),o.jsx(Y,{variant:"secondary",onClick:k,fullWidth:!0,children:"Cancel"})]})]}):o.jsxs("div",{className:"w-full",children:[o.jsx("input",{ref:n,type:"file",accept:"image/*",capture:"environment",onChange:x,className:"hidden"}),o.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:x,className:"hidden"}),t?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:ag(t),alt:"Selected",className:"w-full h-auto rounded-lg max-h-[40vh] object-contain"}),o.jsxs("div",{className:"mt-4 flex gap-2",children:[o.jsx(Y,{variant:"secondary",fullWidth:!0,onClick:y,children:"Take Photo"}),o.jsx(Y,{variant:"secondary",fullWidth:!0,onClick:h,children:"Gallery"})]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"text-4xl mb-2",children:""}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Add a photo"}),i?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Y,{onClick:y,fullWidth:!0,children:"Take Photo"}),o.jsx(Y,{variant:"secondary",onClick:h,fullWidth:!0,children:"Choose from Gallery"}),o.jsx("button",{onClick:()=>a(!1),className:"text-sm text-gray-500 mt-2",children:"Cancel"})]}):o.jsx(Y,{onClick:()=>a(!0),children:"Select Photo"})]})]})}function cg({value:e,onChange:t}){const n=l=>{const s=l.target.value;s.length<=xn.MAX_TEXT_LENGTH&&t(s)},r=xn.MAX_TEXT_LENGTH-e.length;return o.jsxs("div",{className:"w-full",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text (optional)"}),o.jsx("textarea",{value:e,onChange:n,placeholder:"Add a description...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4}),o.jsxs("div",{className:"mt-1 text-sm text-gray-500 text-right",children:[r," characters remaining"]})]})}function dg({value:e,onChange:t}){const n=s=>{const i=new Date(s),a=i.getFullYear(),u=String(i.getMonth()+1).padStart(2,"0"),c=String(i.getDate()).padStart(2,"0"),m=String(i.getHours()).padStart(2,"0"),d=String(i.getMinutes()).padStart(2,"0");return`${a}-${u}-${c}T${m}:${d}`},r=s=>new Date(s).toISOString(),l=s=>{t(r(s.target.value))};return o.jsxs("div",{className:"space-y-2 overflow-hidden",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date and time"}),o.jsx("input",{type:"datetime-local",value:n(e),onChange:l,className:"w-full min-w-0 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent box-border text-base",style:{maxWidth:"100%"}})]})}function Iu(){const{id:e}=Tp(),t=Me(),n=rr(),{user:r}=yt(),{updateArticle:l,deleteArticle:s}=ot(),{showToast:i}=el(),[a,u]=v.useState(""),[c,m]=v.useState(new Date().toISOString()),[d,p]=v.useState(null),[x,y]=v.useState(""),[j,k]=v.useState(!1),[h,f]=v.useState(!1),[g,S]=v.useState(!1),[w,b]=v.useState("ACTIVE"),C=!!e,E=w==="DELETED";v.useEffect(()=>{const $=n.state;if($!=null&&$.famileoImport){const{text:U,date:F,imageBase64:pe,imageMimeType:P}=$.famileoImport;u(U);const D=new Date(F.replace(" ","T"));if(isNaN(D.getTime())||m(D.toISOString()),pe){const I=`data:${P};base64,${pe}`;y(I),fetch(I).then(B=>B.blob()).then(B=>{const K=new File([B],"famileo-import.jpg",{type:P});p(K)})}window.history.replaceState({},document.title)}},[n.state]),v.useEffect(()=>{C&&A()},[e]);const A=async()=>{if(e){k(!0);try{const $=await ut.get(e);u($.texte),m($.date),y($.image_url),b($.status||"ACTIVE")}catch{i("Failed to load article","error"),t("/")}finally{k(!1)}}},M=($,U)=>{p($);const F=URL.createObjectURL($);y(F),U&&!C&&m(U.toISOString())},Q=async()=>{if(!d&&!C){i("Please select a photo","error");return}if(r){f(!0);try{if(C&&e){const $=E?"ACTIVE":void 0,U=await Et.updateArticle(e,a,d||void 0,c,void 0,void 0,$);l(U),i(E?"Article restored":"Article updated","success")}else d&&(await Et.createArticle(r.email,a,d,c),i("Article created","success"));await sg.deleteDraft(e||"new"),t("/")}catch($){i($ instanceof Error?$.message:"Failed to save article","error")}finally{f(!1)}}},H=()=>{x&&x.startsWith("blob:")&&URL.revokeObjectURL(x),t("/")},ne=async()=>{if(e){f(!0);try{console.log("Deleting article:",e);const $=await Et.deleteArticle(e);console.log("Delete result:",$),s(e),i("Article deleted","success"),t("/")}catch($){console.error("Delete error:",$),i($ instanceof Error?$.message:"Failed to delete article","error")}finally{f(!1),S(!1)}}};return j?o.jsx(jn,{message:"Loading article..."}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(Sn,{}),o.jsxs("div",{className:"flex-1 flex flex-col max-w-content mx-auto w-full bg-white",children:[o.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between flex-shrink-0",children:[o.jsx("button",{onClick:H,className:"text-gray-600 touch-manipulation",disabled:h,children:" Back"}),o.jsx("h1",{className:"text-lg font-semibold",children:C?"Edit Article":"New Article"}),o.jsx("div",{className:"w-12"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 space-y-6 pb-4",children:[o.jsx(ug,{onPhotoSelected:M,currentImage:x}),o.jsx(cg,{value:a,onChange:u}),o.jsx(dg,{value:c,onChange:m})]}),o.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2 flex-shrink-0",children:[o.jsx(Y,{onClick:Q,disabled:h||!d&&!C,fullWidth:!0,children:h?"Saving...":E?"Save and restore":C?"Update":"Create"}),o.jsx(Y,{variant:"secondary",onClick:()=>t("/photo-assembly",{state:{editMode:C,articleId:e,texte:a,dateModification:c}}),disabled:h,fullWidth:!0,children:"Use Photo Assembly"}),C&&!E&&o.jsx(Y,{variant:"danger",onClick:()=>S(!0),disabled:h,fullWidth:!0,children:"Delete Article"}),o.jsx(Y,{variant:"secondary",onClick:H,disabled:h,fullWidth:!0,children:"Cancel"})]}),o.jsx(vn,{isOpen:g,title:"Delete Article",message:"Are you sure you want to delete this article? This action cannot be undone.",confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",isLoading:h,onConfirm:ne,onCancel:()=>S(!1)})]})]})}function fg(){const e=Me(),t=ot(x=>x.setFilters),[n,r]=v.useState(!0),[l,s]=v.useState(null),[i,a]=v.useState([]),[u,c]=v.useState(Ko());v.useEffect(()=>{m()},[]);const m=async()=>{r(!0),s(null);try{const x=await ut.list({limit:"1000",status_filter:"all"}),y=new Map;x.items.forEach(k=>{const h=new Date(k.date),f=h.getFullYear(),g=h.getMonth(),S=k.status==="DELETED"?"deleted":"active";y.has(f)||y.set(f,{total:0,active:0,deleted:0,monthMap:new Map});const w=y.get(f);w.total+=1,w[S]+=1,w.monthMap.has(g)||w.monthMap.set(g,{total:0,active:0,deleted:0});const b=w.monthMap.get(g);b.total+=1,b[S]+=1});const j=Array.from(y.entries()).map(([k,h])=>({year:k,total:h.total,active:h.active,deleted:h.deleted,months:Array.from(h.monthMap.entries()).map(([f,g])=>({monthIndex:f,monthName:hf[f],total:g.total,active:g.active,deleted:g.deleted})).sort((f,g)=>f.monthIndex-g.monthIndex)})).sort((k,h)=>h.year-k.year);if(a(j),j.length>0){const k=Ko(),h=j.some(f=>f.year===k);c(h?k:j[0].year)}}catch(x){s(x instanceof Error?x.message:"Failed to load statistics")}finally{r(!1)}},d=(x,y="active")=>{t({year:String(x),month:"",from:"",to:"",statusFilter:y,sourceFilter:"all"}),e("/")},p=(x,y,j="active")=>{t({year:String(x),month:String(y+1).padStart(2,"0"),from:"",to:"",statusFilter:j,sourceFilter:"all"}),e("/")};return n?o.jsx(jn,{message:"Loading statistics..."}):l?o.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:o.jsx(jf,{message:l,onRetry:m})}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(Sn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Statistics"})]})}),o.jsx("div",{className:"flex-1 p-4 pb-20",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Year breakdown"}),o.jsxs("div",{className:"space-y-3",children:[i.map(x=>{const y=u===x.year;return o.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-gray-50",children:[o.jsxs("div",{role:"button",tabIndex:0,onClick:()=>c(y?null:x.year),onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&c(y?null:x.year)},className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-base font-semibold text-gray-900",children:x.year}),o.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[x.total," total  ",x.active," active  ",x.deleted," deleted"]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:()=>d(x.year,"active"),className:"text-xs font-medium text-primary-600 hover:text-primary-700",children:"View active"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>d(x.year,"deleted"),className:"text-xs font-medium text-red-600 hover:text-red-700",children:"View deleted"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>c(y?null:x.year),className:"text-xs font-medium text-gray-600 hover:text-gray-800",children:y?"Hide months":"Show months"})]})]}),y&&o.jsx("div",{className:"px-4 pb-3",children:o.jsxs("div",{className:"mt-2 space-y-2",children:[x.months.map(j=>o.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-900",children:j.monthName}),o.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[j.total," total  ",j.active," active  ",j.deleted," deleted"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>p(x.year,j.monthIndex,"active"),className:"text-xs font-medium text-primary-600 hover:text-primary-700",children:"View active"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>p(x.year,j.monthIndex,"deleted"),className:"text-xs font-medium text-red-600 hover:text-red-700",children:"View deleted"})]})]},`${x.year}-${j.monthIndex}`)),x.months.length===0&&o.jsx("div",{className:"text-sm text-gray-500",children:"No months found"})]})})]},x.year)}),i.length===0&&o.jsx("div",{className:"text-sm text-gray-500",children:"No statistics available"})]})]})})]})}const Ll=[{id:"2x1-vertical",name:"21 Vertical",zones:[{x:0,y:0,width:100,height:50},{x:0,y:50,width:100,height:50}]},{id:"2x1-horizontal",name:"21 Horizontal",zones:[{x:0,y:0,width:50,height:100},{x:50,y:0,width:50,height:100}]},{id:"4x4-grid",name:"44 Grid",zones:[{x:0,y:0,width:50,height:50},{x:50,y:0,width:50,height:50},{x:0,y:50,width:50,height:50},{x:50,y:50,width:50,height:50}]},{id:"3-plus-2",name:"3 + 2",zones:[{x:0,y:0,width:100,height:33.33},{x:0,y:33.33,width:100,height:33.33},{x:0,y:66.66,width:50,height:33.34},{x:50,y:66.66,width:50,height:33.34}]},{id:"3-plus-2-plus-2",name:"3 + 2 + 2",zones:[{x:0,y:0,width:100,height:40},{x:0,y:40,width:50,height:30},{x:50,y:40,width:50,height:30},{x:0,y:70,width:50,height:30},{x:50,y:70,width:50,height:30}]}];class Ru{constructor(t,n){ws(this,"state");this.state={templateId:t,photos:[],zoneStates:Array(n).fill(null).map(()=>({photoIndex:-1,zoom:1,x:0,y:0}))}}addPhoto(t){return this.state.photos.push(t),this.state.photos.length-1}assignPhotoToZone(t,n){n>=0&&n<this.state.zoneStates.length&&(this.state.zoneStates[n].photoIndex=t)}updateZoneTransform(t,n){if(t>=0&&t<this.state.zoneStates.length){const r=this.state.zoneStates[t];n.zoom!==void 0&&(r.zoom=n.zoom),n.x!==void 0&&(r.x=n.x),n.y!==void 0&&(r.y=n.y)}}getState(){return{...this.state}}getPhotoForZone(t){const n=this.state.zoneStates[t];return n.photoIndex>=0&&n.photoIndex<this.state.photos.length?this.state.photos[n.photoIndex]:null}isComplete(){return this.state.zoneStates.every(t=>t.photoIndex>=0)}serialize(){return{templateId:this.state.templateId,zoneStates:this.state.zoneStates}}}function mg({selectedTemplateId:e,onSelect:t}){return o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Select Layout"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:Ll.map(n=>o.jsx("button",{onClick:()=>t(n),className:`aspect-square border-2 rounded-lg p-2 transition-colors touch-manipulation ${n.id===e?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:o.jsx("div",{className:"text-xs text-center font-medium text-gray-700",children:n.name})},n.id))})]})}function hg({template:e,stateManager:t,onZoneClick:n}){const r=v.useRef(null),[l,s]=v.useState(new Map);v.useEffect(()=>{i()},[t]),v.useEffect(()=>{a()},[e,l]);const i=async()=>{const c=new Map,m=t.getState();for(let d=0;d<m.photos.length;d++){const p=m.photos[d],x=new Image,y=URL.createObjectURL(p);await new Promise(j=>{x.onload=()=>{c.set(d,x),j()},x.src=y})}s(c)},a=()=>{const c=r.current;if(!c)return;const m=c.getContext("2d");if(!m)return;const d=c.width,p=c.height;m.fillStyle="#f3f4f6",m.fillRect(0,0,d,p);const x=t.getState();e.zones.forEach((y,j)=>{const k=x.zoneStates[j],h=l.get(k.photoIndex),f=y.x/100*d,g=y.y/100*p,S=y.width/100*d,w=y.height/100*p;if(m.strokeStyle="#d1d5db",m.lineWidth=2,m.strokeRect(f,g,S,w),h){m.save(),m.beginPath(),m.rect(f,g,S,w),m.clip();const b=k.zoom,C=h.width*b,E=h.height*b,A=f+k.x+(S-C)/2,M=g+k.y+(w-E)/2;m.drawImage(h,A,M,C,E),m.restore()}else m.fillStyle="#e5e7eb",m.fillRect(f+2,g+2,S-4,w-4),m.fillStyle="#9ca3af",m.textAlign="center",m.textBaseline="middle",m.font="14px sans-serif",m.fillText("+",f+S/2,g+w/2)})},u=c=>{const m=r.current;if(!m)return;const d=m.getBoundingClientRect(),p=(c.clientX-d.left)/d.width*100,x=(c.clientY-d.top)/d.height*100,y=e.zones.findIndex(j=>p>=j.x&&p<=j.x+j.width&&x>=j.y&&x<=j.y+j.height);y>=0&&n(y)};return o.jsx("div",{className:"w-full bg-gray-100 rounded-lg overflow-hidden",children:o.jsx("canvas",{ref:r,width:xn.TARGET_IMAGE_WIDTH_PX,height:xn.TARGET_IMAGE_WIDTH_PX,onClick:u,className:"w-full h-auto cursor-pointer touch-manipulation"})})}function pg({zoneIndex:e,stateManager:t,onUpdate:n,onClose:r}){const s=t.getState().zoneStates[e],[i,a]=v.useState(s.zoom),u=m=>{a(m),t.updateZoneTransform(e,{zoom:m}),n()},c=()=>{t.updateZoneTransform(e,{zoom:1,x:0,y:0}),a(1),n()};return o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg z-20",children:o.jsxs("div",{className:"max-w-mobile mx-auto space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Zone ",e+1]}),o.jsx("button",{onClick:r,className:"text-gray-600 hover:text-gray-900",children:""})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-600 mb-2",children:["Zoom: ",i.toFixed(1),"x"]}),o.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:i,onChange:m=>u(parseFloat(m.target.value)),className:"w-full"})]}),o.jsx("button",{onClick:c,className:"w-full px-4 py-2 bg-gray-200 text-gray-900 rounded-lg hover:bg-gray-300",children:"Reset Zone"})]})})}function gg({onAddPhoto:e,onValidate:t,onCancel:n,isValid:r}){return o.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2",children:[o.jsx(Y,{onClick:e,variant:"secondary",fullWidth:!0,children:"Add Photo"}),o.jsx(Y,{onClick:t,disabled:!r,fullWidth:!0,children:"Validate Assembly"}),o.jsx(Y,{onClick:n,variant:"secondary",fullWidth:!0,children:"Cancel"})]})}function xg({onComplete:e,onCancel:t}){Me();const{showToast:n}=el(),r=v.useRef(null),[l,s]=v.useState(Ll[0]),[i,a]=v.useState(()=>new Ru(Ll[0].id,Ll[0].zones.length)),[u,c]=v.useState(null),[m,d]=v.useState(0),p=f=>{s(f),a(new Ru(f.id,f.zones.length)),c(null),d(g=>g+1)},x=()=>{var f;(f=r.current)==null||f.click()},y=f=>{const g=Array.from(f.target.files||[]);if(g.length===0)return;const S=g[0],w=i.addPhoto(S),C=i.getState().zoneStates.findIndex(E=>E.photoIndex===-1);C>=0&&(i.assignPhotoToZone(w,C),d(E=>E+1)),f.target.value=""},j=f=>{c(f)},k=()=>{d(f=>f+1)},h=async()=>{if(!i.isComplete()){n("Please fill all zones","error");return}try{const f=document.querySelector("canvas");if(!f){n("Failed to generate image","error");return}const g=await z0(f,.9),S=i.serialize();e(g,S)}catch{n("Failed to create assembly","error")}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center sticky top-0 z-10",children:[o.jsx("button",{onClick:t,className:"text-gray-600 touch-manipulation",children:" Back"}),o.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Photo Assembly"})]}),o.jsxs("div",{className:"flex-1 pb-32",children:[o.jsx(mg,{selectedTemplateId:l.id,onSelect:p}),o.jsx("div",{className:"p-4",children:o.jsx(hg,{template:l,stateManager:i,onZoneClick:j},m)})]}),u!==null&&o.jsx(pg,{zoneIndex:u,stateManager:i,onUpdate:k,onClose:()=>c(null)}),o.jsx(gg,{onAddPhoto:x,onValidate:h,onCancel:t,isValid:i.isComplete()}),o.jsx("input",{ref:r,type:"file",accept:"image/*",capture:"environment",onChange:y,className:"hidden"})]})}function vg(){var d,p,x,y;const e=Me(),t=rr(),{user:n}=yt(),{updateArticle:r}=ot(),{showToast:l}=el(),s=((d=t.state)==null?void 0:d.editMode)||!1,i=(p=t.state)==null?void 0:p.articleId,a=((x=t.state)==null?void 0:x.texte)||"",u=((y=t.state)==null?void 0:y.dateModification)||new Date().toISOString(),c=async(j,k)=>{if(n)try{const h=`data:image/jpeg;base64,${j}`,g=await(await fetch(h)).blob(),S=new File([g],"assembled.jpg",{type:"image/jpeg"});if(s&&i){const w=await Et.updateArticle(i,a,S,u,k);r(w),l("Article updated","success")}else await Et.createArticle(n.name,a,S,u,void 0,k),l("Article created","success");e("/")}catch(h){l(h instanceof Error?h.message:"Failed to save article","error")}},m=()=>{e(s&&i?`/editor/${i}`:"/editor")};return o.jsx(xg,{onComplete:c,onCancel:m})}function yg(e){if(!e||e.startsWith("blob:")||e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w2000`}return e}function wg(){const e=Me(),{user:t,logout:n}=yt(),{showToast:r}=el(),{profile:l,isLoading:s,saveProfile:i,avatarBlobUrl:a}=Ji(),[u,c]=v.useState(""),[m,d]=v.useState(null),[p,x]=v.useState(""),[y,j]=v.useState(!1);v.useEffect(()=>{l?(c(l.pseudo),x(a||l.avatar_url)):t&&c(t.name)},[l,t,a]);const k=g=>{var b;const S=(b=g.target.files)==null?void 0:b[0];if(!S)return;d(S);const w=URL.createObjectURL(S);x(w)},h=async()=>{if(!u.trim()){r("Please enter a pseudo","error");return}j(!0);try{await i(u.trim(),m||void 0),r("Profile saved","success"),e("/")}catch{r("Failed to save profile","error")}finally{j(!1)}},f=()=>{n()};return s?o.jsx(jn,{message:"Loading profile..."}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(Sn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile"})]})}),o.jsxs("div",{className:"flex-1 p-4 space-y-6 pb-32 max-w-md mx-auto w-full",children:[o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsxs("div",{className:"relative",children:[p?o.jsx("img",{src:yg(p),alt:"Avatar",className:"w-32 h-32 rounded-full object-cover border-4 border-primary-200"}):o.jsx("div",{className:"w-32 h-32 rounded-full bg-primary-100 flex items-center justify-center border-4 border-primary-200",children:o.jsx("span",{className:"text-4xl font-semibold text-primary-600",children:u.charAt(0).toUpperCase()||"?"})}),o.jsx("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:o.jsxs("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o.jsx("path",{d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),o.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:k,className:"hidden"})]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Click to change avatar"})]}),o.jsx("div",{children:o.jsx(Gr,{label:"Pseudo",value:u,onChange:g=>c(g.target.value),placeholder:"Enter your pseudo"})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backend URL"}),o.jsx("input",{type:"text",value:"https://script.google.com/macros/s/AKfycbyBK-9iXQ7bXvd26EN4qCz6DT2V_Z9pniGS2qrLaBP7pqXIQ29hGtmnQj2PP2LYCPHf/exec",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600 text-xs"})]})]}),o.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2 sticky bottom-0",children:[o.jsx(Y,{onClick:h,disabled:y||!u.trim(),fullWidth:!0,children:y?"Saving...":"Save Profile"}),o.jsx(Y,{variant:"danger",onClick:f,disabled:y,fullWidth:!0,children:"Logout"})]})]})}const En={status:()=>re.get("famileo/status"),posts:e=>re.get("famileo/posts",e),image:e=>re.get("famileo/image",{url:encodeURIComponent(e)}),triggerRefresh:()=>re.get("famileo/trigger-refresh"),families:()=>re.get("famileo/families"),importedIds:()=>re.get("famileo/imported-ids")};function jg({post:e,selected:t,onSelectionChange:n,onImageLoaded:r,cachedImage:l,alreadyImported:s}){const[i,a]=v.useState(!1),[u,c]=v.useState(null),[m,d]=v.useState(!1);v.useEffect(()=>{if(l){c(`data:${l.mimeType};base64,${l.base64}`);return}(async()=>{if(!(u||i||m)){a(!0);try{const y=await En.image(e.image_url);c(`data:${y.mimeType};base64,${y.base64}`),r(e.id,y.base64,y.mimeType)}catch{d(!0)}finally{a(!1)}}})()},[e.id,e.image_url,l]);const p=e.author_pseudo.split(" ").map(x=>x[0]).join("").toUpperCase().substring(0,2);return o.jsx("div",{className:"px-4",children:o.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border-2 transition-colors ${t?"border-primary-500 bg-primary-50":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("input",{type:"checkbox",checked:t,onChange:x=>n(x.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 flex-shrink-0"}),o.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-sm font-semibold text-orange-700",children:p})}),o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:e.author_pseudo}),o.jsx("span",{className:"text-sm text-gray-500",children:Sf(e.date)})]})]}),s&&o.jsx("div",{className:"flex-shrink-0 ml-2",children:o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[o.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Imported"]})})]}),o.jsxs("div",{className:"w-full bg-gray-100 relative min-h-[200px]",children:[i&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),m&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:o.jsx("p",{className:"text-sm",children:"Failed to load image"})}),u&&o.jsx("img",{src:u,alt:"",className:"w-full h-auto object-contain"})]}),e.text&&o.jsx("div",{className:"p-4",children:o.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:e.text})}),o.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-100 text-xs text-gray-500",children:[o.jsxs("span",{children:["ID: ",e.id]}),o.jsx("span",{className:"mx-2",children:"|"}),o.jsx("span",{children:e.image_orientation})]})]})})}function Sg(){const e=Me(),{user:t}=yt(),[n,r]=v.useState(""),[l,s]=v.useState(""),[i,a]=v.useState([]),[u,c]=v.useState(!1),[m,d]=v.useState(null),[p,x]=v.useState(new Set),[y,j]=v.useState({}),[k,h]=v.useState(!1),[f,g]=v.useState(null),[S,w]=v.useState(!1),[b,C]=v.useState(null),[E,A]=v.useState([]),[M,Q]=v.useState(""),[H,ne]=v.useState(!0),[$,U]=v.useState(new Set),[F,pe]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const[W,X]=await Promise.all([En.families(),En.importedIds()]);A(W.families),W.families.length>0&&Q(W.families[0].famileo_id),U(new Set(X.ids))}catch(W){console.error("Failed to load initial data:",W)}finally{ne(!1)}})()},[]);const P=async()=>{if(!n||!l){d("Please select both start and end dates");return}c(!0),d(null),C(null),a([]),x(new Set),j({});try{const T=[];let W=!0;const X=new Date(n+"T00:00:00").getTime(),Se=new Date(l+"T23:59:59").getTime();let Ye=new Date(l+"T23:59:59.999Z").toISOString();for(console.log("Famileo fetch - startDate:",n,"endDate:",l),console.log("Famileo fetch - startTs:",new Date(X).toISOString(),"endTs:",new Date(Se).toISOString()),console.log("Famileo fetch - initial timestamp:",Ye);W;){console.log("Famileo fetch - calling API with timestamp:",Ye);const De=await En.posts({limit:"50",timestamp:Ye,family_id:M||void 0});console.log("Famileo fetch - got",De.posts.length,"posts, has_more:",De.has_more,"next_timestamp:",De.next_timestamp);for(const Ke of De.posts){const Tt=new Date(Ke.date).getTime();Tt>=X&&Tt<=Se&&T.push(Ke)}if(De.next_timestamp){const Ke=new Date(De.next_timestamp).getTime();console.log("Famileo fetch - nextTs:",new Date(Ke).toISOString(),"startTs:",new Date(X).toISOString(),"continue?",Ke>=X),Ke>=X?Ye=De.next_timestamp:(console.log("Famileo fetch - stopping, next page before start date"),W=!1)}else console.log("Famileo fetch - stopping, no next_timestamp"),W=!1}a(T),T.length===0&&d("No posts found in this date range")}catch(T){d(T instanceof Error?T.message:"Failed to fetch posts")}finally{c(!1)}},D=()=>{e("/")},I=(T,W)=>{x(X=>{const Se=new Set(X);return W?Se.add(T):Se.delete(T),Se})},B=(T,W,X)=>{j(Se=>({...Se,[T]:{base64:W,mimeType:X}}))},K=()=>{p.size===i.length?x(new Set):x(new Set(i.map(T=>T.id)))},rt=async()=>{if(!t||p.size===0)return;const T=i.filter(W=>p.has(W.id));T.sort((W,X)=>new Date(W.date).getTime()-new Date(X.date).getTime()),h(!0),g({current:0,total:T.length,currentPostText:""});try{for(let W=0;W<T.length;W++){const X=T[W];g({current:W+1,total:T.length,currentPostText:X.text.substring(0,50)+(X.text.length>50?"...":"")});let Se="",Ye="image/jpeg";const De=await En.image(X.full_image_url);Se=De.base64,Ye=De.mimeType;const Ke=`data:${Ye};base64,${Se}`,Tt=await fetch(Ke).then(R=>R.blob()),lr=new File([Tt],"famileo-import.jpg",{type:Ye}),kn=new Date(X.date.replace(" ","T")),N=isNaN(kn.getTime())?new Date().toISOString():kn.toISOString();await Et.createArticle(X.author_email,X.text,lr,N,String(X.id)),U(R=>new Set([...R,String(X.id)])),W<T.length-1&&await new Promise(R=>setTimeout(R,500))}x(new Set),C(`Successfully created ${T.length} article${T.length>1?"s":""}`)}catch(W){d(W instanceof Error?W.message:"Failed to create articles")}finally{h(!1),g(null)}},je=async()=>{w(!0),C(null),d(null);try{const T=await En.triggerRefresh();C(T.message)}catch(T){d(T instanceof Error?T.message:"Failed to trigger refresh")}finally{w(!1)}},ce=p.size;return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(Sn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:D,className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",disabled:k,children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Famileo Scraper"})]}),o.jsxs("button",{onClick:je,disabled:S||k,className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation disabled:opacity-50",title:"Refresh Famileo session",children:[o.jsx("svg",{className:`w-4 h-4 ${S?"animate-spin":""}`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),o.jsx("span",{children:S?"Refreshing...":"Refresh Session"})]})]})}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[E.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Family"}),o.jsx("select",{value:M,onChange:T=>Q(T.target.value),disabled:u||k||H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white",children:E.map(T=>o.jsx("option",{value:T.famileo_id,children:T.name},T.id))})]}),H&&o.jsx("div",{className:"text-sm text-gray-500",children:"Loading families..."}),!H&&E.length===0&&o.jsx("div",{className:"text-sm text-amber-600",children:'No family configured. Add families in the "families" sheet.'}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),o.jsx("input",{type:"date",value:n,onChange:T=>r(T.target.value),disabled:u||k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white appearance-none"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),o.jsx("input",{type:"date",value:l,onChange:T=>s(T.target.value),disabled:u||k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white appearance-none"})]})]}),o.jsx("button",{onClick:P,disabled:u||k||H||!n||!l||!M&&E.length>0,className:"w-full py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors touch-manipulation",children:H?"Loading families...":u?"Loading...":"Get Posts"})]})}),k&&f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 mx-4 max-w-sm w-full shadow-xl",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Creating Articles"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[f.current," / ",f.total]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:o.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all duration-300",style:{width:`${f.current/f.total*100}%`}})})]}),o.jsx("p",{className:"text-sm text-gray-500 truncate",children:f.currentPostText})]})}),b&&o.jsx("div",{className:"mx-4 mt-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:b}),m&&o.jsx("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:m}),u&&o.jsx("div",{className:"flex-1 flex items-center justify-center py-12",children:o.jsx("div",{className:"w-10 h-10 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),!u&&i.length>0&&o.jsxs("div",{className:"flex-1 py-4 pb-24",children:[o.jsxs("div",{className:"px-4 mb-3 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-500",children:[i.length," post",i.length>1?"s":""," found",ce>0&&o.jsxs("span",{className:"ml-2 text-primary-600 font-medium",children:["(",ce," selected)"]})]}),o.jsx("button",{onClick:K,disabled:k,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:p.size===i.length?"Deselect All":"Select All"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"hideImported",checked:F,onChange:T=>pe(T.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("label",{htmlFor:"hideImported",className:"text-sm text-gray-600",children:["Hide already imported posts (",i.filter(T=>$.has(String(T.id))).length,")"]})]})]}),o.jsx("div",{className:"space-y-4",children:i.filter(T=>!F||!$.has(String(T.id))).map(T=>o.jsx(jg,{post:T,selected:p.has(T.id),onSelectionChange:W=>I(T.id,W),onImageLoaded:B,cachedImage:y[T.id],alreadyImported:$.has(String(T.id))},T.id))})]}),!u&&i.length>0&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-20",children:o.jsx("div",{className:"max-w-content mx-auto",children:o.jsxs("button",{onClick:rt,disabled:ce===0||k,className:"w-full py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors touch-manipulation flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 4v16m8-8H4"})}),ce>0?`Bulk Create (${ce})`:"Select posts to create"]})})})]})}const At={create:e=>re.post("pdf/create",e),process:e=>re.get("pdf/process",{job_id:e}),status:e=>re.get("pdf/status",{job_id:e}),list:e=>{const t=e?{date_from:e.date_from,date_to:e.date_to,author:e.author,include_in_progress:e.include_in_progress?"true":void 0}:void 0;return re.get("pdf/list",t)},delete:e=>re.post("pdf/delete",{job_id:e}),cancel:e=>re.post("pdf/cancel",{job_id:e})},kg=()=>{try{const e=localStorage.getItem("user");return e&&JSON.parse(e).email||"me"}catch{return"me"}},Ng=()=>{try{const e=localStorage.getItem("user");return e&&JSON.parse(e).name||null}catch{return null}},Cg=e=>e==="PENDING"||e==="RUNNING"||e==="DONE"||e==="ERROR"||e==="CANCELLED"?e:"PENDING",ea=qi((e,t)=>({isGenerating:!1,jobId:null,progress:0,progressMessage:"",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:null,startGeneration:async(n,r,l,s)=>{e({isGenerating:!0,jobId:null,progress:0,progressMessage:"Starting...",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:s||null});try{const i=await At.create({from:n,to:r,options:l}),a=new Date().toISOString(),u=kg(),c=Ng()||u.split("@")[0],m=new Date(n).getFullYear(),d={job_id:i.job_id,created_at:a,created_by:u,created_by_pseudo:c,year:m,date_from:n,date_to:r,status:Cg(i.status),progress:i.progress,progress_message:i.progress_message,pdf_url:i.pdf_url,pdf_file_id:i.pdf_file_id};return i.status==="DONE"&&i.pdf_url?(e({isGenerating:!1,progress:100,progressMessage:"Done!",pdfUrl:i.pdf_url,showSuccess:!0}),s&&s(),d):i.status==="ERROR"?(e({isGenerating:!1,error:"PDF generation failed",progressMessage:""}),null):(e({isGenerating:!1,jobId:i.job_id}),At.process(i.job_id).catch(()=>{}),s&&s(),d)}catch(i){return e({isGenerating:!1,error:i instanceof Error?i.message:"Error while generating PDF",progressMessage:""}),null}},pollJobStatus:async n=>{try{const r=await At.status(n);if(e({progress:r.progress||0,progressMessage:r.progress_message||""}),r.status==="DONE"){const l=t().onCompleteCallback;e({isGenerating:!1,pdfUrl:r.pdf_url||null,showSuccess:!0}),l&&l()}else r.status==="ERROR"?e({isGenerating:!1,error:r.error_message||"PDF generation failed"}):setTimeout(()=>t().pollJobStatus(n),1e3)}catch(r){e({isGenerating:!1,error:r instanceof Error?r.message:"Error while tracking job"})}},setLastCompletedJob:n=>{e({lastCompletedJob:n,showSuccess:n!==null,pdfUrl:(n==null?void 0:n.pdf_url)||null})},dismissSuccess:()=>{e({showSuccess:!1,pdfUrl:null,lastCompletedJob:null})},dismissError:()=>{e({error:null})},reset:()=>{e({isGenerating:!1,jobId:null,progress:0,progressMessage:"",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:null})}}));function Eg({isOpen:e,onClose:t,onComplete:n}){const{startGeneration:r,isGenerating:l}=ea(),[s,i]=v.useState("dates"),[a,u]=v.useState(""),[c,m]=v.useState(""),[d,p]=v.useState(!1),[x,y]=v.useState(null),[j,k]=v.useState([]),[h,f]=v.useState(0),[g,S]=v.useState("full"),[w,b]=v.useState(!0),[C,E]=v.useState(0),[A,M]=v.useState(!1),Q=()=>{i("dates"),u(""),m(""),k([]),f(0),y(null),S("full"),b(!0),E(0),M(!1)},H=()=>{Q(),t()},ne=async()=>{if(!a||!c){y("Please select a start and end date");return}if(c<a){y("End date cannot be earlier than start date");return}p(!0),y(null);try{const U=[];let F=null;do{const D=await ut.list({from:a,to:c,limit:"100",cursor:F||void 0,status_filter:"active"});U.push(...D.items),F=D.next_cursor}while(F);const pe=new Map;for(const D of U){const I=D.date.substring(0,7),B=kf(D.date);pe.has(I)?pe.get(I).count++:pe.set(I,{label:B,count:1})}const P=Array.from(pe.entries()).sort((D,I)=>D[0].localeCompare(I[0])).map(([D,I])=>({key:D,label:I.label,count:I.count}));k(P),f(U.length),E(U.length),U.length===0?y("No articles found for this period"):i("preview")}catch(U){y(U instanceof Error?U.message:"Error while loading")}finally{p(!1)}},$=async()=>{const U=await r(a,c,{mosaic_layout:g,show_seasonal_fruits:w,max_mosaic_photos:C>0?C:void 0,keep_temp:A});Q(),t(),n(U)};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:H}),o.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[s==="dates"&&"Select date range",s==="preview"&&"Article preview",s==="options"&&"Generation options"]}),o.jsx("button",{onClick:H,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[x&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:x}),s==="dates"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start date"}),o.jsx("input",{type:"date",value:a,onChange:U=>{const F=U.target.value;u(F),c&&F&&c<F&&m(F),x&&y(null)},disabled:d,max:c||void 0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End date"}),o.jsx("input",{type:"date",value:c,onChange:U=>{const F=U.target.value;m(F),a&&F&&F<a&&u(F),x&&y(null)},disabled:d,min:a||void 0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100"})]})]}),s==="preview"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-primary-50 rounded-lg p-4",children:o.jsxs("p",{className:"text-primary-800",children:[o.jsx("span",{className:"font-semibold text-primary-900",children:h})," article",h>1?"s":""," ","sur"," ",o.jsx("span",{className:"font-semibold text-primary-900",children:j.length})," mois"]})}),o.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-3 py-2 border-b border-gray-200",children:o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Monthly breakdown"})}),o.jsx("ul",{className:"divide-y divide-gray-100 max-h-48 overflow-y-auto",children:j.map(U=>o.jsxs("li",{className:"px-3 py-2 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:U.label}),o.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded text-xs font-medium",children:U.count})]},U.key))})]})]}),s==="options"&&o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover photos"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"range",min:1,max:h,value:C||h,onChange:U=>E(parseInt(U.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-12 text-right",children:C||h})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Number of photos in the cover mosaic"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month divider style"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>S("full"),className:`flex-1 py-2.5 px-3 rounded-lg border text-sm transition-colors ${g==="full"?"border-primary-500 bg-primary-50 text-primary-700 font-medium":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:"Full mosaic"}),o.jsx("button",{onClick:()=>S("centered"),className:`flex-1 py-2.5 px-3 rounded-lg border text-sm transition-colors ${g==="centered"?"border-primary-500 bg-primary-50 text-primary-700 font-medium":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:"Centered mosaic"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:w,onChange:U=>b(U.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Seasonal fruits & vegetables"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Decorations around month dividers"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:A,onChange:U=>M(U.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Keep temporary PDF files"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Preserve intermediate PDFs and show a folder link"})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm text-gray-600",children:[o.jsx("strong",{children:h})," articles from"," ",o.jsx("strong",{children:new Date(a).toLocaleDateString("fr-FR")})," to"," ",o.jsx("strong",{children:new Date(c).toLocaleDateString("fr-FR")})]})]})]}),o.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex gap-3",children:[s==="dates"&&o.jsxs(o.Fragment,{children:[o.jsx(Y,{variant:"secondary",onClick:H,fullWidth:!0,children:"Cancel"}),o.jsx(Y,{onClick:ne,disabled:!a||!c||d,fullWidth:!0,children:d?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Searching..."]}):"Next"})]}),s==="preview"&&o.jsxs(o.Fragment,{children:[o.jsx(Y,{variant:"secondary",onClick:()=>i("dates"),fullWidth:!0,children:"Back"}),o.jsx(Y,{onClick:()=>i("options"),fullWidth:!0,children:"Next"})]}),s==="options"&&o.jsxs(o.Fragment,{children:[o.jsx(Y,{variant:"secondary",onClick:()=>i("preview"),fullWidth:!0,children:"Back"}),o.jsxs(Y,{onClick:$,disabled:l,fullWidth:!0,children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Generate PDF"]})]})]})]})]}):null}const bg=yt;function _g(){const e=Me(),{user:t}=bg(),{profile:n}=Ji(),[r,l]=v.useState([]),[s,i]=v.useState(!0),[a,u]=v.useState(null),[c,m]=v.useState(""),[d,p]=v.useState(""),[x,y]=v.useState("created_at"),[j,k]=v.useState("desc"),[h,f]=v.useState([]),[g,S]=v.useState(!1),[w,b]=v.useState(new Set),[C,E]=v.useState(null),[A,M]=v.useState(!1),[Q,H]=v.useState(!1),[ne,$]=v.useState(null),[U,F]=v.useState(!1),pe=v.useCallback(async()=>{i(!0),u(null);try{const N=await At.list({include_in_progress:!0});l(N.items||[]),f(N.authors||[])}catch(N){u(N instanceof Error?N.message:"Failed to load PDF list")}finally{i(!1)}},[]);v.useEffect(()=>{pe()},[pe]);const[P,D]=v.useState(new Map),{setLastCompletedJob:I}=ea(),B=r.filter(N=>N.status==="PENDING"||N.status==="RUNNING"),K=r.filter(N=>N.status==="DONE"||N.status==="ERROR"||N.status==="CANCELLED");v.useEffect(()=>{if(B.length===0)return;const N=setInterval(async()=>{const R=await Promise.all(B.map(async J=>{try{return{...await At.status(J.job_id),job_id:J.job_id}}catch{return null}}));l(J=>J.map(ke=>{const ge=R.find(Nn=>Nn&&Nn.job_id===ke.job_id);return ge?{...ke,status:ge.status,progress:ge.progress,progress_message:ge.progress_message,pdf_url:ge.pdf_url,error_message:ge.error_message}:ke}))},2e3);return()=>clearInterval(N)},[B.length]),v.useEffect(()=>{const N=new Map(r.map(R=>[R.job_id,R.status]));for(const[R,J]of P){const ke=N.get(R);if((J==="PENDING"||J==="RUNNING")&&ke==="DONE"){const ge=r.find(Nn=>Nn.job_id===R);ge&&I(ge)}}D(N)},[r,P,I]);const rt=Array.from(new Set(r.map(N=>N.year).filter(Boolean))).sort((N,R)=>R-N),je=N=>{if(!N)return 0;const R=new Date(N);return isNaN(R.getTime())?0:R.getTime()},ce=K.filter(N=>!c||N.year===parseInt(c)).filter(N=>!d||N.created_by===d).sort((N,R)=>{let J=0;return x==="created_at"?J=je(N.created_at)-je(R.created_at):x==="date_from"?J=je(N.date_from)-je(R.date_from):x==="created_by"&&(J=(N.created_by||"").localeCompare(R.created_by||"")),j==="desc"?-J:J}),T=()=>{e("/")},W=N=>{try{return new Date(N).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return N}},X=(N,R)=>{try{const J=new Date(N),ke=new Date(R),ge={day:"2-digit",month:"short",year:"numeric"};return`${J.toLocaleDateString("fr-FR",ge)}  ${ke.toLocaleDateString("fr-FR",ge)}`}catch{return`${N}  ${R}`}},Se=v.useCallback((N,R)=>{var ke;return R||(N?t!=null&&t.email&&(n!=null&&n.pseudo)&&N===t.email?n.pseudo:((ke=r.find(ge=>ge.created_by===N))==null?void 0:ke.created_by_pseudo)||N.split("@")[0]:"Unknown")},[r,n==null?void 0:n.pseudo,t==null?void 0:t.email]),Ye=N=>{const R=new Set(w);R.has(N)?R.delete(N):R.add(N),b(R)},De=()=>{w.size===ce.length?b(new Set):b(new Set(ce.map(N=>N.job_id)))},Ke=async()=>{if(C){H(!0);try{await At.delete(C),l(N=>N.filter(R=>R.job_id!==C)),E(null)}catch(N){u(N instanceof Error?N.message:"Failed to delete PDF")}finally{H(!1)}}},Tt=async()=>{if(w.size!==0){H(!0);try{for(const N of w)await At.delete(N);l(N=>N.filter(R=>!w.has(R.job_id))),b(new Set),S(!1),M(!1)}catch(N){u(N instanceof Error?N.message:"Failed to delete PDFs")}finally{H(!1)}}},lr=N=>{F(!1),N&&(l(R=>{const J=R.findIndex(ge=>ge.job_id===N.job_id);if(J===-1)return[N,...R];const ke=[...R];return ke[J]={...ke[J],...N},ke}),f(R=>N.created_by&&!R.includes(N.created_by)?[...R,N.created_by]:R))},kn=async N=>{$(N);try{await At.cancel(N),l(R=>R.map(J=>J.job_id===N?{...J,status:"CANCELLED",progress_message:"Cancelled"}:J))}catch(R){u(R instanceof Error?R.message:"Failed to cancel PDF generation")}finally{$(null)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(Sn,{}),o.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[g?o.jsx("div",{className:"w-9 h-9"}):o.jsx("button",{onClick:T,className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 flex-1",children:g?`${w.size} selected`:"Generated PDFs"}),o.jsxs("div",{className:"flex items-center gap-4",children:[g&&o.jsx("button",{onClick:De,className:"text-primary-600 hover:text-primary-700 touch-manipulation text-sm font-medium",children:w.size===ce.length?"Deselect all":"Select all"}),ce.length>0&&o.jsx(Nf,{checked:g,onChange:N=>{S(N),N||b(new Set)},label:"Select"})]})]}),o.jsx("div",{className:"flex items-center gap-2 mt-3 h-11 overflow-x-auto",children:g?o.jsx("span",{className:"text-sm text-gray-500",children:"Select PDFs to delete"}):o.jsxs(o.Fragment,{children:[o.jsxs("select",{value:c,onChange:N=>m(N.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[o.jsx("option",{value:"",children:"Year"}),rt.map(N=>o.jsx("option",{value:N,children:N},N))]}),h.length>1&&o.jsxs("select",{value:d,onChange:N=>p(N.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 max-w-32 truncate",children:[o.jsx("option",{value:"",children:"Author"}),h.map(N=>o.jsx("option",{value:N,children:Se(N)},N))]}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden text-xs",children:[o.jsxs("button",{onClick:()=>{x==="created_at"?k(j==="desc"?"asc":"desc"):(y("created_at"),k("desc"))},className:`px-3 py-2.5 font-medium transition-colors flex items-center gap-1 ${x==="created_at"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Created",x==="created_at"&&o.jsx("span",{className:"text-[10px]",children:j==="desc"?"":""})]}),o.jsxs("button",{onClick:()=>{x==="date_from"?k(j==="desc"?"asc":"desc"):(y("date_from"),k("desc"))},className:`px-3 py-2.5 font-medium border-l border-gray-300 transition-colors flex items-center gap-1 ${x==="date_from"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Period",x==="date_from"&&o.jsx("span",{className:"text-[10px]",children:j==="desc"?"":""})]}),o.jsxs("button",{onClick:()=>{x==="created_by"?k(j==="desc"?"asc":"desc"):(y("created_by"),k("asc"))},className:`px-3 py-2.5 font-medium border-l border-gray-300 transition-colors flex items-center gap-1 ${x==="created_by"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Author",x==="created_by"&&o.jsx("span",{className:"text-[10px]",children:j==="desc"?"":""})]})]}),o.jsxs("span",{className:"text-sm text-gray-500 ml-auto",children:[ce.length," PDF",ce.length>1?"s":""]})]})})]}),a&&o.jsxs("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[a,o.jsx("button",{onClick:()=>u(null),className:"ml-2 text-red-500 hover:text-red-700",children:""})]}),o.jsx("div",{className:"flex-1 p-4 pb-24",children:s?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):B.length===0&&ce.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("p",{className:"text-gray-500 mb-2",children:c?"No PDFs for this year":"No PDFs generated"}),o.jsx(Y,{onClick:()=>F(!0),variant:"primary",children:"Create my first PDF"})]}):o.jsxs(o.Fragment,{children:[B.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Generating"}),o.jsx("div",{className:"space-y-3",children:B.map(N=>o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:o.jsxs("svg",{className:"w-5 h-5 text-blue-600 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-gray-900",children:X(N.date_from,N.date_to)}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("div",{className:"flex-1 h-1.5 bg-blue-200 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300",style:{width:`${N.progress||0}%`}})}),o.jsxs("span",{className:"text-xs text-blue-600 font-medium w-8",children:[N.progress||0,"%"]})]}),o.jsx("p",{className:"text-xs text-blue-500 mt-0.5",children:N.progress_message||"Pending..."}),o.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["by ",Se(N.created_by,N.created_by_pseudo)]}),N.temp_folder_url&&o.jsx("a",{href:N.temp_folder_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 mt-0.5 inline-flex",onClick:R=>R.stopPropagation(),children:"Temporary folder"})]}),o.jsx("button",{onClick:()=>kn(N.job_id),disabled:ne===N.job_id,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Cancel",children:ne===N.job_id?o.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})},N.job_id))})]}),ce.length>0&&o.jsxs("div",{children:[B.length>0&&o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Generated"}),o.jsx("div",{className:"space-y-3",children:ce.map(N=>o.jsx("div",{onClick:()=>g&&Ye(N.job_id),className:`bg-white rounded-lg shadow-sm border transition-colors ${g?w.has(N.job_id)?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300":"border-gray-200"} p-4 ${g?"cursor-pointer":""}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[g&&o.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 mt-0.5 ${w.has(N.job_id)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:w.has(N.job_id)&&o.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M5 13l4 4L19 7"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-medium text-gray-900",children:X(N.date_from,N.date_to)}),N.status==="ERROR"&&o.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-red-100 text-red-700 rounded",children:"Error"}),N.status==="CANCELLED"&&o.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded",children:"Cancelled"})]}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Created on ",W(N.created_at)]}),N.status==="ERROR"&&N.error_message&&o.jsx("p",{className:"text-xs text-red-500 mt-0.5 truncate",title:N.error_message,children:N.error_message}),o.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["by ",Se(N.created_by,N.created_by_pseudo)]}),N.temp_folder_url&&o.jsx("a",{href:N.temp_folder_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 mt-0.5 inline-flex",onClick:R=>R.stopPropagation(),children:"Temporary folder"})]}),!g&&o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[N.pdf_url&&o.jsx("a",{href:N.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Voir le PDF",onClick:R=>R.stopPropagation(),children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),o.jsx("button",{onClick:R=>{R.stopPropagation(),E(N.job_id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},N.job_id))})]})]})}),g&&w.size>0&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 z-50 shadow-lg",children:o.jsxs("div",{className:"max-w-content mx-auto flex items-center justify-between gap-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[w.size," PDF",w.size>1?"s":""," selected"]}),o.jsx("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Delete"})]})}),!g&&o.jsx("div",{className:"fixed bottom-28 left-0 right-0 z-30",children:o.jsx("div",{className:"max-w-content mx-auto px-4 flex justify-end",children:o.jsx(wf,{onClick:()=>F(!0),className:"bg-primary-600 hover:bg-primary-700 active:bg-primary-800 transition-all hover:scale-105 active:scale-95",icon:o.jsx("svg",{className:"w-8 h-8",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 4v16m8-8H4"})})})})}),o.jsx(Eg,{isOpen:U,onClose:()=>F(!1),onComplete:lr}),o.jsx(vn,{isOpen:!!C,title:"Delete PDF?",message:"The PDF will be permanently deleted from Google Drive.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:Ke,onCancel:()=>E(null),variant:"danger",isLoading:Q}),o.jsx(vn,{isOpen:A,title:`Delete ${w.size} PDF${w.size>1?"s":""}?`,message:"Selected PDFs will be permanently deleted from Google Drive.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:Tt,onCancel:()=>M(!1),variant:"danger",isLoading:Q})]})}const zu={get:e=>re.get("config/get",{key:e}),set:(e,t)=>re.post("config/set",{key:e,value:t})};function Pg(){const e=Me(),{showToast:t}=el(),[n,r]=v.useState(""),[l,s]=v.useState(!0),[i,a]=v.useState(!1);v.useEffect(()=>{u()},[]);const u=async()=>{try{const m=await zu.get("family_name");r(m.value||"")}catch{t("Error while loading","error")}finally{s(!1)}},c=async()=>{a(!0);try{await zu.set("family_name",n.trim()),t("Configuration saved","success"),e("/")}catch{t("Error while saving","error")}finally{a(!1)}};return l?o.jsx(jn,{message:"Loading..."}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(Sn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Settings"})]})}),o.jsx("div",{className:"flex-1 p-4 space-y-6 pb-32 max-w-md mx-auto w-full",children:o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"PDF cover page"}),o.jsx(Gr,{label:"Family name",value:n,onChange:m=>r(m.target.value),placeholder:"e.g., Dupont family"}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Appears on the PDF cover title."})]})}),o.jsx("div",{className:"bg-white border-t border-gray-200 p-4 sticky bottom-0",children:o.jsx(Y,{onClick:c,disabled:i,fullWidth:!0,children:i?"Saving...":"Save"})})]})}const Lg="modulepreload",Dg=function(e){return"/"+e},Mu={},Tg=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));l=Promise.allSettled(n.map(u=>{if(u=Dg(u),u in Mu)return;Mu[u]=!0;const c=u.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Lg,c||(d.as="script"),d.crossOrigin="",d.href=u,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((p,x)=>{d.addEventListener("load",p),d.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return l.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function Ig(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:l,onRegisteredSW:s,onRegisterError:i}=e;let a,u,c;const m=async(p=!0)=>{await u,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(a=await Tg(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:p}},[]).then(({Workbox:p})=>new p("/sw.js",{scope:"/",type:"classic"})).catch(p=>{i==null||i(p)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let p=!1;const x=()=>{p=!0,a==null||a.addEventListener("controlling",y=>{y.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",y=>{typeof y.isUpdate>"u"?typeof y.isExternal<"u"?y.isExternal?x():!p&&(r==null||r()):y.isExternal?window.location.reload():!p&&(r==null||r()):y.isUpdate||r==null||r()}),a.addEventListener("waiting",x),a.addEventListener("externalwaiting",x)}a.register({immediate:t}).then(p=>{s?s("/sw.js",p):l==null||l(p)}).catch(p=>{i==null||i(p)})}}return u=d(),m}function Rg(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:l,onRegisteredSW:s,onRegisterError:i}=e,[a,u]=v.useState(!1),[c,m]=v.useState(!1),[d]=v.useState(()=>Ig({immediate:t,onOfflineReady(){m(!0),r==null||r()},onNeedRefresh(){u(!0),n==null||n()},onRegistered:l,onRegisteredSW:s,onRegisterError:i}));return{needRefresh:[a,u],offlineReady:[c,m],updateServiceWorker:d}}function zg(){const{needRefresh:[e],updateServiceWorker:t}=Rg({onRegistered(n){console.log("SW Registered:",n),n&&setInterval(()=>{n.update()},3e4)},onRegisterError(n){console.log("SW registration error",n)}});return e?o.jsxs("div",{className:"fixed bottom-20 left-4 right-4 z-50 bg-primary-600 text-white p-4 rounded-lg shadow-lg flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"New version available"}),o.jsx("button",{onClick:()=>t(!0),className:"bg-white text-primary-600 px-4 py-2 rounded-md text-sm font-semibold",children:"Update"})]}):null}function Mg(){const{error:e,pdfUrl:t,showSuccess:n,lastCompletedJob:r,dismissSuccess:l,dismissError:s}=ea();if(!n&&!e)return null;const i=(a,u)=>{try{const c=new Date(a),m=new Date(u),d={day:"2-digit",month:"short",year:"numeric"};return`${c.toLocaleDateString("fr-FR",d)} - ${m.toLocaleDateString("fr-FR",d)}`}catch{return`${a} - ${u}`}};return o.jsxs("div",{className:"fixed bottom-20 left-4 right-4 z-50 max-w-md mx-auto",children:[n&&t&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg shadow-lg p-4 animate-slide-up",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-green-800",children:"PDF generated successfully!"}),r&&o.jsx("p",{className:"text-xs text-green-600 mt-0.5",children:i(r.date_from,r.date_to)}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View"]}),o.jsx("button",{onClick:l,className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-green-700 hover:bg-green-100 rounded-lg transition-colors",children:"Close"})]})]}),o.jsx("button",{onClick:l,className:"text-green-400 hover:text-green-600",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})}),e&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 animate-slide-up",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:"Generation error"}),o.jsx("p",{className:"text-xs text-red-600 mt-0.5",children:e})]}),o.jsx("button",{onClick:s,className:"text-red-400 hover:text-red-600",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})]})}const Fg=[{label:"Articles",path:"/",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M5 6h14M5 12h14M5 18h10"})})},{label:"Stats",path:"/stats",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{label:"Famileo",path:"/famileo",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})},{label:"PDF",path:"/pdf-export",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{label:"Profile",path:"/profile",icon:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],Ag=["/auth","/editor","/photo-assembly","/settings"];function Og(){const e=Me(),t=rr();return Ag.some(n=>t.pathname.startsWith(n))?null:o.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40",children:o.jsx("div",{className:"max-w-content mx-auto px-3 py-3",children:o.jsxs("div",{className:"relative rounded-2xl bg-white/80 backdrop-blur border border-gray-200 shadow-[0_10px_30px_rgba(0,0,0,0.12)]",children:[o.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-primary-50/40 via-white/0 to-primary-50/40 pointer-events-none"}),o.jsx("div",{className:"relative flex items-center justify-between px-2 py-2",children:Fg.map(n=>{const r=t.pathname===n.path;return o.jsxs("button",{onClick:()=>e(n.path),className:`flex-1 flex flex-col items-center justify-center py-2 rounded-xl transition-all ${r?"text-primary-700":"text-gray-500 hover:text-gray-700"}`,"aria-label":n.label,children:[o.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center transition-all ${r?"bg-primary-100 shadow-sm":"bg-transparent"}`,children:o.jsx("span",{className:`${r?"text-primary-700":"text-gray-500"}`,children:n.icon})}),o.jsx("span",{className:"text-[10px] mt-1 font-medium tracking-wide",children:n.label})]},n.path)})})]})})})}function Ug(){return o.jsx(Jp,{children:o.jsxs(n0,{children:[o.jsx(zg,{}),o.jsx(Mg,{}),o.jsx("div",{className:"min-h-screen max-w-content mx-auto bg-white",children:o.jsxs(Yp,{children:[o.jsx(Ze,{path:"/auth",element:o.jsx(l0,{})}),o.jsx(Ze,{path:"/",element:o.jsx(wt,{children:o.jsx(H0,{})})}),o.jsx(Ze,{path:"/editor",element:o.jsx(wt,{children:o.jsx(Iu,{})})}),o.jsx(Ze,{path:"/editor/:id",element:o.jsx(wt,{children:o.jsx(Iu,{})})}),o.jsx(Ze,{path:"/stats",element:o.jsx(wt,{children:o.jsx(fg,{})})}),o.jsx(Ze,{path:"/photo-assembly",element:o.jsx(wt,{children:o.jsx(vg,{})})}),o.jsx(Ze,{path:"/profile",element:o.jsx(wt,{children:o.jsx(wg,{})})}),o.jsx(Ze,{path:"/famileo",element:o.jsx(wt,{children:o.jsx(Sg,{})})}),o.jsx(Ze,{path:"/pdf-export",element:o.jsx(wt,{children:o.jsx(_g,{})})}),o.jsx(Ze,{path:"/settings",element:o.jsx(wt,{children:o.jsx(Pg,{})})}),o.jsx(Ze,{path:"*",element:o.jsx(cf,{to:"/",replace:!0})})]})}),o.jsx(Og,{})]})})}qs.createRoot(document.getElementById("root")).render(o.jsx(si.StrictMode,{children:o.jsx(Xp,{children:o.jsx(Ug,{})})}));
