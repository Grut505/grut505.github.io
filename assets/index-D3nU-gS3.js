var Nf=Object.defineProperty;var Cf=(e,t,n)=>t in e?Nf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var xs=(e,t,n)=>Cf(e,typeof t!="symbol"?t+"":t,n);function Ef(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Ru(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zu={exports:{}},ql={},Mu={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr=Symbol.for("react.element"),_f=Symbol.for("react.portal"),bf=Symbol.for("react.fragment"),Pf=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),Df=Symbol.for("react.provider"),If=Symbol.for("react.context"),Tf=Symbol.for("react.forward_ref"),Rf=Symbol.for("react.suspense"),zf=Symbol.for("react.memo"),Mf=Symbol.for("react.lazy"),qi=Symbol.iterator;function Ff(e){return e===null||typeof e!="object"?null:(e=qi&&e[qi]||e["@@iterator"],typeof e=="function"?e:null)}var Fu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Au=Object.assign,Ou={};function Xn(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Fu}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uu(){}Uu.prototype=Xn.prototype;function Jo(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Fu}var qo=Jo.prototype=new Uu;qo.constructor=Jo;Au(qo,Xn.prototype);qo.isPureReactComponent=!0;var ea=Array.isArray,Bu=Object.prototype.hasOwnProperty,ei={current:null},$u={key:!0,ref:!0,__self:!0,__source:!0};function Wu(e,t,n){var r,l={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Bu.call(t,r)&&!$u.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:Vr,type:e,key:s,ref:i,props:l,_owner:ei.current}}function Af(e,t){return{$$typeof:Vr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ti(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vr}function Of(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ta=/\/+/g;function ys(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Of(""+e.key):t.toString(36)}function gl(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Vr:case _f:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+ys(i,0):r,ea(l)?(n="",e!=null&&(n=e.replace(ta,"$&/")+"/"),gl(l,t,n,"",function(c){return c})):l!=null&&(ti(l)&&(l=Af(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(ta,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",ea(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+ys(s,a);i+=gl(s,t,n,u,l)}else if(u=Ff(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+ys(s,a++),i+=gl(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function qr(e,t,n){if(e==null)return e;var r=[],l=0;return gl(e,r,"","",function(s){return t.call(n,s,l++)}),r}function Uf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},vl={transition:null},Bf={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:vl,ReactCurrentOwner:ei};function Vu(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:qr,forEach:function(e,t,n){qr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qr(e,function(){t++}),t},toArray:function(e){return qr(e,function(t){return t})||[]},only:function(e){if(!ti(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Xn;V.Fragment=bf;V.Profiler=Lf;V.PureComponent=Jo;V.StrictMode=Pf;V.Suspense=Rf;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bf;V.act=Vu;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Au({},e.props),l=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=ei.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Bu.call(t,u)&&!$u.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Vr,type:e.type,key:l,ref:s,props:r,_owner:i}};V.createContext=function(e){return e={$$typeof:If,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Df,_context:e},e.Consumer=e};V.createElement=Wu;V.createFactory=function(e){var t=Wu.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:Tf,render:e}};V.isValidElement=ti;V.lazy=function(e){return{$$typeof:Mf,_payload:{_status:-1,_result:e},_init:Uf}};V.memo=function(e,t){return{$$typeof:zf,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=vl.transition;vl.transition={};try{e()}finally{vl.transition=t}};V.unstable_act=Vu;V.useCallback=function(e,t){return De.current.useCallback(e,t)};V.useContext=function(e){return De.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return De.current.useDeferredValue(e)};V.useEffect=function(e,t){return De.current.useEffect(e,t)};V.useId=function(){return De.current.useId()};V.useImperativeHandle=function(e,t,n){return De.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return De.current.useMemo(e,t)};V.useReducer=function(e,t,n){return De.current.useReducer(e,t,n)};V.useRef=function(e){return De.current.useRef(e)};V.useState=function(e){return De.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return De.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return De.current.useTransition()};V.version="18.3.1";Mu.exports=V;var x=Mu.exports;const ni=Ru(x),$f=Ef({__proto__:null,default:ni},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=x,Vf=Symbol.for("react.element"),Hf=Symbol.for("react.fragment"),Gf=Object.prototype.hasOwnProperty,Qf=Wf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yf={key:!0,ref:!0,__self:!0,__source:!0};function Hu(e,t,n){var r,l={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Gf.call(t,r)&&!Yf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Vf,type:e,key:s,ref:i,props:l,_owner:Qf.current}}ql.Fragment=Hf;ql.jsx=Hu;ql.jsxs=Hu;zu.exports=ql;var o=zu.exports,Zs={},Gu={exports:{}},He={},Qu={exports:{}},Yu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,I){var R=P.length;P.push(I);e:for(;0<R;){var B=R-1>>>1,Z=P[B];if(0<l(Z,I))P[B]=I,P[R]=Z,R=B;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var I=P[0],R=P.pop();if(R!==I){P[0]=R;e:for(var B=0,Z=P.length,tt=Z>>>1;B<tt;){var Ne=2*(B+1)-1,ce=P[Ne],T=Ne+1,W=P[T];if(0>l(ce,R))T<Z&&0>l(W,ce)?(P[B]=W,P[T]=R,B=T):(P[B]=ce,P[Ne]=R,B=Ne);else if(T<Z&&0>l(W,R))P[B]=W,P[T]=R,B=T;else break e}}return I}function l(P,I){var R=P.sortIndex-I.sortIndex;return R!==0?R:P.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var u=[],c=[],m=1,d=null,p=3,v=!1,y=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=P)r(c),I.sortIndex=I.expirationTime,t(u,I);else break;I=n(c)}}function S(P){if(j=!1,g(P),!y)if(n(u)!==null)y=!0,F(w);else{var I=n(c);I!==null&&he(S,I.startTime-P)}}function w(P,I){y=!1,j&&(j=!1,h(E),E=-1),v=!0;var R=p;try{for(g(I),d=n(u);d!==null&&(!(d.expirationTime>I)||P&&!Q());){var B=d.callback;if(typeof B=="function"){d.callback=null,p=d.priorityLevel;var Z=B(d.expirationTime<=I);I=e.unstable_now(),typeof Z=="function"?d.callback=Z:d===n(u)&&r(u),g(I)}else r(u);d=n(u)}if(d!==null)var tt=!0;else{var Ne=n(c);Ne!==null&&he(S,Ne.startTime-I),tt=!1}return tt}finally{d=null,p=R,v=!1}}var _=!1,C=null,E=-1,O=5,M=-1;function Q(){return!(e.unstable_now()-M<O)}function H(){if(C!==null){var P=e.unstable_now();M=P;var I=!0;try{I=C(!0,P)}finally{I?ne():(_=!1,C=null)}}else _=!1}var ne;if(typeof f=="function")ne=function(){f(H)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,U=$.port2;$.port1.onmessage=H,ne=function(){U.postMessage(null)}}else ne=function(){k(H,0)};function F(P){C=P,_||(_=!0,ne())}function he(P,I){E=k(function(){P(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,F(w))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var R=p;p=I;try{return P()}finally{p=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var R=p;p=P;try{return I()}finally{p=R}},e.unstable_scheduleCallback=function(P,I,R){var B=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?B+R:B):R=B,P){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=R+Z,P={id:m++,callback:I,priorityLevel:P,startTime:R,expirationTime:Z,sortIndex:-1},R>B?(P.sortIndex=R,t(c,P),n(u)===null&&P===n(c)&&(j?(h(E),E=-1):j=!0,he(S,R-B))):(P.sortIndex=Z,t(u,P),y||v||(y=!0,F(w))),P},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(P){var I=p;return function(){var R=p;p=I;try{return P.apply(this,arguments)}finally{p=R}}}})(Yu);Qu.exports=Yu;var Kf=Qu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=x,Ve=Kf;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ku=new Set,Nr={};function xn(e,t){Wn(e,t),Wn(e+"Capture",t)}function Wn(e,t){for(Nr[e]=t,e=0;e<t.length;e++)Ku.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=Object.prototype.hasOwnProperty,Xf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,na={},ra={};function Jf(e){return Xs.call(ra,e)?!0:Xs.call(na,e)?!1:Xf.test(e)?ra[e]=!0:(na[e]=!0,!1)}function qf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function em(e,t,n,r){if(t===null||typeof t>"u"||qf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,n,r,l,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var ri=/[\-:]([a-z])/g;function li(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ri,li);ke[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ri,li);ke[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ri,li);ke[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function si(e,t,n,r){var l=ke.hasOwnProperty(t)?ke[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(em(t,n,l,r)&&(n=null),r||l===null?Jf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Pt=Zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,el=Symbol.for("react.element"),Cn=Symbol.for("react.portal"),En=Symbol.for("react.fragment"),oi=Symbol.for("react.strict_mode"),Js=Symbol.for("react.profiler"),Zu=Symbol.for("react.provider"),Xu=Symbol.for("react.context"),ii=Symbol.for("react.forward_ref"),qs=Symbol.for("react.suspense"),eo=Symbol.for("react.suspense_list"),ai=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Ju=Symbol.for("react.offscreen"),la=Symbol.iterator;function nr(e){return e===null||typeof e!="object"?null:(e=la&&e[la]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,ws;function dr(e){if(ws===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ws=t&&t[1]||""}return`
`+ws+e}var js=!1;function Ss(e,t){if(!e||js)return"";js=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),i=l.length-1,a=s.length-1;1<=i&&0<=a&&l[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(l[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||l[i]!==s[a]){var u=`
`+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=a);break}}}finally{js=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?dr(e):""}function tm(e){switch(e.tag){case 5:return dr(e.type);case 16:return dr("Lazy");case 13:return dr("Suspense");case 19:return dr("SuspenseList");case 0:case 2:case 15:return e=Ss(e.type,!1),e;case 11:return e=Ss(e.type.render,!1),e;case 1:return e=Ss(e.type,!0),e;default:return""}}function to(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case En:return"Fragment";case Cn:return"Portal";case Js:return"Profiler";case oi:return"StrictMode";case qs:return"Suspense";case eo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xu:return(e.displayName||"Context")+".Consumer";case Zu:return(e._context.displayName||"Context")+".Provider";case ii:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ai:return t=e.displayName||null,t!==null?t:to(e.type)||"Memo";case It:t=e._payload,e=e._init;try{return to(e(t))}catch{}}return null}function nm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return to(t);case 8:return t===oi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rm(e){var t=qu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tl(e){e._valueTracker||(e._valueTracker=rm(e))}function ec(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function no(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tc(e,t){t=t.checked,t!=null&&si(e,"checked",t,!1)}function ro(e,t){tc(e,t);var n=Yt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lo(e,t.type,n):t.hasOwnProperty("defaultValue")&&lo(e,t.type,Yt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lo(e,t,n){(t!=="number"||Pl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fr=Array.isArray;function Fn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function so(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ia(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(fr(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yt(n)}}function nc(e,t){var n=Yt(t.value),r=Yt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function aa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nl,lc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nl=nl||document.createElement("div"),nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lm=["Webkit","ms","Moz","O"];Object.keys(pr).forEach(function(e){lm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pr[t]=pr[e]})});function sc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pr.hasOwnProperty(e)&&pr[e]?(""+t).trim():t+"px"}function oc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=sc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var sm=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(e,t){if(t){if(sm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function ao(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=null;function ui(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var co=null,An=null,On=null;function ua(e){if(e=Qr(e)){if(typeof co!="function")throw Error(b(280));var t=e.stateNode;t&&(t=ls(t),co(e.stateNode,e.type,t))}}function ic(e){An?On?On.push(e):On=[e]:An=e}function ac(){if(An){var e=An,t=On;if(On=An=null,ua(e),t)for(e=0;e<t.length;e++)ua(t[e])}}function uc(e,t){return e(t)}function cc(){}var ks=!1;function dc(e,t,n){if(ks)return e(t,n);ks=!0;try{return uc(e,t,n)}finally{ks=!1,(An!==null||On!==null)&&(cc(),ac())}}function Er(e,t){var n=e.stateNode;if(n===null)return null;var r=ls(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var fo=!1;if(Ct)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){fo=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{fo=!1}function om(e,t,n,r,l,s,i,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var gr=!1,Ll=null,Dl=!1,mo=null,im={onError:function(e){gr=!0,Ll=e}};function am(e,t,n,r,l,s,i,a,u){gr=!1,Ll=null,om.apply(im,arguments)}function um(e,t,n,r,l,s,i,a,u){if(am.apply(this,arguments),gr){if(gr){var c=Ll;gr=!1,Ll=null}else throw Error(b(198));Dl||(Dl=!0,mo=c)}}function yn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ca(e){if(yn(e)!==e)throw Error(b(188))}function cm(e){var t=e.alternate;if(!t){if(t=yn(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return ca(l),e;if(s===r)return ca(l),t;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=l,r=s;else{for(var i=!1,a=l.child;a;){if(a===n){i=!0,n=l,r=s;break}if(a===r){i=!0,r=l,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=l;break}if(a===r){i=!0,r=s,n=l;break}a=a.sibling}if(!i)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function mc(e){return e=cm(e),e!==null?hc(e):null}function hc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hc(e);if(t!==null)return t;e=e.sibling}return null}var pc=Ve.unstable_scheduleCallback,da=Ve.unstable_cancelCallback,dm=Ve.unstable_shouldYield,fm=Ve.unstable_requestPaint,de=Ve.unstable_now,mm=Ve.unstable_getCurrentPriorityLevel,ci=Ve.unstable_ImmediatePriority,gc=Ve.unstable_UserBlockingPriority,Il=Ve.unstable_NormalPriority,hm=Ve.unstable_LowPriority,vc=Ve.unstable_IdlePriority,es=null,pt=null;function pm(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(es,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:xm,gm=Math.log,vm=Math.LN2;function xm(e){return e>>>=0,e===0?32:31-(gm(e)/vm|0)|0}var rl=64,ll=4194304;function mr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~l;a!==0?r=mr(a):(s&=i,s!==0&&(r=mr(s)))}else i=n&~l,i!==0?r=mr(i):s!==0&&(r=mr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-at(t),l=1<<n,r|=e[n],t&=~l;return r}function ym(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-at(s),a=1<<i,u=l[i];u===-1?(!(a&n)||a&r)&&(l[i]=ym(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function ho(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xc(){var e=rl;return rl<<=1,!(rl&4194240)&&(rl=64),e}function Ns(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=n}function jm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-at(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function di(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var K=0;function yc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wc,fi,jc,Sc,kc,po=!1,sl=[],Ut=null,Bt=null,$t=null,_r=new Map,br=new Map,Rt=[],Sm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fa(e,t){switch(e){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":_r.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(t.pointerId)}}function lr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Qr(t),t!==null&&fi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function km(e,t,n,r,l){switch(t){case"focusin":return Ut=lr(Ut,e,t,n,r,l),!0;case"dragenter":return Bt=lr(Bt,e,t,n,r,l),!0;case"mouseover":return $t=lr($t,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return _r.set(s,lr(_r.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,br.set(s,lr(br.get(s)||null,e,t,n,r,l)),!0}return!1}function Nc(e){var t=rn(e.target);if(t!==null){var n=yn(t);if(n!==null){if(t=n.tag,t===13){if(t=fc(n),t!==null){e.blockedOn=t,kc(e.priority,function(){jc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=go(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);uo=r,n.target.dispatchEvent(r),uo=null}else return t=Qr(n),t!==null&&fi(t),e.blockedOn=n,!1;t.shift()}return!0}function ma(e,t,n){xl(e)&&n.delete(t)}function Nm(){po=!1,Ut!==null&&xl(Ut)&&(Ut=null),Bt!==null&&xl(Bt)&&(Bt=null),$t!==null&&xl($t)&&($t=null),_r.forEach(ma),br.forEach(ma)}function sr(e,t){e.blockedOn===t&&(e.blockedOn=null,po||(po=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,Nm)))}function Pr(e){function t(l){return sr(l,e)}if(0<sl.length){sr(sl[0],e);for(var n=1;n<sl.length;n++){var r=sl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ut!==null&&sr(Ut,e),Bt!==null&&sr(Bt,e),$t!==null&&sr($t,e),_r.forEach(t),br.forEach(t),n=0;n<Rt.length;n++)r=Rt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&(n=Rt[0],n.blockedOn===null);)Nc(n),n.blockedOn===null&&Rt.shift()}var Un=Pt.ReactCurrentBatchConfig,Rl=!0;function Cm(e,t,n,r){var l=K,s=Un.transition;Un.transition=null;try{K=1,mi(e,t,n,r)}finally{K=l,Un.transition=s}}function Em(e,t,n,r){var l=K,s=Un.transition;Un.transition=null;try{K=4,mi(e,t,n,r)}finally{K=l,Un.transition=s}}function mi(e,t,n,r){if(Rl){var l=go(e,t,n,r);if(l===null)Rs(e,t,r,zl,n),fa(e,r);else if(km(l,e,t,n,r))r.stopPropagation();else if(fa(e,r),t&4&&-1<Sm.indexOf(e)){for(;l!==null;){var s=Qr(l);if(s!==null&&wc(s),s=go(e,t,n,r),s===null&&Rs(e,t,r,zl,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else Rs(e,t,r,null,n)}}var zl=null;function go(e,t,n,r){if(zl=null,e=ui(r),e=rn(e),e!==null)if(t=yn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zl=e,null}function Cc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mm()){case ci:return 1;case gc:return 4;case Il:case hm:return 16;case vc:return 536870912;default:return 16}default:return 16}}var Ft=null,hi=null,yl=null;function Ec(){if(yl)return yl;var e,t=hi,n=t.length,r,l="value"in Ft?Ft.value:Ft.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[s-r];r++);return yl=l.slice(e,1<r?1-r:void 0)}function wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ol(){return!0}function ha(){return!1}function Ge(e){function t(n,r,l,s,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ol:ha,this.isPropagationStopped=ha,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ol)},persist:function(){},isPersistent:ol}),t}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Ge(Jn),Gr=ie({},Jn,{view:0,detail:0}),_m=Ge(Gr),Cs,Es,or,ts=ie({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==or&&(or&&e.type==="mousemove"?(Cs=e.screenX-or.screenX,Es=e.screenY-or.screenY):Es=Cs=0,or=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:Es}}),pa=Ge(ts),bm=ie({},ts,{dataTransfer:0}),Pm=Ge(bm),Lm=ie({},Gr,{relatedTarget:0}),_s=Ge(Lm),Dm=ie({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Im=Ge(Dm),Tm=ie({},Jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rm=Ge(Tm),zm=ie({},Jn,{data:0}),ga=Ge(zm),Mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Am={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Om(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Am[e])?!!t[e]:!1}function gi(){return Om}var Um=ie({},Gr,{key:function(e){if(e.key){var t=Mm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bm=Ge(Um),$m=ie({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),va=Ge($m),Wm=ie({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),Vm=Ge(Wm),Hm=ie({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gm=Ge(Hm),Qm=ie({},ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ym=Ge(Qm),Km=[9,13,27,32],vi=Ct&&"CompositionEvent"in window,vr=null;Ct&&"documentMode"in document&&(vr=document.documentMode);var Zm=Ct&&"TextEvent"in window&&!vr,_c=Ct&&(!vi||vr&&8<vr&&11>=vr),xa=" ",ya=!1;function bc(e,t){switch(e){case"keyup":return Km.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _n=!1;function Xm(e,t){switch(e){case"compositionend":return Pc(t);case"keypress":return t.which!==32?null:(ya=!0,xa);case"textInput":return e=t.data,e===xa&&ya?null:e;default:return null}}function Jm(e,t){if(_n)return e==="compositionend"||!vi&&bc(e,t)?(e=Ec(),yl=hi=Ft=null,_n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _c&&t.locale!=="ko"?null:t.data;default:return null}}var qm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qm[e.type]:t==="textarea"}function Lc(e,t,n,r){ic(r),t=Ml(t,"onChange"),0<t.length&&(n=new pi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xr=null,Lr=null;function eh(e){Bc(e,0)}function ns(e){var t=Ln(e);if(ec(t))return e}function th(e,t){if(e==="change")return t}var Dc=!1;if(Ct){var bs;if(Ct){var Ps="oninput"in document;if(!Ps){var ja=document.createElement("div");ja.setAttribute("oninput","return;"),Ps=typeof ja.oninput=="function"}bs=Ps}else bs=!1;Dc=bs&&(!document.documentMode||9<document.documentMode)}function Sa(){xr&&(xr.detachEvent("onpropertychange",Ic),Lr=xr=null)}function Ic(e){if(e.propertyName==="value"&&ns(Lr)){var t=[];Lc(t,Lr,e,ui(e)),dc(eh,t)}}function nh(e,t,n){e==="focusin"?(Sa(),xr=t,Lr=n,xr.attachEvent("onpropertychange",Ic)):e==="focusout"&&Sa()}function rh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ns(Lr)}function lh(e,t){if(e==="click")return ns(t)}function sh(e,t){if(e==="input"||e==="change")return ns(t)}function oh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:oh;function Dr(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Xs.call(t,l)||!ct(e[l],t[l]))return!1}return!0}function ka(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Na(e,t){var n=ka(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ka(n)}}function Tc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rc(){for(var e=window,t=Pl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pl(e.document)}return t}function xi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ih(e){var t=Rc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tc(n.ownerDocument.documentElement,n)){if(r!==null&&xi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=Na(n,s);var i=Na(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ah=Ct&&"documentMode"in document&&11>=document.documentMode,bn=null,vo=null,yr=null,xo=!1;function Ca(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xo||bn==null||bn!==Pl(r)||(r=bn,"selectionStart"in r&&xi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yr&&Dr(yr,r)||(yr=r,r=Ml(vo,"onSelect"),0<r.length&&(t=new pi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bn)))}function il(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pn={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},Ls={},zc={};Ct&&(zc=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function rs(e){if(Ls[e])return Ls[e];if(!Pn[e])return e;var t=Pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zc)return Ls[e]=t[n];return e}var Mc=rs("animationend"),Fc=rs("animationiteration"),Ac=rs("animationstart"),Oc=rs("transitionend"),Uc=new Map,Ea="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(e,t){Uc.set(e,t),xn(t,[e])}for(var Ds=0;Ds<Ea.length;Ds++){var Is=Ea[Ds],uh=Is.toLowerCase(),ch=Is[0].toUpperCase()+Is.slice(1);Zt(uh,"on"+ch)}Zt(Mc,"onAnimationEnd");Zt(Fc,"onAnimationIteration");Zt(Ac,"onAnimationStart");Zt("dblclick","onDoubleClick");Zt("focusin","onFocus");Zt("focusout","onBlur");Zt(Oc,"onTransitionEnd");Wn("onMouseEnter",["mouseout","mouseover"]);Wn("onMouseLeave",["mouseout","mouseover"]);Wn("onPointerEnter",["pointerout","pointerover"]);Wn("onPointerLeave",["pointerout","pointerover"]);xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dh=new Set("cancel close invalid load scroll toggle".split(" ").concat(hr));function _a(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,um(r,t,void 0,e),e.currentTarget=null}function Bc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&l.isPropagationStopped())break e;_a(l,a,c),s=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&l.isPropagationStopped())break e;_a(l,a,c),s=u}}}if(Dl)throw e=mo,Dl=!1,mo=null,e}function ee(e,t){var n=t[ko];n===void 0&&(n=t[ko]=new Set);var r=e+"__bubble";n.has(r)||($c(t,e,2,!1),n.add(r))}function Ts(e,t,n){var r=0;t&&(r|=4),$c(n,e,r,t)}var al="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){if(!e[al]){e[al]=!0,Ku.forEach(function(n){n!=="selectionchange"&&(dh.has(n)||Ts(n,!1,e),Ts(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[al]||(t[al]=!0,Ts("selectionchange",!1,t))}}function $c(e,t,n,r){switch(Cc(t)){case 1:var l=Cm;break;case 4:l=Em;break;default:l=mi}n=l.bind(null,t,n,e),l=void 0,!fo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Rs(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;i=i.return}for(;a!==null;){if(i=rn(a),i===null)return;if(u=i.tag,u===5||u===6){r=s=i;continue e}a=a.parentNode}}r=r.return}dc(function(){var c=s,m=ui(n),d=[];e:{var p=Uc.get(e);if(p!==void 0){var v=pi,y=e;switch(e){case"keypress":if(wl(n)===0)break e;case"keydown":case"keyup":v=Bm;break;case"focusin":y="focus",v=_s;break;case"focusout":y="blur",v=_s;break;case"beforeblur":case"afterblur":v=_s;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=pa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Vm;break;case Mc:case Fc:case Ac:v=Im;break;case Oc:v=Gm;break;case"scroll":v=_m;break;case"wheel":v=Ym;break;case"copy":case"cut":case"paste":v=Rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=va}var j=(t&4)!==0,k=!j&&e==="scroll",h=j?p!==null?p+"Capture":null:p;j=[];for(var f=c,g;f!==null;){g=f;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,h!==null&&(S=Er(f,h),S!=null&&j.push(Tr(f,S,g)))),k)break;f=f.return}0<j.length&&(p=new v(p,y,null,n,m),d.push({event:p,listeners:j}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==uo&&(y=n.relatedTarget||n.fromElement)&&(rn(y)||y[Et]))break e;if((v||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?rn(y):null,y!==null&&(k=yn(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(j=pa,S="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(j=va,S="onPointerLeave",h="onPointerEnter",f="pointer"),k=v==null?p:Ln(v),g=y==null?p:Ln(y),p=new j(S,f+"leave",v,n,m),p.target=k,p.relatedTarget=g,S=null,rn(m)===c&&(j=new j(h,f+"enter",y,n,m),j.target=g,j.relatedTarget=k,S=j),k=S,v&&y)t:{for(j=v,h=y,f=0,g=j;g;g=kn(g))f++;for(g=0,S=h;S;S=kn(S))g++;for(;0<f-g;)j=kn(j),f--;for(;0<g-f;)h=kn(h),g--;for(;f--;){if(j===h||h!==null&&j===h.alternate)break t;j=kn(j),h=kn(h)}j=null}else j=null;v!==null&&ba(d,p,v,j,!1),y!==null&&k!==null&&ba(d,k,y,j,!0)}}e:{if(p=c?Ln(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var w=th;else if(wa(p))if(Dc)w=sh;else{w=rh;var _=nh}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=lh);if(w&&(w=w(e,c))){Lc(d,w,n,m);break e}_&&_(e,p,c),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&lo(p,"number",p.value)}switch(_=c?Ln(c):window,e){case"focusin":(wa(_)||_.contentEditable==="true")&&(bn=_,vo=c,yr=null);break;case"focusout":yr=vo=bn=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,Ca(d,n,m);break;case"selectionchange":if(ah)break;case"keydown":case"keyup":Ca(d,n,m)}var C;if(vi)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else _n?bc(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(_c&&n.locale!=="ko"&&(_n||E!=="onCompositionStart"?E==="onCompositionEnd"&&_n&&(C=Ec()):(Ft=m,hi="value"in Ft?Ft.value:Ft.textContent,_n=!0)),_=Ml(c,E),0<_.length&&(E=new ga(E,e,null,n,m),d.push({event:E,listeners:_}),C?E.data=C:(C=Pc(n),C!==null&&(E.data=C)))),(C=Zm?Xm(e,n):Jm(e,n))&&(c=Ml(c,"onBeforeInput"),0<c.length&&(m=new ga("onBeforeInput","beforeinput",null,n,m),d.push({event:m,listeners:c}),m.data=C))}Bc(d,t)})}function Tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ml(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=Er(e,n),s!=null&&r.unshift(Tr(e,s,l)),s=Er(e,t),s!=null&&r.push(Tr(e,s,l))),e=e.return}return r}function kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ba(e,t,n,r,l){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,l?(u=Er(n,s),u!=null&&i.unshift(Tr(n,u,a))):l||(u=Er(n,s),u!=null&&i.push(Tr(n,u,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var fh=/\r\n?/g,mh=/\u0000|\uFFFD/g;function Pa(e){return(typeof e=="string"?e:""+e).replace(fh,`
`).replace(mh,"")}function ul(e,t,n){if(t=Pa(t),Pa(e)!==t&&n)throw Error(b(425))}function Fl(){}var yo=null,wo=null;function jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var So=typeof setTimeout=="function"?setTimeout:void 0,hh=typeof clearTimeout=="function"?clearTimeout:void 0,La=typeof Promise=="function"?Promise:void 0,ph=typeof queueMicrotask=="function"?queueMicrotask:typeof La<"u"?function(e){return La.resolve(null).then(e).catch(gh)}:So;function gh(e){setTimeout(function(){throw e})}function zs(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Pr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Pr(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Da(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qn=Math.random().toString(36).slice(2),ht="__reactFiber$"+qn,Rr="__reactProps$"+qn,Et="__reactContainer$"+qn,ko="__reactEvents$"+qn,vh="__reactListeners$"+qn,xh="__reactHandles$"+qn;function rn(e){var t=e[ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Et]||n[ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Da(e);e!==null;){if(n=e[ht])return n;e=Da(e)}return t}e=n,n=e.parentNode}return null}function Qr(e){return e=e[ht]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function ls(e){return e[Rr]||null}var No=[],Dn=-1;function Xt(e){return{current:e}}function te(e){0>Dn||(e.current=No[Dn],No[Dn]=null,Dn--)}function q(e,t){Dn++,No[Dn]=e.current,e.current=t}var Kt={},be=Xt(Kt),Me=Xt(!1),dn=Kt;function Vn(e,t){var n=e.type.contextTypes;if(!n)return Kt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Fe(e){return e=e.childContextTypes,e!=null}function Al(){te(Me),te(be)}function Ia(e,t,n){if(be.current!==Kt)throw Error(b(168));q(be,t),q(Me,n)}function Wc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(b(108,nm(e)||"Unknown",l));return ie({},n,r)}function Ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kt,dn=be.current,q(be,e),q(Me,Me.current),!0}function Ta(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=Wc(e,t,dn),r.__reactInternalMemoizedMergedChildContext=e,te(Me),te(be),q(be,e)):te(Me),q(Me,n)}var wt=null,ss=!1,Ms=!1;function Vc(e){wt===null?wt=[e]:wt.push(e)}function yh(e){ss=!0,Vc(e)}function Jt(){if(!Ms&&wt!==null){Ms=!0;var e=0,t=K;try{var n=wt;for(K=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wt=null,ss=!1}catch(l){throw wt!==null&&(wt=wt.slice(e+1)),pc(ci,Jt),l}finally{K=t,Ms=!1}}return null}var In=[],Tn=0,Ul=null,Bl=0,Ke=[],Ze=0,fn=null,jt=1,St="";function tn(e,t){In[Tn++]=Bl,In[Tn++]=Ul,Ul=e,Bl=t}function Hc(e,t,n){Ke[Ze++]=jt,Ke[Ze++]=St,Ke[Ze++]=fn,fn=e;var r=jt;e=St;var l=32-at(r)-1;r&=~(1<<l),n+=1;var s=32-at(t)+l;if(30<s){var i=l-l%5;s=(r&(1<<i)-1).toString(32),r>>=i,l-=i,jt=1<<32-at(t)+l|n<<l|r,St=s+e}else jt=1<<s|n<<l|r,St=e}function yi(e){e.return!==null&&(tn(e,1),Hc(e,1,0))}function wi(e){for(;e===Ul;)Ul=In[--Tn],In[Tn]=null,Bl=In[--Tn],In[Tn]=null;for(;e===fn;)fn=Ke[--Ze],Ke[Ze]=null,St=Ke[--Ze],Ke[Ze]=null,jt=Ke[--Ze],Ke[Ze]=null}var We=null,$e=null,le=!1,ot=null;function Gc(e,t){var n=Xe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ra(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,$e=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fn!==null?{id:jt,overflow:St}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,$e=null,!0):!1;default:return!1}}function Co(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eo(e){if(le){var t=$e;if(t){var n=t;if(!Ra(e,t)){if(Co(e))throw Error(b(418));t=Wt(n.nextSibling);var r=We;t&&Ra(e,t)?Gc(r,n):(e.flags=e.flags&-4097|2,le=!1,We=e)}}else{if(Co(e))throw Error(b(418));e.flags=e.flags&-4097|2,le=!1,We=e}}}function za(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function cl(e){if(e!==We)return!1;if(!le)return za(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jo(e.type,e.memoizedProps)),t&&(t=$e)){if(Co(e))throw Qc(),Error(b(418));for(;t;)Gc(e,t),t=Wt(t.nextSibling)}if(za(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$e=Wt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=We?Wt(e.stateNode.nextSibling):null;return!0}function Qc(){for(var e=$e;e;)e=Wt(e.nextSibling)}function Hn(){$e=We=null,le=!1}function ji(e){ot===null?ot=[e]:ot.push(e)}var wh=Pt.ReactCurrentBatchConfig;function ir(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=l.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function dl(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ma(e){var t=e._init;return t(e._payload)}function Yc(e){function t(h,f){if(e){var g=h.deletions;g===null?(h.deletions=[f],h.flags|=16):g.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function l(h,f){return h=Qt(h,f),h.index=0,h.sibling=null,h}function s(h,f,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<f?(h.flags|=2,f):g):(h.flags|=2,f)):(h.flags|=1048576,f)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,f,g,S){return f===null||f.tag!==6?(f=Ws(g,h.mode,S),f.return=h,f):(f=l(f,g),f.return=h,f)}function u(h,f,g,S){var w=g.type;return w===En?m(h,f,g.props.children,S,g.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===It&&Ma(w)===f.type)?(S=l(f,g.props),S.ref=ir(h,f,g),S.return=h,S):(S=_l(g.type,g.key,g.props,null,h.mode,S),S.ref=ir(h,f,g),S.return=h,S)}function c(h,f,g,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Vs(g,h.mode,S),f.return=h,f):(f=l(f,g.children||[]),f.return=h,f)}function m(h,f,g,S,w){return f===null||f.tag!==7?(f=an(g,h.mode,S,w),f.return=h,f):(f=l(f,g),f.return=h,f)}function d(h,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ws(""+f,h.mode,g),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case el:return g=_l(f.type,f.key,f.props,null,h.mode,g),g.ref=ir(h,null,f),g.return=h,g;case Cn:return f=Vs(f,h.mode,g),f.return=h,f;case It:var S=f._init;return d(h,S(f._payload),g)}if(fr(f)||nr(f))return f=an(f,h.mode,g,null),f.return=h,f;dl(h,f)}return null}function p(h,f,g,S){var w=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:a(h,f,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case el:return g.key===w?u(h,f,g,S):null;case Cn:return g.key===w?c(h,f,g,S):null;case It:return w=g._init,p(h,f,w(g._payload),S)}if(fr(g)||nr(g))return w!==null?null:m(h,f,g,S,null);dl(h,g)}return null}function v(h,f,g,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(g)||null,a(f,h,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case el:return h=h.get(S.key===null?g:S.key)||null,u(f,h,S,w);case Cn:return h=h.get(S.key===null?g:S.key)||null,c(f,h,S,w);case It:var _=S._init;return v(h,f,g,_(S._payload),w)}if(fr(S)||nr(S))return h=h.get(g)||null,m(f,h,S,w,null);dl(f,S)}return null}function y(h,f,g,S){for(var w=null,_=null,C=f,E=f=0,O=null;C!==null&&E<g.length;E++){C.index>E?(O=C,C=null):O=C.sibling;var M=p(h,C,g[E],S);if(M===null){C===null&&(C=O);break}e&&C&&M.alternate===null&&t(h,C),f=s(M,f,E),_===null?w=M:_.sibling=M,_=M,C=O}if(E===g.length)return n(h,C),le&&tn(h,E),w;if(C===null){for(;E<g.length;E++)C=d(h,g[E],S),C!==null&&(f=s(C,f,E),_===null?w=C:_.sibling=C,_=C);return le&&tn(h,E),w}for(C=r(h,C);E<g.length;E++)O=v(C,h,E,g[E],S),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?E:O.key),f=s(O,f,E),_===null?w=O:_.sibling=O,_=O);return e&&C.forEach(function(Q){return t(h,Q)}),le&&tn(h,E),w}function j(h,f,g,S){var w=nr(g);if(typeof w!="function")throw Error(b(150));if(g=w.call(g),g==null)throw Error(b(151));for(var _=w=null,C=f,E=f=0,O=null,M=g.next();C!==null&&!M.done;E++,M=g.next()){C.index>E?(O=C,C=null):O=C.sibling;var Q=p(h,C,M.value,S);if(Q===null){C===null&&(C=O);break}e&&C&&Q.alternate===null&&t(h,C),f=s(Q,f,E),_===null?w=Q:_.sibling=Q,_=Q,C=O}if(M.done)return n(h,C),le&&tn(h,E),w;if(C===null){for(;!M.done;E++,M=g.next())M=d(h,M.value,S),M!==null&&(f=s(M,f,E),_===null?w=M:_.sibling=M,_=M);return le&&tn(h,E),w}for(C=r(h,C);!M.done;E++,M=g.next())M=v(C,h,E,M.value,S),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?E:M.key),f=s(M,f,E),_===null?w=M:_.sibling=M,_=M);return e&&C.forEach(function(H){return t(h,H)}),le&&tn(h,E),w}function k(h,f,g,S){if(typeof g=="object"&&g!==null&&g.type===En&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case el:e:{for(var w=g.key,_=f;_!==null;){if(_.key===w){if(w=g.type,w===En){if(_.tag===7){n(h,_.sibling),f=l(_,g.props.children),f.return=h,h=f;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===It&&Ma(w)===_.type){n(h,_.sibling),f=l(_,g.props),f.ref=ir(h,_,g),f.return=h,h=f;break e}n(h,_);break}else t(h,_);_=_.sibling}g.type===En?(f=an(g.props.children,h.mode,S,g.key),f.return=h,h=f):(S=_l(g.type,g.key,g.props,null,h.mode,S),S.ref=ir(h,f,g),S.return=h,h=S)}return i(h);case Cn:e:{for(_=g.key;f!==null;){if(f.key===_)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(h,f.sibling),f=l(f,g.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=Vs(g,h.mode,S),f.return=h,h=f}return i(h);case It:return _=g._init,k(h,f,_(g._payload),S)}if(fr(g))return y(h,f,g,S);if(nr(g))return j(h,f,g,S);dl(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(h,f.sibling),f=l(f,g),f.return=h,h=f):(n(h,f),f=Ws(g,h.mode,S),f.return=h,h=f),i(h)):n(h,f)}return k}var Gn=Yc(!0),Kc=Yc(!1),$l=Xt(null),Wl=null,Rn=null,Si=null;function ki(){Si=Rn=Wl=null}function Ni(e){var t=$l.current;te($l),e._currentValue=t}function _o(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bn(e,t){Wl=e,Si=Rn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},Rn===null){if(Wl===null)throw Error(b(308));Rn=e,Wl.dependencies={lanes:0,firstContext:e}}else Rn=Rn.next=e;return t}var ln=null;function Ci(e){ln===null?ln=[e]:ln.push(e)}function Zc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ci(t)):(n.next=l.next,l.next=n),t.interleaved=n,_t(e,r)}function _t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tt=!1;function Ei(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,_t(e,n)}return l=r.interleaved,l===null?(t.next=t,Ci(r)):(t.next=l.next,l.next=t),r.interleaved=t,_t(e,n)}function jl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,di(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vl(e,t,n,r){var l=e.updateQueue;Tt=!1;var s=l.firstBaseUpdate,i=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,c=u.next;u.next=null,i===null?s=c:i.next=c,i=u;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==i&&(a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=u))}if(s!==null){var d=l.baseState;i=0,m=c=u=null,a=s;do{var p=a.lane,v=a.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,j=a;switch(p=t,v=n,j.tag){case 1:if(y=j.payload,typeof y=="function"){d=y.call(v,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=j.payload,p=typeof y=="function"?y.call(v,d,p):y,p==null)break e;d=ie({},d,p);break e;case 2:Tt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=l.effects,p===null?l.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(c=m=v,u=d):m=m.next=v,i|=p;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;p=a,a=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);if(m===null&&(u=d),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);hn|=i,e.lanes=i,e.memoizedState=d}}function Aa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(b(191,l));l.call(r)}}}var Yr={},gt=Xt(Yr),zr=Xt(Yr),Mr=Xt(Yr);function sn(e){if(e===Yr)throw Error(b(174));return e}function _i(e,t){switch(q(Mr,t),q(zr,e),q(gt,Yr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oo(t,e)}te(gt),q(gt,t)}function Qn(){te(gt),te(zr),te(Mr)}function Jc(e){sn(Mr.current);var t=sn(gt.current),n=oo(t,e.type);t!==n&&(q(zr,e),q(gt,n))}function bi(e){zr.current===e&&(te(gt),te(zr))}var se=Xt(0);function Hl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fs=[];function Pi(){for(var e=0;e<Fs.length;e++)Fs[e]._workInProgressVersionPrimary=null;Fs.length=0}var Sl=Pt.ReactCurrentDispatcher,As=Pt.ReactCurrentBatchConfig,mn=0,oe=null,pe=null,ve=null,Gl=!1,wr=!1,Fr=0,jh=0;function Ce(){throw Error(b(321))}function Li(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ct(e[n],t[n]))return!1;return!0}function Di(e,t,n,r,l,s){if(mn=s,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sl.current=e===null||e.memoizedState===null?Ch:Eh,e=n(r,l),wr){s=0;do{if(wr=!1,Fr=0,25<=s)throw Error(b(301));s+=1,ve=pe=null,t.updateQueue=null,Sl.current=_h,e=n(r,l)}while(wr)}if(Sl.current=Ql,t=pe!==null&&pe.next!==null,mn=0,ve=pe=oe=null,Gl=!1,t)throw Error(b(300));return e}function Ii(){var e=Fr!==0;return Fr=0,e}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?oe.memoizedState=ve=e:ve=ve.next=e,ve}function et(){if(pe===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ve===null?oe.memoizedState:ve.next;if(t!==null)ve=t,pe=e;else{if(e===null)throw Error(b(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ve===null?oe.memoizedState=ve=e:ve=ve.next=e}return ve}function Ar(e,t){return typeof t=="function"?t(e):t}function Os(e){var t=et(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=pe,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var i=l.next;l.next=s.next,s.next=i}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var a=i=null,u=null,c=s;do{var m=c.lane;if((mn&m)===m)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,i=r):u=u.next=d,oe.lanes|=m,hn|=m}c=c.next}while(c!==null&&c!==s);u===null?i=r:u.next=a,ct(r,t.memoizedState)||(ze=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,oe.lanes|=s,hn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Us(e){var t=et(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do s=e(s,i.action),i=i.next;while(i!==l);ct(s,t.memoizedState)||(ze=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function qc(){}function ed(e,t){var n=oe,r=et(),l=t(),s=!ct(r.memoizedState,l);if(s&&(r.memoizedState=l,ze=!0),r=r.queue,Ti(rd.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,Or(9,nd.bind(null,n,r,l,t),void 0,null),xe===null)throw Error(b(349));mn&30||td(n,t,l)}return l}function td(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nd(e,t,n,r){t.value=n,t.getSnapshot=r,ld(t)&&sd(e)}function rd(e,t,n){return n(function(){ld(t)&&sd(e)})}function ld(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ct(e,n)}catch{return!0}}function sd(e){var t=_t(e,1);t!==null&&ut(t,e,1,-1)}function Oa(e){var t=mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:e},t.queue=e,e=e.dispatch=Nh.bind(null,oe,e),[t.memoizedState,e]}function Or(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function od(){return et().memoizedState}function kl(e,t,n,r){var l=mt();oe.flags|=e,l.memoizedState=Or(1|t,n,void 0,r===void 0?null:r)}function os(e,t,n,r){var l=et();r=r===void 0?null:r;var s=void 0;if(pe!==null){var i=pe.memoizedState;if(s=i.destroy,r!==null&&Li(r,i.deps)){l.memoizedState=Or(t,n,s,r);return}}oe.flags|=e,l.memoizedState=Or(1|t,n,s,r)}function Ua(e,t){return kl(8390656,8,e,t)}function Ti(e,t){return os(2048,8,e,t)}function id(e,t){return os(4,2,e,t)}function ad(e,t){return os(4,4,e,t)}function ud(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cd(e,t,n){return n=n!=null?n.concat([e]):null,os(4,4,ud.bind(null,t,e),n)}function Ri(){}function dd(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Li(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fd(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Li(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function md(e,t,n){return mn&21?(ct(n,t)||(n=xc(),oe.lanes|=n,hn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=n)}function Sh(e,t){var n=K;K=n!==0&&4>n?n:4,e(!0);var r=As.transition;As.transition={};try{e(!1),t()}finally{K=n,As.transition=r}}function hd(){return et().memoizedState}function kh(e,t,n){var r=Gt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pd(e))gd(t,n);else if(n=Zc(e,t,n,r),n!==null){var l=Le();ut(n,e,r,l),vd(n,t,r)}}function Nh(e,t,n){var r=Gt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pd(e))gd(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(l.hasEagerState=!0,l.eagerState=a,ct(a,i)){var u=t.interleaved;u===null?(l.next=l,Ci(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=Zc(e,t,l,r),n!==null&&(l=Le(),ut(n,e,r,l),vd(n,t,r))}}function pd(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function gd(e,t){wr=Gl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,di(e,n)}}var Ql={readContext:qe,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},Ch={readContext:qe,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:Ua,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,kl(4194308,4,ud.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kl(4194308,4,e,t)},useInsertionEffect:function(e,t){return kl(4,2,e,t)},useMemo:function(e,t){var n=mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kh.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:Oa,useDebugValue:Ri,useDeferredValue:function(e){return mt().memoizedState=e},useTransition:function(){var e=Oa(!1),t=e[0];return e=Sh.bind(null,e[1]),mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,l=mt();if(le){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),xe===null)throw Error(b(349));mn&30||td(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Ua(rd.bind(null,r,s,e),[e]),r.flags|=2048,Or(9,nd.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=mt(),t=xe.identifierPrefix;if(le){var n=St,r=jt;n=(r&~(1<<32-at(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Fr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Eh={readContext:qe,useCallback:dd,useContext:qe,useEffect:Ti,useImperativeHandle:cd,useInsertionEffect:id,useLayoutEffect:ad,useMemo:fd,useReducer:Os,useRef:od,useState:function(){return Os(Ar)},useDebugValue:Ri,useDeferredValue:function(e){var t=et();return md(t,pe.memoizedState,e)},useTransition:function(){var e=Os(Ar)[0],t=et().memoizedState;return[e,t]},useMutableSource:qc,useSyncExternalStore:ed,useId:hd,unstable_isNewReconciler:!1},_h={readContext:qe,useCallback:dd,useContext:qe,useEffect:Ti,useImperativeHandle:cd,useInsertionEffect:id,useLayoutEffect:ad,useMemo:fd,useReducer:Us,useRef:od,useState:function(){return Us(Ar)},useDebugValue:Ri,useDeferredValue:function(e){var t=et();return pe===null?t.memoizedState=e:md(t,pe.memoizedState,e)},useTransition:function(){var e=Us(Ar)[0],t=et().memoizedState;return[e,t]},useMutableSource:qc,useSyncExternalStore:ed,useId:hd,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return(e=e._reactInternals)?yn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Le(),l=Gt(e),s=kt(r,l);s.payload=t,n!=null&&(s.callback=n),t=Vt(e,s,l),t!==null&&(ut(t,e,l,r),jl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Le(),l=Gt(e),s=kt(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Vt(e,s,l),t!==null&&(ut(t,e,l,r),jl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Le(),r=Gt(e),l=kt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Vt(e,l,r),t!==null&&(ut(t,e,r,n),jl(t,e,r))}};function Ba(e,t,n,r,l,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Dr(n,r)||!Dr(l,s):!0}function xd(e,t,n){var r=!1,l=Kt,s=t.contextType;return typeof s=="object"&&s!==null?s=qe(s):(l=Fe(t)?dn:be.current,r=t.contextTypes,s=(r=r!=null)?Vn(e,l):Kt),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function $a(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function Po(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ei(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=qe(s):(s=Fe(t)?dn:be.current,l.context=Vn(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(bo(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&is.enqueueReplaceState(l,l.state,null),Vl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Yn(e,t){try{var n="",r=t;do n+=tm(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function Bs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Lo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bh=typeof WeakMap=="function"?WeakMap:Map;function yd(e,t,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Uo=r),Lo(e,t)},n}function wd(e,t,n){n=kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Lo(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Lo(e,t),typeof r!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Wa(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bh;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=$h.bind(null,e,t,n),t.then(e,e))}function Va(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ha(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kt(-1,1),t.tag=2,Vt(n,t,1))),n.lanes|=1),e)}var Ph=Pt.ReactCurrentOwner,ze=!1;function Pe(e,t,n,r){t.child=e===null?Kc(t,null,n,r):Gn(t,e.child,n,r)}function Ga(e,t,n,r,l){n=n.render;var s=t.ref;return Bn(t,l),r=Di(e,t,n,r,s,l),n=Ii(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,bt(e,t,l)):(le&&n&&yi(t),t.flags|=1,Pe(e,t,r,l),t.child)}function Qa(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!$i(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,jd(e,t,s,r,l)):(e=_l(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dr,n(i,r)&&e.ref===t.ref)return bt(e,t,l)}return t.flags|=1,e=Qt(s,r),e.ref=t.ref,e.return=t,t.child=e}function jd(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(Dr(s,r)&&e.ref===t.ref)if(ze=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,bt(e,t,l)}return Do(e,t,n,r,l)}function Sd(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Mn,Be),Be|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(Mn,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,q(Mn,Be),Be|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,q(Mn,Be),Be|=r;return Pe(e,t,l,n),t.child}function kd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Do(e,t,n,r,l){var s=Fe(n)?dn:be.current;return s=Vn(t,s),Bn(t,l),n=Di(e,t,n,r,s,l),r=Ii(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,bt(e,t,l)):(le&&r&&yi(t),t.flags|=1,Pe(e,t,n,l),t.child)}function Ya(e,t,n,r,l){if(Fe(n)){var s=!0;Ol(t)}else s=!1;if(Bn(t,l),t.stateNode===null)Nl(e,t),xd(t,n,r),Po(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=qe(c):(c=Fe(n)?dn:be.current,c=Vn(t,c));var m=n.getDerivedStateFromProps,d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==c)&&$a(t,i,r,c),Tt=!1;var p=t.memoizedState;i.state=p,Vl(t,r,i,l),u=t.memoizedState,a!==r||p!==u||Me.current||Tt?(typeof m=="function"&&(bo(t,n,m,r),u=t.memoizedState),(a=Tt||Ba(t,n,a,r,p,u,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Xc(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:rt(t.type,a),i.props=c,d=t.pendingProps,p=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=qe(u):(u=Fe(n)?dn:be.current,u=Vn(t,u));var v=n.getDerivedStateFromProps;(m=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||p!==u)&&$a(t,i,r,u),Tt=!1,p=t.memoizedState,i.state=p,Vl(t,r,i,l);var y=t.memoizedState;a!==d||p!==y||Me.current||Tt?(typeof v=="function"&&(bo(t,n,v,r),y=t.memoizedState),(c=Tt||Ba(t,n,c,r,p,y,u)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,s,l)}function Io(e,t,n,r,l,s){kd(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Ta(t,n,!1),bt(e,t,s);r=t.stateNode,Ph.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Gn(t,e.child,null,s),t.child=Gn(t,null,a,s)):Pe(e,t,a,s),t.memoizedState=r.state,l&&Ta(t,n,!0),t.child}function Nd(e){var t=e.stateNode;t.pendingContext?Ia(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(e,t.context,!1),_i(e,t.containerInfo)}function Ka(e,t,n,r,l){return Hn(),ji(l),t.flags|=256,Pe(e,t,n,r),t.child}var To={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Cd(e,t,n){var r=t.pendingProps,l=se.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),q(se,l&1),e===null)return Eo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=cs(i,r,0,null),e=an(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ro(n),t.memoizedState=To,e):zi(t,i));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Lh(e,t,i,r,a,l,n);if(s){s=r.fallback,i=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Qt(l,u),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?s=Qt(a,s):(s=an(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Ro(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=To,r}return s=e.child,e=s.sibling,r=Qt(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zi(e,t){return t=cs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fl(e,t,n,r){return r!==null&&ji(r),Gn(t,e.child,null,n),e=zi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lh(e,t,n,r,l,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Bs(Error(b(422))),fl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=cs({mode:"visible",children:r.children},l,0,null),s=an(s,l,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Gn(t,e.child,null,i),t.child.memoizedState=Ro(i),t.memoizedState=To,s);if(!(t.mode&1))return fl(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(b(419)),r=Bs(s,r,void 0),fl(e,t,i,r)}if(a=(i&e.childLanes)!==0,ze||a){if(r=xe,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,_t(e,l),ut(r,e,l,-1))}return Bi(),r=Bs(Error(b(421))),fl(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Wh.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,$e=Wt(l.nextSibling),We=t,le=!0,ot=null,e!==null&&(Ke[Ze++]=jt,Ke[Ze++]=St,Ke[Ze++]=fn,jt=e.id,St=e.overflow,fn=t),t=zi(t,r.children),t.flags|=4096,t)}function Za(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_o(e.return,t,n)}function $s(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function Ed(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(Pe(e,t,r.children,n),r=se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Za(e,n,t);else if(e.tag===19)Za(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(se,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Hl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),$s(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Hl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}$s(t,!0,n,null,s);break;case"together":$s(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=Qt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dh(e,t,n){switch(t.tag){case 3:Nd(t),Hn();break;case 5:Jc(t);break;case 1:Fe(t.type)&&Ol(t);break;case 4:_i(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;q($l,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?Cd(e,t,n):(q(se,se.current&1),e=bt(e,t,n),e!==null?e.sibling:null);q(se,se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ed(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),q(se,se.current),r)break;return null;case 22:case 23:return t.lanes=0,Sd(e,t,n)}return bt(e,t,n)}var _d,zo,bd,Pd;_d=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zo=function(){};bd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,sn(gt.current);var s=null;switch(n){case"input":l=no(e,l),r=no(e,r),s=[];break;case"select":l=ie({},l,{value:void 0}),r=ie({},r,{value:void 0}),s=[];break;case"textarea":l=so(e,l),r=so(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Fl)}io(n,r);var i;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var a=l[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nr.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ee("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Pd=function(e,t,n,r){n!==r&&(t.flags|=4)};function ar(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ih(e,t,n){var r=t.pendingProps;switch(wi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Fe(t.type)&&Al(),Ee(t),null;case 3:return r=t.stateNode,Qn(),te(Me),te(be),Pi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(Wo(ot),ot=null))),zo(e,t),Ee(t),null;case 5:bi(t);var l=sn(Mr.current);if(n=t.type,e!==null&&t.stateNode!=null)bd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(b(166));return Ee(t),null}if(e=sn(gt.current),cl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ht]=t,r[Rr]=s,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(l=0;l<hr.length;l++)ee(hr[l],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":sa(r,s),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ee("invalid",r);break;case"textarea":ia(r,s),ee("invalid",r)}io(n,s),l=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ul(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ul(r.textContent,a,e),l=["children",""+a]):Nr.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ee("scroll",r)}switch(n){case"input":tl(r),oa(r,s,!0);break;case"textarea":tl(r),aa(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Fl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[ht]=t,e[Rr]=r,_d(e,t,!1,!1),t.stateNode=e;e:{switch(i=ao(n,r),n){case"dialog":ee("cancel",e),ee("close",e),l=r;break;case"iframe":case"object":case"embed":ee("load",e),l=r;break;case"video":case"audio":for(l=0;l<hr.length;l++)ee(hr[l],e);l=r;break;case"source":ee("error",e),l=r;break;case"img":case"image":case"link":ee("error",e),ee("load",e),l=r;break;case"details":ee("toggle",e),l=r;break;case"input":sa(e,r),l=no(e,r),ee("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ie({},r,{value:void 0}),ee("invalid",e);break;case"textarea":ia(e,r),l=so(e,r),ee("invalid",e);break;default:l=r}io(n,l),a=l;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?oc(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&lc(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Cr(e,u):typeof u=="number"&&Cr(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nr.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ee("scroll",e):u!=null&&si(e,s,u,i))}switch(n){case"input":tl(e),oa(e,r,!1);break;case"textarea":tl(e),aa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yt(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Fn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Fn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)Pd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(b(166));if(n=sn(Mr.current),sn(gt.current),cl(t)){if(r=t.stateNode,n=t.memoizedProps,r[ht]=t,(s=r.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:ul(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ul(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=t,t.stateNode=r}return Ee(t),null;case 13:if(te(se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&$e!==null&&t.mode&1&&!(t.flags&128))Qc(),Hn(),t.flags|=98560,s=!1;else if(s=cl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(b(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[ht]=t}else Hn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),s=!1}else ot!==null&&(Wo(ot),ot=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?ge===0&&(ge=3):Bi())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return Qn(),zo(e,t),e===null&&Ir(t.stateNode.containerInfo),Ee(t),null;case 10:return Ni(t.type._context),Ee(t),null;case 17:return Fe(t.type)&&Al(),Ee(t),null;case 19:if(te(se),s=t.memoizedState,s===null)return Ee(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)ar(s,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Hl(e),i!==null){for(t.flags|=128,ar(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(se,se.current&1|2),t.child}e=e.sibling}s.tail!==null&&de()>Kn&&(t.flags|=128,r=!0,ar(s,!1),t.lanes=4194304)}else{if(!r)if(e=Hl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ar(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!le)return Ee(t),null}else 2*de()-s.renderingStartTime>Kn&&n!==1073741824&&(t.flags|=128,r=!0,ar(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=de(),t.sibling=null,n=se.current,q(se,r?n&1|2:n&1),t):(Ee(t),null);case 22:case 23:return Ui(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Be&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function Th(e,t){switch(wi(t),t.tag){case 1:return Fe(t.type)&&Al(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(),te(Me),te(be),Pi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bi(t),null;case 13:if(te(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));Hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(se),null;case 4:return Qn(),null;case 10:return Ni(t.type._context),null;case 22:case 23:return Ui(),null;case 24:return null;default:return null}}var ml=!1,_e=!1,Rh=typeof WeakSet=="function"?WeakSet:Set,D=null;function zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function Mo(e,t,n){try{n()}catch(r){ue(e,t,r)}}var Xa=!1;function zh(e,t){if(yo=Rl,e=Rc(),xi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,c=0,m=0,d=e,p=null;t:for(;;){for(var v;d!==n||l!==0&&d.nodeType!==3||(a=i+l),d!==s||r!==0&&d.nodeType!==3||(u=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(v=d.firstChild)!==null;)p=d,d=v;for(;;){if(d===e)break t;if(p===n&&++c===l&&(a=i),p===s&&++m===r&&(u=i),(v=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(wo={focusedElem:e,selectionRange:n},Rl=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var j=y.memoizedProps,k=y.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?j:rt(t.type,j),k);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(S){ue(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return y=Xa,Xa=!1,y}function jr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&Mo(t,n,s)}l=l.next}while(l!==r)}}function as(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ld(e){var t=e.alternate;t!==null&&(e.alternate=null,Ld(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ht],delete t[Rr],delete t[ko],delete t[vh],delete t[xh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dd(e){return e.tag===5||e.tag===3||e.tag===4}function Ja(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ao(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fl));else if(r!==4&&(e=e.child,e!==null))for(Ao(e,t,n),e=e.sibling;e!==null;)Ao(e,t,n),e=e.sibling}function Oo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Oo(e,t,n),e=e.sibling;e!==null;)Oo(e,t,n),e=e.sibling}var je=null,st=!1;function Dt(e,t,n){for(n=n.child;n!==null;)Id(e,t,n),n=n.sibling}function Id(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(es,n)}catch{}switch(n.tag){case 5:_e||zn(n,t);case 6:var r=je,l=st;je=null,Dt(e,t,n),je=r,st=l,je!==null&&(st?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(st?(e=je,n=n.stateNode,e.nodeType===8?zs(e.parentNode,n):e.nodeType===1&&zs(e,n),Pr(e)):zs(je,n.stateNode));break;case 4:r=je,l=st,je=n.stateNode.containerInfo,st=!0,Dt(e,t,n),je=r,st=l;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Mo(n,t,i),l=l.next}while(l!==r)}Dt(e,t,n);break;case 1:if(!_e&&(zn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,t,a)}Dt(e,t,n);break;case 21:Dt(e,t,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,Dt(e,t,n),_e=r):Dt(e,t,n);break;default:Dt(e,t,n)}}function qa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rh),t.forEach(function(r){var l=Vh.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,st=!1;break e;case 3:je=a.stateNode.containerInfo,st=!0;break e;case 4:je=a.stateNode.containerInfo,st=!0;break e}a=a.return}if(je===null)throw Error(b(160));Id(s,i,l),je=null,st=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){ue(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Td(t,e),t=t.sibling}function Td(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nt(t,e),ft(e),r&4){try{jr(3,e,e.return),as(3,e)}catch(j){ue(e,e.return,j)}try{jr(5,e,e.return)}catch(j){ue(e,e.return,j)}}break;case 1:nt(t,e),ft(e),r&512&&n!==null&&zn(n,n.return);break;case 5:if(nt(t,e),ft(e),r&512&&n!==null&&zn(n,n.return),e.flags&32){var l=e.stateNode;try{Cr(l,"")}catch(j){ue(e,e.return,j)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tc(l,s),ao(a,i);var c=ao(a,s);for(i=0;i<u.length;i+=2){var m=u[i],d=u[i+1];m==="style"?oc(l,d):m==="dangerouslySetInnerHTML"?lc(l,d):m==="children"?Cr(l,d):si(l,m,d,c)}switch(a){case"input":ro(l,s);break;case"textarea":nc(l,s);break;case"select":var p=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Fn(l,!!s.multiple,v,!1):p!==!!s.multiple&&(s.defaultValue!=null?Fn(l,!!s.multiple,s.defaultValue,!0):Fn(l,!!s.multiple,s.multiple?[]:"",!1))}l[Rr]=s}catch(j){ue(e,e.return,j)}}break;case 6:if(nt(t,e),ft(e),r&4){if(e.stateNode===null)throw Error(b(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(j){ue(e,e.return,j)}}break;case 3:if(nt(t,e),ft(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pr(t.containerInfo)}catch(j){ue(e,e.return,j)}break;case 4:nt(t,e),ft(e);break;case 13:nt(t,e),ft(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Ai=de())),r&4&&qa(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(c=_e)||m,nt(t,e),_e=c):nt(t,e),ft(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for(D=e,m=e.child;m!==null;){for(d=D=m;D!==null;){switch(p=D,v=p.child,p.tag){case 0:case 11:case 14:case 15:jr(4,p,p.return);break;case 1:zn(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(j){ue(r,n,j)}}break;case 5:zn(p,p.return);break;case 22:if(p.memoizedState!==null){tu(d);continue}}v!==null?(v.return=p,D=v):tu(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{l=d.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=sc("display",i))}catch(j){ue(e,e.return,j)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(j){ue(e,e.return,j)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nt(t,e),ft(e),r&4&&qa(e);break;case 21:break;default:nt(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Dd(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Cr(l,""),r.flags&=-33);var s=Ja(e);Oo(e,s,l);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Ja(e);Ao(e,a,i);break;default:throw Error(b(161))}}catch(u){ue(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mh(e,t,n){D=e,Rd(e)}function Rd(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var l=D,s=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||ml;if(!i){var a=l.alternate,u=a!==null&&a.memoizedState!==null||_e;a=ml;var c=_e;if(ml=i,(_e=u)&&!c)for(D=l;D!==null;)i=D,u=i.child,i.tag===22&&i.memoizedState!==null?nu(l):u!==null?(u.return=i,D=u):nu(l);for(;s!==null;)D=s,Rd(s),s=s.sibling;D=l,ml=a,_e=c}eu(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,D=s):eu(e)}}function eu(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||as(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_e)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:rt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Aa(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Aa(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&Pr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}_e||t.flags&512&&Fo(t)}catch(p){ue(t,t.return,p)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function tu(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function nu(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{as(4,t)}catch(u){ue(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){ue(t,l,u)}}var s=t.return;try{Fo(t)}catch(u){ue(t,s,u)}break;case 5:var i=t.return;try{Fo(t)}catch(u){ue(t,i,u)}}}catch(u){ue(t,t.return,u)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var Fh=Math.ceil,Yl=Pt.ReactCurrentDispatcher,Mi=Pt.ReactCurrentOwner,Je=Pt.ReactCurrentBatchConfig,G=0,xe=null,fe=null,Se=0,Be=0,Mn=Xt(0),ge=0,Ur=null,hn=0,us=0,Fi=0,Sr=null,Re=null,Ai=0,Kn=1/0,yt=null,Kl=!1,Uo=null,Ht=null,hl=!1,At=null,Zl=0,kr=0,Bo=null,Cl=-1,El=0;function Le(){return G&6?de():Cl!==-1?Cl:Cl=de()}function Gt(e){return e.mode&1?G&2&&Se!==0?Se&-Se:wh.transition!==null?(El===0&&(El=xc()),El):(e=K,e!==0||(e=window.event,e=e===void 0?16:Cc(e.type)),e):1}function ut(e,t,n,r){if(50<kr)throw kr=0,Bo=null,Error(b(185));Hr(e,n,r),(!(G&2)||e!==xe)&&(e===xe&&(!(G&2)&&(us|=n),ge===4&&zt(e,Se)),Ae(e,r),n===1&&G===0&&!(t.mode&1)&&(Kn=de()+500,ss&&Jt()))}function Ae(e,t){var n=e.callbackNode;wm(e,t);var r=Tl(e,e===xe?Se:0);if(r===0)n!==null&&da(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&da(n),t===1)e.tag===0?yh(ru.bind(null,e)):Vc(ru.bind(null,e)),ph(function(){!(G&6)&&Jt()}),n=null;else{switch(yc(r)){case 1:n=ci;break;case 4:n=gc;break;case 16:n=Il;break;case 536870912:n=vc;break;default:n=Il}n=$d(n,zd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zd(e,t){if(Cl=-1,El=0,G&6)throw Error(b(327));var n=e.callbackNode;if($n()&&e.callbackNode!==n)return null;var r=Tl(e,e===xe?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Xl(e,r);else{t=r;var l=G;G|=2;var s=Fd();(xe!==e||Se!==t)&&(yt=null,Kn=de()+500,on(e,t));do try{Uh();break}catch(a){Md(e,a)}while(!0);ki(),Yl.current=s,G=l,fe!==null?t=0:(xe=null,Se=0,t=ge)}if(t!==0){if(t===2&&(l=ho(e),l!==0&&(r=l,t=$o(e,l))),t===1)throw n=Ur,on(e,0),zt(e,r),Ae(e,de()),n;if(t===6)zt(e,r);else{if(l=e.current.alternate,!(r&30)&&!Ah(l)&&(t=Xl(e,r),t===2&&(s=ho(e),s!==0&&(r=s,t=$o(e,s))),t===1))throw n=Ur,on(e,0),zt(e,r),Ae(e,de()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:nn(e,Re,yt);break;case 3:if(zt(e,r),(r&130023424)===r&&(t=Ai+500-de(),10<t)){if(Tl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Le(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=So(nn.bind(null,e,Re,yt),t);break}nn(e,Re,yt);break;case 4:if(zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-at(r);s=1<<i,i=t[i],i>l&&(l=i),r&=~s}if(r=l,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fh(r/1960))-r,10<r){e.timeoutHandle=So(nn.bind(null,e,Re,yt),r);break}nn(e,Re,yt);break;case 5:nn(e,Re,yt);break;default:throw Error(b(329))}}}return Ae(e,de()),e.callbackNode===n?zd.bind(null,e):null}function $o(e,t){var n=Sr;return e.current.memoizedState.isDehydrated&&(on(e,t).flags|=256),e=Xl(e,t),e!==2&&(t=Re,Re=n,t!==null&&Wo(t)),e}function Wo(e){Re===null?Re=e:Re.push.apply(Re,e)}function Ah(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!ct(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~Fi,t&=~us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ru(e){if(G&6)throw Error(b(327));$n();var t=Tl(e,0);if(!(t&1))return Ae(e,de()),null;var n=Xl(e,t);if(e.tag!==0&&n===2){var r=ho(e);r!==0&&(t=r,n=$o(e,r))}if(n===1)throw n=Ur,on(e,0),zt(e,t),Ae(e,de()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nn(e,Re,yt),Ae(e,de()),null}function Oi(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(Kn=de()+500,ss&&Jt())}}function pn(e){At!==null&&At.tag===0&&!(G&6)&&$n();var t=G;G|=1;var n=Je.transition,r=K;try{if(Je.transition=null,K=1,e)return e()}finally{K=r,Je.transition=n,G=t,!(G&6)&&Jt()}}function Ui(){Be=Mn.current,te(Mn)}function on(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hh(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(wi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Al();break;case 3:Qn(),te(Me),te(be),Pi();break;case 5:bi(r);break;case 4:Qn();break;case 13:te(se);break;case 19:te(se);break;case 10:Ni(r.type._context);break;case 22:case 23:Ui()}n=n.return}if(xe=e,fe=e=Qt(e.current,null),Se=Be=t,ge=0,Ur=null,Fi=us=hn=0,Re=Sr=null,ln!==null){for(t=0;t<ln.length;t++)if(n=ln[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=l,r.next=i}n.pending=r}ln=null}return e}function Md(e,t){do{var n=fe;try{if(ki(),Sl.current=Ql,Gl){for(var r=oe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Gl=!1}if(mn=0,ve=pe=oe=null,wr=!1,Fr=0,Mi.current=null,n===null||n.return===null){ge=1,Ur=t,fe=null;break}e:{var s=e,i=n.return,a=n,u=t;if(t=Se,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,m=a,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var v=Va(i);if(v!==null){v.flags&=-257,Ha(v,i,a,s,t),v.mode&1&&Wa(s,c,t),t=v,u=c;var y=t.updateQueue;if(y===null){var j=new Set;j.add(u),t.updateQueue=j}else y.add(u);break e}else{if(!(t&1)){Wa(s,c,t),Bi();break e}u=Error(b(426))}}else if(le&&a.mode&1){var k=Va(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ha(k,i,a,s,t),ji(Yn(u,a));break e}}s=u=Yn(u,a),ge!==4&&(ge=2),Sr===null?Sr=[s]:Sr.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=yd(s,u,t);Fa(s,h);break e;case 1:a=u;var f=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ht===null||!Ht.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=wd(s,a,t);Fa(s,S);break e}}s=s.return}while(s!==null)}Od(n)}catch(w){t=w,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function Fd(){var e=Yl.current;return Yl.current=Ql,e===null?Ql:e}function Bi(){(ge===0||ge===3||ge===2)&&(ge=4),xe===null||!(hn&268435455)&&!(us&268435455)||zt(xe,Se)}function Xl(e,t){var n=G;G|=2;var r=Fd();(xe!==e||Se!==t)&&(yt=null,on(e,t));do try{Oh();break}catch(l){Md(e,l)}while(!0);if(ki(),G=n,Yl.current=r,fe!==null)throw Error(b(261));return xe=null,Se=0,ge}function Oh(){for(;fe!==null;)Ad(fe)}function Uh(){for(;fe!==null&&!dm();)Ad(fe)}function Ad(e){var t=Bd(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Od(e):fe=t,Mi.current=null}function Od(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Th(n,t),n!==null){n.flags&=32767,fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,fe=null;return}}else if(n=Ih(n,t,Be),n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);ge===0&&(ge=5)}function nn(e,t,n){var r=K,l=Je.transition;try{Je.transition=null,K=1,Bh(e,t,n,r)}finally{Je.transition=l,K=r}return null}function Bh(e,t,n,r){do $n();while(At!==null);if(G&6)throw Error(b(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(jm(e,s),e===xe&&(fe=xe=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hl||(hl=!0,$d(Il,function(){return $n(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Je.transition,Je.transition=null;var i=K;K=1;var a=G;G|=4,Mi.current=null,zh(e,n),Td(n,e),ih(wo),Rl=!!yo,wo=yo=null,e.current=n,Mh(n),fm(),G=a,K=i,Je.transition=s}else e.current=n;if(hl&&(hl=!1,At=e,Zl=l),s=e.pendingLanes,s===0&&(Ht=null),pm(n.stateNode),Ae(e,de()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Kl)throw Kl=!1,e=Uo,Uo=null,e;return Zl&1&&e.tag!==0&&$n(),s=e.pendingLanes,s&1?e===Bo?kr++:(kr=0,Bo=e):kr=0,Jt(),null}function $n(){if(At!==null){var e=yc(Zl),t=Je.transition,n=K;try{if(Je.transition=null,K=16>e?16:e,At===null)var r=!1;else{if(e=At,At=null,Zl=0,G&6)throw Error(b(331));var l=G;for(G|=4,D=e.current;D!==null;){var s=D,i=s.child;if(D.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(D=c;D!==null;){var m=D;switch(m.tag){case 0:case 11:case 15:jr(8,m,s)}var d=m.child;if(d!==null)d.return=m,D=d;else for(;D!==null;){m=D;var p=m.sibling,v=m.return;if(Ld(m),m===c){D=null;break}if(p!==null){p.return=v,D=p;break}D=v}}}var y=s.alternate;if(y!==null){var j=y.child;if(j!==null){y.child=null;do{var k=j.sibling;j.sibling=null,j=k}while(j!==null)}}D=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,D=i;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jr(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,D=h;break e}D=s.return}}var f=e.current;for(D=f;D!==null;){i=D;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,D=g;else e:for(i=f;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:as(9,a)}}catch(w){ue(a,a.return,w)}if(a===i){D=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,D=S;break e}D=a.return}}if(G=l,Jt(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(es,e)}catch{}r=!0}return r}finally{K=n,Je.transition=t}}return!1}function lu(e,t,n){t=Yn(n,t),t=yd(e,t,1),e=Vt(e,t,1),t=Le(),e!==null&&(Hr(e,1,t),Ae(e,t))}function ue(e,t,n){if(e.tag===3)lu(e,e,n);else for(;t!==null;){if(t.tag===3){lu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ht===null||!Ht.has(r))){e=Yn(n,e),e=wd(t,e,1),t=Vt(t,e,1),e=Le(),t!==null&&(Hr(t,1,e),Ae(t,e));break}}t=t.return}}function $h(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(Se&n)===n&&(ge===4||ge===3&&(Se&130023424)===Se&&500>de()-Ai?on(e,0):Fi|=n),Ae(e,t)}function Ud(e,t){t===0&&(e.mode&1?(t=ll,ll<<=1,!(ll&130023424)&&(ll=4194304)):t=1);var n=Le();e=_t(e,t),e!==null&&(Hr(e,t,n),Ae(e,n))}function Wh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ud(e,n)}function Vh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(t),Ud(e,n)}var Bd;Bd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Me.current)ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ze=!1,Dh(e,t,n);ze=!!(e.flags&131072)}else ze=!1,le&&t.flags&1048576&&Hc(t,Bl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Nl(e,t),e=t.pendingProps;var l=Vn(t,be.current);Bn(t,n),l=Di(null,t,r,e,l,n);var s=Ii();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(r)?(s=!0,Ol(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ei(t),l.updater=is,t.stateNode=l,l._reactInternals=t,Po(t,r,e,n),t=Io(null,t,r,!0,s,n)):(t.tag=0,le&&s&&yi(t),Pe(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Nl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Gh(r),e=rt(r,e),l){case 0:t=Do(null,t,r,e,n);break e;case 1:t=Ya(null,t,r,e,n);break e;case 11:t=Ga(null,t,r,e,n);break e;case 14:t=Qa(null,t,r,rt(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),Do(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),Ya(e,t,r,l,n);case 3:e:{if(Nd(t),e===null)throw Error(b(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Xc(e,t),Vl(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Yn(Error(b(423)),t),t=Ka(e,t,r,n,l);break e}else if(r!==l){l=Yn(Error(b(424)),t),t=Ka(e,t,r,n,l);break e}else for($e=Wt(t.stateNode.containerInfo.firstChild),We=t,le=!0,ot=null,n=Kc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hn(),r===l){t=bt(e,t,n);break e}Pe(e,t,r,n)}t=t.child}return t;case 5:return Jc(t),e===null&&Eo(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,jo(r,l)?i=null:s!==null&&jo(r,s)&&(t.flags|=32),kd(e,t),Pe(e,t,i,n),t.child;case 6:return e===null&&Eo(t),null;case 13:return Cd(e,t,n);case 4:return _i(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gn(t,null,r,n):Pe(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),Ga(e,t,r,l,n);case 7:return Pe(e,t,t.pendingProps,n),t.child;case 8:return Pe(e,t,t.pendingProps.children,n),t.child;case 12:return Pe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,i=l.value,q($l,r._currentValue),r._currentValue=i,s!==null)if(ct(s.value,i)){if(s.children===l.children&&!Me.current){t=bt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=kt(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),_o(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(b(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),_o(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Pe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Bn(t,n),l=qe(l),r=r(l),t.flags|=1,Pe(e,t,r,n),t.child;case 14:return r=t.type,l=rt(r,t.pendingProps),l=rt(r.type,l),Qa(e,t,r,l,n);case 15:return jd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),Nl(e,t),t.tag=1,Fe(r)?(e=!0,Ol(t)):e=!1,Bn(t,n),xd(t,r,l),Po(t,r,l,n),Io(null,t,r,!0,e,n);case 19:return Ed(e,t,n);case 22:return Sd(e,t,n)}throw Error(b(156,t.tag))};function $d(e,t){return pc(e,t)}function Hh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,n,r){return new Hh(e,t,n,r)}function $i(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gh(e){if(typeof e=="function")return $i(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ii)return 11;if(e===ai)return 14}return 2}function Qt(e,t){var n=e.alternate;return n===null?(n=Xe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _l(e,t,n,r,l,s){var i=2;if(r=e,typeof e=="function")$i(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case En:return an(n.children,l,s,t);case oi:i=8,l|=8;break;case Js:return e=Xe(12,n,t,l|2),e.elementType=Js,e.lanes=s,e;case qs:return e=Xe(13,n,t,l),e.elementType=qs,e.lanes=s,e;case eo:return e=Xe(19,n,t,l),e.elementType=eo,e.lanes=s,e;case Ju:return cs(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zu:i=10;break e;case Xu:i=9;break e;case ii:i=11;break e;case ai:i=14;break e;case It:i=16,r=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=Xe(i,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function an(e,t,n,r){return e=Xe(7,e,r,t),e.lanes=n,e}function cs(e,t,n,r){return e=Xe(22,e,r,t),e.elementType=Ju,e.lanes=n,e.stateNode={isHidden:!1},e}function Ws(e,t,n){return e=Xe(6,e,null,t),e.lanes=n,e}function Vs(e,t,n){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qh(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ns(0),this.expirationTimes=Ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ns(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Wi(e,t,n,r,l,s,i,a,u){return e=new Qh(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Xe(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ei(s),e}function Yh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Wd(e){if(!e)return Kt;e=e._reactInternals;e:{if(yn(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if(Fe(n))return Wc(e,n,t)}return t}function Vd(e,t,n,r,l,s,i,a,u){return e=Wi(n,r,!0,e,l,s,i,a,u),e.context=Wd(null),n=e.current,r=Le(),l=Gt(n),s=kt(r,l),s.callback=t??null,Vt(n,s,l),e.current.lanes=l,Hr(e,l,r),Ae(e,r),e}function ds(e,t,n,r){var l=t.current,s=Le(),i=Gt(l);return n=Wd(n),t.context===null?t.context=n:t.pendingContext=n,t=kt(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vt(l,t,i),e!==null&&(ut(e,l,i,s),jl(e,l,i)),i}function Jl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function su(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vi(e,t){su(e,t),(e=e.alternate)&&su(e,t)}function Kh(){return null}var Hd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hi(e){this._internalRoot=e}fs.prototype.render=Hi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));ds(e,t,null,null)};fs.prototype.unmount=Hi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pn(function(){ds(null,e,null,null)}),t[Et]=null}};function fs(e){this._internalRoot=e}fs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&t!==0&&t<Rt[n].priority;n++);Rt.splice(n,0,e),n===0&&Nc(e)}};function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ms(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ou(){}function Zh(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=Jl(i);s.call(c)}}var i=Vd(t,r,e,0,null,!1,!1,"",ou);return e._reactRootContainer=i,e[Et]=i.current,Ir(e.nodeType===8?e.parentNode:e),pn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var c=Jl(u);a.call(c)}}var u=Wi(e,0,!1,null,null,!1,!1,"",ou);return e._reactRootContainer=u,e[Et]=u.current,Ir(e.nodeType===8?e.parentNode:e),pn(function(){ds(t,u,n,r)}),u}function hs(e,t,n,r,l){var s=n._reactRootContainer;if(s){var i=s;if(typeof l=="function"){var a=l;l=function(){var u=Jl(i);a.call(u)}}ds(t,i,e,l)}else i=Zh(n,t,e,l,r);return Jl(i)}wc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mr(t.pendingLanes);n!==0&&(di(t,n|1),Ae(t,de()),!(G&6)&&(Kn=de()+500,Jt()))}break;case 13:pn(function(){var r=_t(e,1);if(r!==null){var l=Le();ut(r,e,1,l)}}),Vi(e,1)}};fi=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var n=Le();ut(t,e,134217728,n)}Vi(e,134217728)}};jc=function(e){if(e.tag===13){var t=Gt(e),n=_t(e,t);if(n!==null){var r=Le();ut(n,e,t,r)}Vi(e,t)}};Sc=function(){return K};kc=function(e,t){var n=K;try{return K=e,t()}finally{K=n}};co=function(e,t,n){switch(t){case"input":if(ro(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ls(r);if(!l)throw Error(b(90));ec(r),ro(r,l)}}}break;case"textarea":nc(e,n);break;case"select":t=n.value,t!=null&&Fn(e,!!n.multiple,t,!1)}};uc=Oi;cc=pn;var Xh={usingClientEntryPoint:!1,Events:[Qr,Ln,ls,ic,ac,Oi]},ur={findFiberByHostInstance:rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jh={bundleType:ur.bundleType,version:ur.version,rendererPackageName:ur.rendererPackageName,rendererConfig:ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mc(e),e===null?null:e.stateNode},findFiberByHostInstance:ur.findFiberByHostInstance||Kh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{es=pl.inject(Jh),pt=pl}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xh;He.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gi(t))throw Error(b(200));return Yh(e,t,null,n)};He.createRoot=function(e,t){if(!Gi(e))throw Error(b(299));var n=!1,r="",l=Hd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Wi(e,1,!1,null,null,n,!1,r,l),e[Et]=t.current,Ir(e.nodeType===8?e.parentNode:e),new Hi(t)};He.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=mc(t),e=e===null?null:e.stateNode,e};He.flushSync=function(e){return pn(e)};He.hydrate=function(e,t,n){if(!ms(t))throw Error(b(200));return hs(null,e,t,!0,n)};He.hydrateRoot=function(e,t,n){if(!Gi(e))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",i=Hd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Vd(t,null,e,1,n??null,l,!1,s,i),e[Et]=t.current,Ir(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new fs(t)};He.render=function(e,t,n){if(!ms(t))throw Error(b(200));return hs(null,e,t,!1,n)};He.unmountComponentAtNode=function(e){if(!ms(e))throw Error(b(40));return e._reactRootContainer?(pn(function(){hs(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1};He.unstable_batchedUpdates=Oi;He.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ms(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return hs(e,t,n,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function Gd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gd)}catch(e){console.error(e)}}Gd(),Gu.exports=He;var Qd=Gu.exports,iu=Qd;Zs.createRoot=iu.createRoot,Zs.hydrateRoot=iu.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Br(){return Br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Br.apply(this,arguments)}var Ot;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ot||(Ot={}));const au="popstate";function qh(e){e===void 0&&(e={});function t(r,l){let{pathname:s,search:i,hash:a}=r.location;return Vo("",{pathname:s,search:i,hash:a},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Yd(l)}return tp(t,n,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ep(){return Math.random().toString(36).substr(2,8)}function uu(e,t){return{usr:e.state,key:e.key,idx:t}}function Vo(e,t,n,r){return n===void 0&&(n=null),Br({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?er(t):t,{state:n,key:t&&t.key||r||ep()})}function Yd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tp(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,i=l.history,a=Ot.Pop,u=null,c=m();c==null&&(c=0,i.replaceState(Br({},i.state,{idx:c}),""));function m(){return(i.state||{idx:null}).idx}function d(){a=Ot.Pop;let k=m(),h=k==null?null:k-c;c=k,u&&u({action:a,location:j.location,delta:h})}function p(k,h){a=Ot.Push;let f=Vo(j.location,k,h);c=m()+1;let g=uu(f,c),S=j.createHref(f);try{i.pushState(g,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;l.location.assign(S)}s&&u&&u({action:a,location:j.location,delta:1})}function v(k,h){a=Ot.Replace;let f=Vo(j.location,k,h);c=m();let g=uu(f,c),S=j.createHref(f);i.replaceState(g,"",S),s&&u&&u({action:a,location:j.location,delta:0})}function y(k){let h=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof k=="string"?k:Yd(k);return f=f.replace(/ $/,"%20"),me(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let j={get action(){return a},get location(){return e(l,i)},listen(k){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(au,d),u=k,()=>{l.removeEventListener(au,d),u=null}},createHref(k){return t(l,k)},createURL:y,encodeLocation(k){let h=y(k);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:v,go(k){return i.go(k)}};return j}var cu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cu||(cu={}));function np(e,t,n){return n===void 0&&(n="/"),rp(e,t,n)}function rp(e,t,n,r){let l=typeof t=="string"?er(t):t,s=Xd(l.pathname||"/",n);if(s==null)return null;let i=Kd(e);lp(i);let a=null;for(let u=0;a==null&&u<i.length;++u){let c=gp(s);a=mp(i[u],c)}return a}function Kd(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,i,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};u.relativePath.startsWith("/")&&(me(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=un([r,u.relativePath]),m=n.concat(u);s.children&&s.children.length>0&&(me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Kd(s.children,t,m,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:dp(c,s.index),routesMeta:m})};return e.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))l(s,i);else for(let u of Zd(s.path))l(s,i,u)}),t}function Zd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let i=Zd(r.join("/")),a=[];return a.push(...i.map(u=>u===""?s:[s,u].join("/"))),l&&a.push(...i),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function lp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fp(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sp=/^:[\w-]+$/,op=3,ip=2,ap=1,up=10,cp=-2,du=e=>e==="*";function dp(e,t){let n=e.split("/"),r=n.length;return n.some(du)&&(r+=cp),t&&(r+=ip),n.filter(l=>!du(l)).reduce((l,s)=>l+(sp.test(s)?op:s===""?ap:up),r)}function fp(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function mp(e,t,n){let{routesMeta:r}=e,l={},s="/",i=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,m=s==="/"?t:t.slice(s.length)||"/",d=hp({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},m),p=u.route;if(!d)return null;Object.assign(l,d.params),i.push({params:l,pathname:un([s,d.pathname]),pathnameBase:jp(un([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=un([s,d.pathnameBase]))}return i}function hp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pp(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],i=s.replace(/(.)\/+$/,"$1"),a=l.slice(1);return{params:r.reduce((c,m,d)=>{let{paramName:p,isOptional:v}=m;if(p==="*"){let j=a[d]||"";i=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const y=a[d];return v&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:i,pattern:e}}function pp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Qi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function gp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const vp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xp=e=>vp.test(e);function yp(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?er(e):e,s;if(n)if(xp(n))s=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),Qi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?s=fu(n.substring(1),"/"):s=fu(n,t)}else s=t;return{pathname:s,search:Sp(r),hash:kp(l)}}function fu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Hs(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jd(e,t){let n=wp(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qd(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=er(e):(l=Br({},e),me(!l.pathname||!l.pathname.includes("?"),Hs("?","pathname","search",l)),me(!l.pathname||!l.pathname.includes("#"),Hs("#","pathname","hash",l)),me(!l.search||!l.search.includes("#"),Hs("#","search","hash",l)));let s=e===""||l.pathname==="",i=s?"/":l.pathname,a;if(i==null)a=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),d-=1;l.pathname=p.join("/")}a=d>=0?t[d]:"/"}let u=yp(l,a),c=i&&i!=="/"&&i.endsWith("/"),m=(s||i===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||m)&&(u.pathname+="/"),u}const un=e=>e.join("/").replace(/\/\/+/g,"/"),jp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Np(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ef=["post","put","patch","delete"];new Set(ef);const Cp=["get",...ef];new Set(Cp);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $r(){return $r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$r.apply(this,arguments)}const Yi=x.createContext(null),Ep=x.createContext(null),Kr=x.createContext(null),ps=x.createContext(null),qt=x.createContext({outlet:null,matches:[],isDataRoute:!1}),tf=x.createContext(null);function Zr(){return x.useContext(ps)!=null}function Xr(){return Zr()||me(!1),x.useContext(ps).location}function nf(e){x.useContext(Kr).static||x.useLayoutEffect(e)}function Oe(){let{isDataRoute:e}=x.useContext(qt);return e?Up():_p()}function _p(){Zr()||me(!1);let e=x.useContext(Yi),{basename:t,future:n,navigator:r}=x.useContext(Kr),{matches:l}=x.useContext(qt),{pathname:s}=Xr(),i=JSON.stringify(Jd(l,n.v7_relativeSplatPath)),a=x.useRef(!1);return nf(()=>{a.current=!0}),x.useCallback(function(c,m){if(m===void 0&&(m={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=qd(c,JSON.parse(i),s,m.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:un([t,d.pathname])),(m.replace?r.replace:r.push)(d,m.state,m)},[t,r,i,s,e])}function bp(){let{matches:e}=x.useContext(qt),t=e[e.length-1];return t?t.params:{}}function Pp(e,t){return Lp(e,t)}function Lp(e,t,n,r){Zr()||me(!1);let{navigator:l}=x.useContext(Kr),{matches:s}=x.useContext(qt),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let c=Xr(),m;if(t){var d;let k=typeof t=="string"?er(t):t;u==="/"||(d=k.pathname)!=null&&d.startsWith(u)||me(!1),m=k}else m=c;let p=m.pathname||"/",v=p;if(u!=="/"){let k=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=np(e,{pathname:v}),j=zp(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:un([u,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:un([u,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return t&&j?x.createElement(ps.Provider,{value:{location:$r({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Ot.Pop}},j):j}function Dp(){let e=Op(),t=Np(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:l},n):null,null)}const Ip=x.createElement(Dp,null);class Tp extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(qt.Provider,{value:this.props.routeContext},x.createElement(tf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rp(e){let{routeContext:t,match:n,children:r}=e,l=x.useContext(Yi);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(qt.Provider,{value:t},r)}function zp(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(l=n)==null?void 0:l.errors;if(a!=null){let m=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);m>=0||me(!1),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<i.length;m++){let d=i[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=m),d.route.id){let{loaderData:p,errors:v}=n,y=d.route.loader&&p[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||y){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((m,d,p)=>{let v,y=!1,j=null,k=null;n&&(v=a&&d.route.id?a[d.route.id]:void 0,j=d.route.errorElement||Ip,u&&(c<0&&p===0?(Bp("route-fallback"),y=!0,k=null):c===p&&(y=!0,k=d.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,p+1)),f=()=>{let g;return v?g=j:y?g=k:d.route.Component?g=x.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=m,x.createElement(Rp,{match:d,routeContext:{outlet:m,matches:h,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?x.createElement(Tp,{location:n.location,revalidation:n.revalidation,component:j,error:v,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var rf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rf||{}),lf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lf||{});function Mp(e){let t=x.useContext(Yi);return t||me(!1),t}function Fp(e){let t=x.useContext(Ep);return t||me(!1),t}function Ap(e){let t=x.useContext(qt);return t||me(!1),t}function sf(e){let t=Ap(),n=t.matches[t.matches.length-1];return n.route.id||me(!1),n.route.id}function Op(){var e;let t=x.useContext(tf),n=Fp(),r=sf();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Up(){let{router:e}=Mp(rf.UseNavigateStable),t=sf(lf.UseNavigateStable),n=x.useRef(!1);return nf(()=>{n.current=!0}),x.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,$r({fromRouteId:t},s)))},[e,t])}const mu={};function Bp(e,t,n){mu[e]||(mu[e]=!0)}function $p(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function of(e){let{to:t,replace:n,state:r,relative:l}=e;Zr()||me(!1);let{future:s,static:i}=x.useContext(Kr),{matches:a}=x.useContext(qt),{pathname:u}=Xr(),c=Oe(),m=qd(t,Jd(a,s.v7_relativeSplatPath),u,l==="path"),d=JSON.stringify(m);return x.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:l}),[c,d,l,n,r]),null}function Ye(e){me(!1)}function Wp(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Ot.Pop,navigator:s,static:i=!1,future:a}=e;Zr()&&me(!1);let u=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:u,navigator:s,static:i,future:$r({v7_relativeSplatPath:!1},a)}),[u,a,s,i]);typeof r=="string"&&(r=er(r));let{pathname:m="/",search:d="",hash:p="",state:v=null,key:y="default"}=r,j=x.useMemo(()=>{let k=Xd(m,u);return k==null?null:{location:{pathname:k,search:d,hash:p,state:v,key:y},navigationType:l}},[u,m,d,p,v,y,l]);return j==null?null:x.createElement(Kr.Provider,{value:c},x.createElement(ps.Provider,{children:n,value:j}))}function Vp(e){let{children:t,location:n}=e;return Pp(Ho(t),n)}new Promise(()=>{});function Ho(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,l)=>{if(!x.isValidElement(r))return;let s=[...t,l];if(r.type===x.Fragment){n.push.apply(n,Ho(r.props.children,s));return}r.type!==Ye&&me(!1),!r.props.index||!r.props.children||me(!1);let i={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Ho(r.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Hp="6";try{window.__reactRouterVersion=Hp}catch{}const Gp="startTransition",hu=$f[Gp];function Qp(e){let{basename:t,children:n,future:r,window:l}=e,s=x.useRef();s.current==null&&(s.current=qh({window:l,v5Compat:!0}));let i=s.current,[a,u]=x.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},m=x.useCallback(d=>{c&&hu?hu(()=>u(d)):u(d)},[u,c]);return x.useLayoutEffect(()=>i.listen(m),[i,m]),x.useEffect(()=>$p(r),[r]),x.createElement(Wp,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var pu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pu||(pu={}));var gu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gu||(gu={}));const af=x.createContext(void 0);function Yp({children:e}){const[t,n]=x.useState(null),[r,l]=x.useState(!0),s=Oe();x.useEffect(()=>{const u=localStorage.getItem("user");if(u)try{n(JSON.parse(u))}catch{localStorage.removeItem("user")}l(!1)},[]);const i=(u,c)=>{localStorage.setItem("user",JSON.stringify(c)),n(c),s("/")},a=()=>{localStorage.removeItem("user"),n(null),s("/auth")};return o.jsx(af.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:r,login:i,logout:a},children:e})}function vt(){const e=x.useContext(af);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const Kp="https://script.google.com/macros/s/AKfycbyBK-9iXQ7bXvd26EN4qCz6DT2V_Z9pniGS2qrLaBP7pqXIQ29hGtmnQj2PP2LYCPHf/exec";class Zp{getUserEmail(){const t=localStorage.getItem("user");if(!t)return null;try{return JSON.parse(t).email||null}catch{return null}}async request(t,n={}){var i,a,u,c,m;const r=this.getUserEmail(),l={...n.headers||{}},s=r?`&auth=${encodeURIComponent("Email "+r)}`:"";try{const p=await(await fetch(`${Kp}?path=${t}${s}`,{...n,headers:l})).json();if(!p.ok){if(((i=p.error)==null?void 0:i.code)==="INVALID_TOKEN"||((a=p.error)==null?void 0:a.code)==="AUTH_REQUIRED"||((u=p.error)==null?void 0:u.code)==="FORBIDDEN"){localStorage.removeItem("user");const v=((c=p.error)==null?void 0:c.message)||"Your account is not authorized to access this application.";throw localStorage.setItem("auth_error",v),window.location.href="/auth",new Error(v)}throw new Error(((m=p.error)==null?void 0:m.message)||"An error occurred")}return p.data}catch(d){throw d instanceof Error?d:new Error("Network error")}}async get(t,n){const r=n?Object.fromEntries(Object.entries(n).filter(([s,i])=>i!==void 0)):void 0,l=r?"&"+new URLSearchParams(r).toString():"";return this.request(`${t}${l}`,{method:"POST"})}async post(t,n){return this.request(t,{method:"POST",body:JSON.stringify(n)})}async put(t,n){return this.request(t,{method:"PUT",body:JSON.stringify(n)})}}const re=new Zp,vu={async get(){return re.get("profile/get")},async save(e){return re.post("profile/save",e)}};function Xp(e){return new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{const s=r.result.split(",")[1];t(s)},r.onerror=n})}const uf=x.createContext(void 0);let cr=null,Gs=null;function Jp({children:e}){const{isAuthenticated:t,isLoading:n}=vt(),[r,l]=x.useState(null),[s,i]=x.useState(!1),[a,u]=x.useState(null),c=async()=>{if(t){i(!0);try{const d=await vu.get();if(l({pseudo:d.pseudo,avatar_url:d.avatar_url}),d.avatar_base64&&d.avatar_url!==Gs)try{const p=`data:image/jpeg;base64,${d.avatar_base64}`;cr&&URL.revokeObjectURL(cr),cr=p,Gs=d.avatar_url,u(p)}catch(p){console.error("Failed to convert avatar to data URL:",p),u(null)}else d.avatar_url===Gs&&cr?u(cr):d.avatar_base64||u(null)}catch(d){console.error("Failed to load profile:",d)}finally{i(!1)}}};x.useEffect(()=>{!n&&t&&c()},[t,n]);const m=async(d,p)=>{try{const v={pseudo:d};if(p){const j=await Xp(p);v.avatar=j}const y=await vu.save(v);l({pseudo:y.pseudo,avatar_url:y.avatar_url}),await c()}catch(v){throw console.error("Failed to save profile:",v),v}};return o.jsx(uf.Provider,{value:{profile:r,isLoading:s,saveProfile:m,reloadProfile:c,avatarBlobUrl:a},children:e})}function Ki(){const e=x.useContext(uf);if(!e)throw new Error("useProfile must be used within ProfileProvider");return e}function cf({size:e="md",className:t=""}){const r={sm:{width:16,height:16,border:2},md:{width:32,height:32,border:3},lg:{width:48,height:48,border:4}}[e];return o.jsx("div",{className:`rounded-full animate-spin ${t}`,style:{width:r.width,height:r.height,borderWidth:r.border,borderStyle:"solid",borderColor:"#2563eb",borderTopColor:"transparent"}})}function wn({message:e="Loading..."}){return o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[o.jsx(cf,{size:"lg"}),o.jsx("p",{className:"mt-4 text-gray-600",children:e})]})}function xt({children:e}){const{isAuthenticated:t,isLoading:n}=vt();return n?o.jsx(wn,{message:"Checking authentication..."}):t?o.jsx(o.Fragment,{children:e}):o.jsx(of,{to:"/auth",replace:!0})}function Y({variant:e="primary",fullWidth:t=!1,className:n="",children:r,...l}){const s="px-6 py-3 rounded-lg font-medium transition-colors touch-manipulation flex items-center justify-center",i={primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 disabled:bg-gray-300",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 active:bg-gray-400 disabled:bg-gray-100",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800 disabled:bg-gray-300"},a=t?"w-full":"";return o.jsx("button",{className:`${s} ${i[e]} ${a} ${n}`,...l,children:r})}const gn={MAX_TEXT_LENGTH:300,MAX_PHOTOS_IN_ASSEMBLY:10,IMAGE_MAX_SIZE_MB:2,TIMEZONE:"Europe/Paris",PDF_POLL_INTERVAL_MS:3e3,INFINITE_SCROLL_THRESHOLD:.8,TARGET_IMAGE_WIDTH_PX:2480,ARTICLES_PER_PAGE:5},df=["January","February","March","April","May","June","July","August","September","October","November","December"];function qp(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function e0(){const{login:e,isAuthenticated:t}=vt(),n=Oe(),[r,l]=x.useState(!1),[s,i]=x.useState(null),[a]=x.useState(qp()),[u,c]=x.useState(!1);x.useEffect(()=>{t&&n("/")},[t,n]),x.useEffect(()=>{const d=localStorage.getItem("auth_error");d&&(i(d),localStorage.removeItem("auth_error"))},[]),x.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,document.body.appendChild(d),()=>{document.body.removeChild(d)}},[]);const m=()=>{var p,v,y;l(!0),i(null);const d=(y=(v=(p=window.google)==null?void 0:p.accounts)==null?void 0:v.oauth2)==null?void 0:y.initTokenClient({client_id:"175845978100-rqclosiat622f3b7ijpg17t2fnrnb522.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",callback:j=>{j.access_token?fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${j.access_token}`}}).then(k=>k.json()).then(k=>{e(j.access_token,{email:k.email,name:k.name}),l(!1)}).catch(()=>{i("Failed to get user information"),l(!1),a&&c(!0)}):(i("Failed to authenticate with Google"),l(!1),a&&c(!0))},error_callback:()=>{i("Google Sign-In failed"),l(!1),a&&c(!0)}});d==null||d.requestAccessToken()};return r?o.jsx(wn,{message:"Signing in..."}):a&&u?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rememly"}),o.jsx("p",{className:"text-gray-600",children:"Family photo journal"})]}),o.jsx("div",{className:"mb-6 w-full max-w-md",children:o.jsxs("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Safari login required"}),o.jsx("p",{className:"text-blue-800 text-sm mb-4",children:"Google sign-in doesn't work in app mode. Please login from Safari:"}),o.jsxs("ol",{className:"text-blue-800 text-sm space-y-2 mb-4 list-decimal list-inside",children:[o.jsx("li",{children:"Open Safari on your iPhone"}),o.jsxs("li",{children:["Go to ",o.jsx("span",{className:"font-mono bg-blue-100 px-1 rounded",children:"grut505.github.io"})]}),o.jsx("li",{children:"Sign in with your Google account"}),o.jsx("li",{children:"Add the app to your home screen again"})]}),o.jsx("p",{className:"text-blue-700 text-xs italic",children:"Important: you must re-add the app to your home screen after signing in from Safari."})]})}),o.jsx(Y,{onClick:()=>{window.location.href="https://grut505.github.io/auth"},className:"w-full max-w-sm",children:"Open in Safari"}),o.jsx("button",{onClick:()=>c(!1),className:"mt-4 text-sm text-gray-600 underline",children:"Try sign-in again"})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rememly"}),o.jsx("p",{className:"text-gray-600",children:"Family photo journal"})]}),s&&o.jsx("div",{className:"mb-6 w-full max-w-sm",children:o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("div",{className:"text-red-600 text-center text-sm",children:s})})}),o.jsx(Y,{onClick:m,className:"w-full max-w-sm",children:s?"Try another account":"Sign in with Google"})]})}const t0={},xu=e=>{let t;const n=new Set,r=(m,d)=>{const p=typeof m=="function"?m(t):m;if(!Object.is(p,t)){const v=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,v))}},l=()=>t,u={setState:r,getState:l,getInitialState:()=>c,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(t0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,l,u);return u},n0=e=>e?xu(e):xu;var ff={exports:{}},mf={},hf={exports:{}},pf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zn=x;function r0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var l0=typeof Object.is=="function"?Object.is:r0,s0=Zn.useState,o0=Zn.useEffect,i0=Zn.useLayoutEffect,a0=Zn.useDebugValue;function u0(e,t){var n=t(),r=s0({inst:{value:n,getSnapshot:t}}),l=r[0].inst,s=r[1];return i0(function(){l.value=n,l.getSnapshot=t,Qs(l)&&s({inst:l})},[e,n,t]),o0(function(){return Qs(l)&&s({inst:l}),e(function(){Qs(l)&&s({inst:l})})},[e]),a0(n),n}function Qs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!l0(e,n)}catch{return!0}}function c0(e,t){return t()}var d0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c0:u0;pf.useSyncExternalStore=Zn.useSyncExternalStore!==void 0?Zn.useSyncExternalStore:d0;hf.exports=pf;var f0=hf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=x,m0=f0;function h0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var p0=typeof Object.is=="function"?Object.is:h0,g0=m0.useSyncExternalStore,v0=gs.useRef,x0=gs.useEffect,y0=gs.useMemo,w0=gs.useDebugValue;mf.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var s=v0(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=y0(function(){function u(v){if(!c){if(c=!0,m=v,v=r(v),l!==void 0&&i.hasValue){var y=i.value;if(l(y,v))return d=y}return d=v}if(y=d,p0(m,v))return y;var j=r(v);return l!==void 0&&l(y,j)?(m=v,y):(m=v,d=j)}var c=!1,m,d,p=n===void 0?null:n;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,n,r,l]);var a=g0(e,s[0],s[1]);return x0(function(){i.hasValue=!0,i.value=a},[a]),w0(a),a};ff.exports=mf;var j0=ff.exports;const S0=Ru(j0),gf={},{useDebugValue:k0}=ni,{useSyncExternalStoreWithSelector:N0}=S0;let yu=!1;const C0=e=>e;function E0(e,t=C0,n){(gf?"production":void 0)!=="production"&&n&&!yu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),yu=!0);const r=N0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return k0(r),r}const wu=e=>{(gf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?n0(e):e,n=(r,l)=>E0(t,r,l);return Object.assign(n,t),n},Zi=e=>e?wu(e):wu,ju={year:"",month:"",from:"",to:"",author:"",statusFilter:"active",sourceFilter:"all"},lt=Zi(e=>({articles:[],isLoading:!1,error:null,cursor:null,hasMore:!0,filters:ju,setArticles:(t,n=null)=>{const r=new Set,l=t.filter(s=>r.has(s.id)?!1:(r.add(s.id),!0));return e({articles:l,cursor:n,hasMore:n!==null})},addArticles:(t,n)=>e(r=>{const l=new Set(r.articles.map(i=>i.id)),s=t.filter(i=>!l.has(i.id));return{articles:[...r.articles,...s],cursor:n,hasMore:n!==null}}),updateArticle:t=>e(n=>({articles:n.articles.map(r=>r.id===t.id?t:r)})),deleteArticle:t=>e(n=>({articles:n.articles.filter(r=>r.id!==t)})),setLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),setFilters:t=>e({filters:t}),reset:()=>e({articles:[],isLoading:!1,error:null,cursor:null,hasMore:!0,filters:ju})})),it={list:e=>re.get("articles/list",e),authors:e=>re.get("articles/authors",e),get:e=>re.get("articles/get",{id:e}),create:e=>re.post("articles/create",e),update:e=>re.post("articles/update",e),delete:e=>re.get("articles/delete",{id:e}),permanentDelete:e=>re.get("articles/permanent-delete",{id:e})};function vf({onClick:e,icon:t,className:n=""}){return o.jsx("button",{onClick:e,className:`w-16 h-16 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 active:bg-blue-800 flex items-center justify-center text-3xl touch-manipulation ${n}`,"aria-label":"Create new article",children:t||"+"})}function xf({message:e,onRetry:t,retryLabel:n="Retry"}){return o.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-red-50 border border-red-200 rounded-lg",children:[o.jsx("div",{className:"text-red-600 text-center mb-4",children:e}),t&&o.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:n})]})}function yf(e){return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Go(){return new Date().getFullYear()}function wf(e){return new Date(e).toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}function Su(e){const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`}const ku=new Map;function _0(e){if(!e)return null;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/thumbnail\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return r[1]}return null}function b0(e,t){const[n,r]=x.useState(""),[l,s]=x.useState(!0),[i,a]=x.useState(!1);return x.useEffect(()=>{if(!e){r(""),s(!1),a(!1);return}if(e.startsWith("data:")||e.startsWith("blob:")){r(e),s(!1),a(!1);return}const u=t||_0(e);if(!u){a(!0),s(!1);return}const c=ku.get(u);if(c){r(c),s(!1),a(!1);return}s(!0),a(!1),(async()=>{try{const d=await re.get("image/fetch",{fileId:u});if(!d.base64){a(!0),s(!1);return}const p=`data:image/jpeg;base64,${d.base64}`;ku.set(u,p),r(p),s(!1)}catch{a(!0),s(!1)}})()},[e,t]),{src:n,isLoading:l,error:i}}function vn({isOpen:e,title:t,message:n,confirmLabel:r="Confirm",cancelLabel:l="Cancel",onConfirm:s,onCancel:i,variant:a="primary",isLoading:u=!1,progress:c=null}){return e?Qd.createPortal(o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:i}),o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-2",children:t}),o.jsx("p",{className:"text-gray-600 mb-4",children:n}),c&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[o.jsx("span",{children:"Deleting..."}),o.jsxs("span",{children:[c.current," / ",c.total]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-red-600 h-2.5 rounded-full transition-all duration-200",style:{width:`${c.current/c.total*100}%`}})})]}),!c&&o.jsx("div",{className:"mb-2"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Y,{variant:"secondary",fullWidth:!0,onClick:i,disabled:u,children:l}),o.jsx(Y,{variant:a,fullWidth:!0,onClick:s,disabled:u,children:u?"Deleting...":r})]})]})]}),document.body):null}async function P0(e,t=gn.TARGET_IMAGE_WIDTH_PX){return new Promise((n,r)=>{const l=new FileReader;l.onload=s=>{var a;const i=new Image;i.onload=()=>{const u=document.createElement("canvas");let c=i.width,m=i.height;c>t&&(m=m*t/c,c=t),u.width=c,u.height=m,u.getContext("2d").drawImage(i,0,0,c,m);const p=u.toDataURL("image/jpeg",.85);n(p.split(",")[1])},i.onerror=r,i.src=(a=s.target)==null?void 0:a.result},l.onerror=r,l.readAsDataURL(e)})}function L0(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{const l=r.result.split(",")[1];t(l)},r.onerror=n,r.readAsDataURL(e)})}async function D0(e,t=.9){return new Promise(n=>{e.toBlob(async r=>{if(r){const l=await L0(r);n(l)}},"image/jpeg",t)})}class I0{async processImage(t){const n=await P0(t);return{fileName:t.name,mimeType:"image/jpeg",base64:n}}async processMultipleImages(t){return Promise.all(t.map(n=>this.processImage(n)))}}const Nu=new I0;class T0{async createArticle(t,n,r,l,s,i,a){const u=await Nu.processImage(r),c={auteur:t,texte:n,image:u,date:l,famileo_post_id:s,assembly_state:i||null,full_page:a||!1};return it.create(c)}async updateArticle(t,n,r,l,s,i,a){const u={id:t,texte:n,date:l,assembly_state:s,full_page:i,status:a};return r&&(u.image=await Nu.processImage(r)),it.update(u)}async deleteArticle(t){await it.delete(t)}async restoreArticle(t){return it.update({id:t,status:"ACTIVE"})}}const Nt=new T0;function R0(e){if(!e)return"";if(e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w200`}return e}function z0(e,t){if(t){const r=t.startsWith("blob:")||t.startsWith("data:")?t:R0(t);return o.jsx("img",{src:r,alt:e,className:"w-10 h-10 rounded-full object-cover border-2 border-primary-200 flex-shrink-0"})}const n=e.split(" ").map(r=>r[0]).join("").toUpperCase().substring(0,2);return o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-sm font-semibold text-primary-700",children:n})})}function M0({article:e,onDeleted:t,onRestored:n,selectionMode:r,selected:l,onSelectionChange:s}){const i=Oe(),{user:a}=vt(),{profile:u,avatarBlobUrl:c}=Ki(),{src:m,isLoading:d,error:p}=b0(e.image_url,e.image_file_id),[v,y]=x.useState(!1),[j,k]=x.useState(!1),[h,f]=x.useState(!1),[g,S]=x.useState(!1),w=e.status==="DELETED",_=F=>{F.stopPropagation(),i(`/editor/${e.id}`)},C=()=>{i(`/editor/${e.id}`)},E=F=>{F.stopPropagation(),y(!0)},O=async()=>{k(!0);try{await Nt.deleteArticle(e.id),y(!1),t==null||t(e.id)}catch(F){console.error("Failed to delete article:",F)}finally{k(!1)}},M=F=>{F.stopPropagation(),f(!0)},Q=async()=>{S(!0);try{await Nt.restoreArticle(e.id),f(!1),n==null||n(e.id)}catch(F){console.error("Failed to restore article:",F)}finally{S(!1)}},H=e.author_pseudo||"Unknown",$=(a==null?void 0:a.email)===e.auteur&&c||void 0,U=F=>{F.stopPropagation(),s==null||s(e.id,F.target.checked)};return o.jsxs("div",{className:"px-4 mb-4",children:[o.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border hover:shadow-lg transition-shadow max-w-2xl mx-auto relative z-0 ${w?"border-red-300":l?"border-primary-500 ring-2 ring-primary-200":"border-gray-200"}`,onClick:r?()=>s==null?void 0:s(e.id,!l):void 0,children:[(w||e.famileo_post_id)&&o.jsxs("div",{className:"flex",children:[e.famileo_post_id&&o.jsx("div",{className:"flex-1 bg-purple-500 text-white text-xs font-semibold px-2 py-1 text-center",children:"Famileo"}),w&&o.jsx("div",{className:"flex-1 bg-red-500 text-white text-xs font-semibold px-2 py-1 text-center",children:"Deleted"})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r&&o.jsx("input",{type:"checkbox",checked:l,onChange:U,onClick:F=>F.stopPropagation(),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 flex-shrink-0"}),z0(H,$),o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:H}),o.jsx("span",{className:"text-sm text-gray-500",children:yf(e.date)})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:_,className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Edit article",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),w?o.jsx("button",{onClick:M,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Restore article",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}):o.jsx("button",{onClick:E,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Delete article",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),o.jsxs("div",{onClick:C,className:"w-full cursor-pointer bg-gray-50 relative",children:[d&&!p&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),p?o.jsxs("div",{className:"p-8 text-center text-gray-500",children:[o.jsx("p",{className:"text-sm",children:"Failed to load image"}),o.jsxs("p",{className:"text-xs mt-1",children:["FileId: ",e.image_file_id]})]}):m&&o.jsx("img",{src:m,alt:"",className:"w-full h-auto object-contain",loading:"lazy"})]}),e.texte&&o.jsx("div",{onClick:C,className:"p-4 transition-colors cursor-pointer hover:bg-gray-50",children:o.jsx("p",{className:"whitespace-pre-wrap text-gray-900",children:e.texte})})]}),o.jsx(vn,{isOpen:v,title:"Delete article?",message:"The article will be marked as deleted. You can find it later by enabling the 'Show deleted' filter.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:O,onCancel:()=>y(!1),variant:"danger",isLoading:j}),o.jsx(vn,{isOpen:h,title:"Restore article?",message:"The article will be restored and visible again in your timeline.",confirmLabel:"Restore",cancelLabel:"Cancel",onConfirm:Q,onCancel:()=>f(!1),isLoading:g})]})}function F0(){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No articles yet"}),o.jsx("p",{className:"text-gray-600",children:"Tap the + button to create your first photo article"})]})}function A0({monthYear:e}){return o.jsx("div",{className:"bg-gray-100 px-4 pt-3 pb-2 sticky top-[108px] z-10",children:o.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:e})})}function jn({onMenuClick:e}){const t=Oe(),[n,r]=x.useState(!1),l=x.useRef(null);x.useEffect(()=>{function i(a){l.current&&!l.current.contains(a.target)&&r(!1)}if(n)return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[n]);const s=i=>{r(!1),t(i)};return o.jsxs(o.Fragment,{children:[o.jsxs("header",{className:"bg-primary-600 text-white px-4 h-14 flex items-center fixed top-0 left-0 right-0 z-30 shadow-md max-w-content mx-auto",children:[o.jsx("div",{className:"w-10"}),o.jsx("h1",{className:"flex-1 text-xl font-bold leading-none text-center",children:"Rememly"}),o.jsxs("div",{className:"relative",ref:l,children:[o.jsx("button",{onClick:()=>r(!n),className:"p-2 hover:bg-primary-700 rounded-lg transition-colors touch-manipulation flex items-center justify-center","aria-label":"Menu",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})}),n&&o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-2 text-gray-800 z-30",children:[o.jsxs("button",{onClick:()=>s("/profile"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),o.jsx("span",{children:"Profile"})]}),o.jsxs("button",{onClick:()=>s("/stats"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),o.jsx("span",{children:"Statistics"})]}),o.jsxs("button",{onClick:()=>s("/famileo"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 text-orange-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),o.jsx("span",{children:"Famileo Scraper"})]}),o.jsxs("button",{onClick:()=>s("/pdf-export"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("span",{children:"PDF Export"})]}),o.jsxs("button",{onClick:()=>s("/settings"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsxs("svg",{className:"w-5 h-5 text-gray-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),o.jsx("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),o.jsx("span",{children:"Settings"})]}),o.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2 px-4 py-2",children:o.jsxs("p",{className:"text-xs text-gray-400",children:["v","1.2.0"," / backend @","94"]})})]})]})]}),o.jsx("div",{className:"h-14 flex-shrink-0"})]})}function O0({isOpen:e,onClose:t,title:n,children:r}){return x.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),o.jsxs("div",{className:"relative bg-white rounded-t-2xl sm:rounded-2xl w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] flex flex-col shadow-xl",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 touch-manipulation p-2",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:r})]})]}):null}const Wr=x.forwardRef(({label:e,error:t,className:n="",...r},l)=>o.jsxs("div",{className:"w-full",children:[e&&o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),o.jsx("input",{ref:l,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"border-red-500":"border-gray-300"} ${n}`,...r}),t&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]}));Wr.displayName="Input";const ae={year:"",month:"",dateFrom:"",dateTo:"",author:"",statusFilter:"active",sourceFilter:"all"};function U0({initialFilters:e,onApply:t,onClose:n}){const[r,l]=x.useState((e==null?void 0:e.year)??ae.year),[s,i]=x.useState((e==null?void 0:e.month)??ae.month),[a,u]=x.useState((e==null?void 0:e.dateFrom)??ae.dateFrom),[c,m]=x.useState((e==null?void 0:e.dateTo)??ae.dateTo),[d,p]=x.useState((e==null?void 0:e.author)??ae.author),[v,y]=x.useState((e==null?void 0:e.statusFilter)??ae.statusFilter),[j,k]=x.useState((e==null?void 0:e.sourceFilter)??ae.sourceFilter),[h,f]=x.useState([]),[g,S]=x.useState(!1);x.useEffect(()=>{e&&(l(e.year??ae.year),i(e.month??ae.month),u(e.dateFrom??ae.dateFrom),m(e.dateTo??ae.dateTo),p(e.author??ae.author),y(e.statusFilter??ae.statusFilter),k(e.sourceFilter??ae.sourceFilter))},[e]),x.useEffect(()=>{let C=!0;return(async()=>{S(!0);try{const O=await it.authors({status_filter:v,source_filter:j});C&&f(O.authors||[])}catch{C&&f([])}finally{C&&S(!1)}})(),()=>{C=!1}},[v,j]);const w=()=>{t({year:r,month:s,dateFrom:a,dateTo:c,author:d,statusFilter:v,sourceFilter:j}),n()},_=()=>{l(ae.year),i(ae.month),u(ae.dateFrom),m(ae.dateTo),p(ae.author),y(ae.statusFilter),k(ae.sourceFilter),t(ae),n()};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-4 space-y-6 overflow-y-auto overscroll-contain",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),o.jsxs("select",{value:r,onChange:C=>{l(C.target.value),C.target.value||i("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All years"}),[...Array(10)].map((C,E)=>{const O=Go()-E;return o.jsx("option",{value:O,children:O},O)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),o.jsxs("select",{value:s,onChange:C=>i(C.target.value),disabled:!r,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[o.jsx("option",{value:"",children:"All months"}),df.map((C,E)=>o.jsx("option",{value:(E+1).toString().padStart(2,"0"),children:C},E))]}),!r&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a year first"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author"}),o.jsxs("select",{value:d,onChange:C=>p(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All authors"}),h.map(C=>o.jsx("option",{value:C.email,children:C.pseudo||C.email.split("@")[0]},C.email))]}),g&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading authors..."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(Wr,{type:"date",label:"From",value:a,onChange:C=>{const E=C.target.value;u(E),c&&E&&c<E&&m(E)},max:c||void 0}),o.jsx(Wr,{type:"date",label:"To",value:c,onChange:C=>{const E=C.target.value;m(E),a&&E&&E<a&&u(E)},min:a||void 0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[o.jsx("button",{type:"button",onClick:()=>y("active"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${v==="active"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Active"}),o.jsx("button",{type:"button",onClick:()=>y("all"),className:`flex-1 px-3 py-2 text-sm font-medium border-x border-gray-300 transition-colors ${v==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"All"}),o.jsx("button",{type:"button",onClick:()=>y("deleted"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${v==="deleted"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Deleted"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source"}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[o.jsx("button",{type:"button",onClick:()=>k("all"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${j==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"All"}),o.jsx("button",{type:"button",onClick:()=>k("famileo"),className:`flex-1 px-3 py-2 text-sm font-medium border-x border-gray-300 transition-colors ${j==="famileo"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Famileo"}),o.jsx("button",{type:"button",onClick:()=>k("local"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${j==="local"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Local"})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 p-4 bg-white sticky bottom-0",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Y,{variant:"secondary",onClick:_,fullWidth:!0,children:"Reset"}),o.jsx(Y,{onClick:w,fullWidth:!0,children:"Apply Filters"})]})})]})})}function jf({checked:e,onChange:t,label:n,disabled:r=!1}){return o.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${r?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ${e?"bg-primary-600":"bg-gray-300"}`,onClick:()=>!r&&t(!e),children:o.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200 ${e?"translate-x-5":"translate-x-0"}`})}),n&&o.jsx("span",{className:"text-sm text-gray-700 select-none",children:n})]})}function B0(){const e=Oe(),{logout:t}=vt(),[n,r]=x.useState(!1),[l,s]=x.useState(!1),[i,a]=x.useState(new Set),[u,c]=x.useState(!1),[m,d]=x.useState(!1),[p,v]=x.useState(!1),[y,j]=x.useState(null),{articles:k,isLoading:h,error:f,cursor:g,hasMore:S,filters:w,setArticles:_,addArticles:C,setLoading:E,setError:O,setFilters:M}=lt(),Q=x.useRef(),H=x.useRef(!1),ne=x.useRef(null),[$,U]=x.useState(!1),[F,he]=x.useState(!1),[P,I]=x.useState(0),R=x.useRef(null);x.useEffect(()=>{H.current=h},[h]),x.useEffect(()=>{ne.current=g},[g]);const B=async()=>{E(!0),O(null),console.log("Loading articles with filters:",w);try{const L=await it.list({year:w.year||void 0,month:w.month,from:w.from,to:w.to,author:w.author,limit:String(gn.ARTICLES_PER_PAGE),status_filter:w.statusFilter||"active",source_filter:w.sourceFilter||"all"});console.log("Received articles:",L.items.length,"cursor:",L.next_cursor),_(L.items,L.next_cursor)}catch(L){O(L instanceof Error?L.message:"Failed to load articles")}finally{E(!1)}},Z=x.useCallback(async()=>{h||(he(!0),await B(),he(!1))},[h,B]),tt=x.useCallback(async()=>{const L=ne.current;if(!(!L||H.current)){H.current=!0,U(!0),console.log("loadMore called with cursor:",L);try{const A=await it.list({year:w.year||void 0,month:w.month,from:w.from,to:w.to,author:w.author,cursor:L,limit:String(gn.ARTICLES_PER_PAGE),status_filter:w.statusFilter||"active",source_filter:w.sourceFilter||"all"});console.log("Loaded more articles:",A.items.length,"next cursor:",A.next_cursor),ne.current=A.next_cursor,C(A.items,A.next_cursor)}catch(A){O(A instanceof Error?A.message:"Failed to load more")}finally{H.current=!1,U(!1)}}},[w.year,w.month,w.from,w.to,w.statusFilter,w.sourceFilter,C,O]),Ne=x.useCallback(L=>{Q.current&&Q.current.disconnect(),L&&(Q.current=new IntersectionObserver(A=>{A[0].isIntersecting&&!H.current&&ne.current&&(console.log("Sentinel visible, loading more..."),tt())},{threshold:1,rootMargin:"0px"}),Q.current.observe(L))},[tt]),ce=L=>{console.log("Applying filters:",L),_([]),M({year:L.year,month:L.month,from:L.dateFrom,to:L.dateTo,author:L.author,statusFilter:L.statusFilter,sourceFilter:L.sourceFilter})},T=L=>{if(w.statusFilter==="active"||!w.statusFilter)lt.getState().deleteArticle(L);else{const A=k.find(dt=>dt.id===L);A&&lt.getState().updateArticle({...A,status:"DELETED"})}},W=L=>{if(w.statusFilter==="deleted")lt.getState().deleteArticle(L);else{const A=k.find(dt=>dt.id===L);A&&lt.getState().updateArticle({...A,status:"ACTIVE"})}},X=(L,A)=>{a(dt=>{const en=new Set(dt);return A?en.add(L):en.delete(L),en})},ye=()=>{i.size===k.length?a(new Set):a(new Set(k.map(L=>L.id)))},Ue=()=>{s(!1),a(new Set)},Te=L=>{s(L),L||a(new Set)},Qe=L=>{window.scrollY<=0&&!F&&!h&&(R.current=L.touches[0].clientY)},Lt=L=>{if(R.current===null||F||h)return;if(window.scrollY>0){I(0),R.current=null;return}const A=L.touches[0].clientY-R.current;A>0?I(Math.min(A,80)):I(0)},tr=()=>{P>=50&&!F&&!h&&Z(),I(0),R.current=null},Sn=async()=>{c(!0);const L=Array.from(i);j({current:0,total:L.length});try{for(let A=0;A<L.length;A++)await Nt.deleteArticle(L[A]),j({current:A+1,total:L.length});w.statusFilter==="active"||!w.statusFilter?i.forEach(A=>lt.getState().deleteArticle(A)):i.forEach(A=>{const dt=k.find(en=>en.id===A);dt&&lt.getState().updateArticle({...dt,status:"DELETED"})}),Ue()}catch(A){console.error("Bulk delete failed:",A)}finally{c(!1),j(null),d(!1)}},N=async()=>{c(!0);const L=Array.from(i);j({current:0,total:L.length});try{for(let A=0;A<L.length;A++)await it.permanentDelete(L[A]),j({current:A+1,total:L.length});i.forEach(A=>lt.getState().deleteArticle(A)),Ue()}catch(A){console.error("Bulk permanent delete failed:",A)}finally{c(!1),j(null),v(!1)}},z=w.statusFilter==="deleted",J=w.year||w.month||w.from||w.to||w.author||w.statusFilter&&w.statusFilter!=="active"||w.sourceFilter&&w.sourceFilter!=="all",we={year:w.year||"",month:w.month||"",dateFrom:w.from||"",dateTo:w.to||"",author:w.author||"",statusFilter:w.statusFilter||"active",sourceFilter:w.sourceFilter||"all"};return x.useEffect(()=>{console.log("Filters changed, reloading articles:",w),B()},[w.year,w.month,w.from,w.to,w.author,w.statusFilter,w.sourceFilter]),h&&k.length===0?o.jsx(wn,{message:"Loading articles..."}):f&&k.length===0?o.jsx("div",{className:"h-full flex items-center justify-center p-6",children:o.jsx(xf,{message:f,onRetry:B})}):o.jsxs("div",{className:"min-h-screen flex flex-col",onTouchStart:Qe,onTouchMove:Lt,onTouchEnd:tr,children:[o.jsx(jn,{}),o.jsxs("div",{className:"bg-white border-b border-gray-300 px-4 py-3 flex items-center justify-between fixed top-[56px] left-0 right-0 z-[25] max-w-content mx-auto",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:l?`${i.size} selected`:w.year||"All years"}),o.jsxs("div",{className:"flex items-center gap-4",children:[l?o.jsx("button",{onClick:ye,className:"text-primary-600 hover:text-primary-700 touch-manipulation text-sm font-medium",children:i.size===k.length?"Deselect all":"Select all"}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:Z,className:"text-primary-600 hover:text-primary-700 touch-manipulation text-sm font-medium flex items-center gap-2 hidden sm:flex",children:[o.jsx("svg",{className:`w-4 h-4 ${F?"animate-spin":""}`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),o.jsxs("button",{onClick:()=>r(!0),className:`touch-manipulation flex items-center gap-2 ${J?"text-white bg-primary-600 hover:bg-primary-700 px-3 py-1.5 rounded-lg font-medium":"text-primary-600 hover:text-primary-700"}`,children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filter",J&&o.jsx("span",{className:"ml-1 bg-white text-primary-600 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:"!"})]})]}),k.length>0&&o.jsx(jf,{checked:l,onChange:Te,label:"Select"})]})]}),o.jsx("div",{className:"h-[36px]"}),o.jsxs("div",{className:"flex-1 pb-20",children:[P>0&&o.jsx("div",{className:"flex items-center justify-center text-xs text-gray-500",style:{height:`${P}px`},children:P>=50?"Release to refresh":"Pull to refresh"}),k.length===0?o.jsx(F0,{}):o.jsxs(o.Fragment,{children:[k.map((L,A)=>{const dt=Su(L.date),en=A>0?Su(k[A-1].date):null,Ji=dt!==en;return o.jsxs(x.Fragment,{children:[Ji&&o.jsx(A0,{monthYear:wf(L.date)}),o.jsx("div",{className:`relative z-0 ${Ji?"pt-8":""}`,children:o.jsx(M0,{article:L,onDeleted:T,onRestored:W,selectionMode:l,selected:i.has(L.id),onSelectionChange:X})})]},L.id)}),S&&!$&&o.jsx("div",{ref:Ne,className:"h-4"})]})]}),$&&o.jsx("div",{className:"fixed bottom-24 left-0 right-0 flex justify-center z-50",children:o.jsx("div",{className:"bg-gray-100 shadow-lg rounded-full p-3 border border-gray-200",children:o.jsx(cf,{})})}),l&&i.size>0&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 z-50 shadow-lg",children:o.jsxs("div",{className:"max-w-content mx-auto flex items-center justify-between gap-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[i.size," article",i.size>1?"s":""," selected"]}),o.jsx("div",{className:"flex gap-2",children:z?o.jsx("button",{onClick:()=>v(!0),disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 font-medium",children:u?"Deleting...":"Delete permanently"}):o.jsx("button",{onClick:()=>d(!0),disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 font-medium",children:u?"Deleting...":"Delete"})})]})}),!l&&o.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-50",children:o.jsx("div",{className:"max-w-content mx-auto px-4 flex justify-end",children:o.jsx(vf,{onClick:()=>e("/editor"),className:"bg-primary-600 hover:bg-primary-700 active:bg-primary-800 transition-all hover:scale-105 active:scale-95",icon:o.jsx("svg",{className:"w-8 h-8",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 4v16m8-8H4"})})})})}),o.jsx(vn,{isOpen:m,title:"Delete articles?",message:`${i.size} article${i.size>1?"s":""} will be marked as deleted. You can find them later by enabling the 'Show deleted' filter.`,confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:Sn,onCancel:()=>d(!1),variant:"danger",isLoading:u,progress:y}),o.jsx(vn,{isOpen:p,title:"Permanently delete articles?",message:` WARNING: ${i.size} article${i.size>1?"s":""} will be permanently removed from the database. This action cannot be undone!`,confirmLabel:"Delete permanently",cancelLabel:"Cancel",onConfirm:N,onCancel:()=>v(!1),variant:"danger",isLoading:u,progress:y}),o.jsx(O0,{isOpen:n,onClose:()=>r(!1),title:"Filters",children:o.jsx(U0,{initialFilters:we,onApply:ce,onClose:()=>r(!1)})})]})}const Qo=(e,t)=>t.some(n=>e instanceof n);let Cu,Eu;function $0(){return Cu||(Cu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W0(){return Eu||(Eu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yo=new WeakMap,Ys=new WeakMap,vs=new WeakMap;function V0(e){const t=new Promise((n,r)=>{const l=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(cn(e.result)),l()},i=()=>{r(e.error),l()};e.addEventListener("success",s),e.addEventListener("error",i)});return vs.set(t,e),t}function H0(e){if(Yo.has(e))return;const t=new Promise((n,r)=>{const l=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),l()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Yo.set(e,t)}let Ko={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Yo.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Sf(e){Ko=e(Ko)}function G0(e){return W0().includes(e)?function(...t){return e.apply(Zo(this),t),cn(this.request)}:function(...t){return cn(e.apply(Zo(this),t))}}function Q0(e){return typeof e=="function"?G0(e):(e instanceof IDBTransaction&&H0(e),Qo(e,$0())?new Proxy(e,Ko):e)}function cn(e){if(e instanceof IDBRequest)return V0(e);if(Ys.has(e))return Ys.get(e);const t=Q0(e);return t!==e&&(Ys.set(e,t),vs.set(t,e)),t}const Zo=e=>vs.get(e);function Y0(e,t,{blocked:n,upgrade:r,blocking:l,terminated:s}={}){const i=indexedDB.open(e,t),a=cn(i);return r&&i.addEventListener("upgradeneeded",u=>{r(cn(i.result),u.oldVersion,u.newVersion,cn(i.transaction),u)}),n&&i.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),l&&u.addEventListener("versionchange",c=>l(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const K0=["get","getKey","getAll","getAllKeys","count"],Z0=["put","add","delete","clear"],Ks=new Map;function _u(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ks.get(t))return Ks.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=Z0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||K0.includes(n)))return;const s=async function(i,...a){const u=this.transaction(i,l?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),l&&u.done]))[0]};return Ks.set(t,s),s}Sf(e=>({...e,get:(t,n,r)=>_u(t,n)||e.get(t,n,r),has:(t,n)=>!!_u(t,n)||e.has(t,n)}));const X0=["continue","continuePrimaryKey","advance"],bu={},Xo=new WeakMap,kf=new WeakMap,J0={get(e,t){if(!X0.includes(t))return e[t];let n=bu[t];return n||(n=bu[t]=function(...r){Xo.set(this,kf.get(this)[t](...r))}),n}};async function*q0(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,J0);for(kf.set(n,t),vs.set(n,Zo(t));t;)yield n,t=await(Xo.get(n)||t.continue()),Xo.delete(n)}function Pu(e,t){return t===Symbol.asyncIterator&&Qo(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Qo(e,[IDBIndex,IDBObjectStore])}Sf(e=>({...e,get(t,n,r){return Pu(t,n)?q0:e.get(t,n,r)},has(t,n){return Pu(t,n)||e.has(t,n)}}));class eg{constructor(){xs(this,"dbPromise");this.dbPromise=Y0("rememly-db",1,{upgrade(t){t.objectStoreNames.contains("drafts")||t.createObjectStore("drafts",{keyPath:"id"}),t.objectStoreNames.contains("assemblyStates")||t.createObjectStore("assemblyStates",{keyPath:"articleId"})}})}async saveDraft(t){await(await this.dbPromise).put("drafts",{...t,timestamp:Date.now()})}async getDraft(t){return(await this.dbPromise).get("drafts",t)}async deleteDraft(t){await(await this.dbPromise).delete("drafts",t)}async saveAssemblyState(t,n){await(await this.dbPromise).put("assemblyStates",{articleId:t,state:n,timestamp:Date.now()})}async getAssemblyState(t){const r=await(await this.dbPromise).get("assemblyStates",t);return r==null?void 0:r.state}async deleteAssemblyState(t){await(await this.dbPromise).delete("assemblyStates",t)}}const tg=new eg,Jr=Zi(e=>({toast:null,showToast:(t,n)=>{e({toast:{message:t,type:n}}),setTimeout(()=>e({toast:null}),3e3)},hideToast:()=>e({toast:null})}));function ng(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}async function rg(e){return new Promise(t=>{const n=new FileReader;n.onload=r=>{var l,s;try{const i=new DataView((l=r.target)==null?void 0:l.result);if(i.getUint16(0,!1)!==65496){t(null);return}let a=2;const u=i.byteLength;for(;a<u;){if(i.getUint8(a)!==255){t(null);return}if(i.getUint8(a+1)===225){const m=i.getUint16(a+2,!1),d=new DataView((s=r.target)==null?void 0:s.result,a+4,m-2);if(String.fromCharCode(d.getUint8(0),d.getUint8(1),d.getUint8(2),d.getUint8(3))!=="Exif"){t(null);return}const v=6,y=d.getUint16(v,!1)===18761,j=d.getUint32(v+4,y),k=d.getUint16(v+j,y);for(let h=0;h<k;h++){const f=v+j+2+h*12,g=d.getUint16(f,y);if(g===34665){const S=d.getUint32(f+8,y),w=d.getUint16(v+S,y);for(let _=0;_<w;_++){const C=v+S+2+_*12,E=d.getUint16(C,y);if(E===36867||E===36868){const O=d.getUint32(C+8,y);let M="";for(let ne=0;ne<19;ne++)M+=String.fromCharCode(d.getUint8(v+O+ne));const Q=M.replace(/^(\d{4}):(\d{2}):(\d{2})/,"$1-$2-$3"),H=new Date(Q);if(!isNaN(H.getTime())){t(H);return}}}}if(g===306){const S=d.getUint32(f+8,y);let w="";for(let E=0;E<19;E++)w+=String.fromCharCode(d.getUint8(v+S+E));const _=w.replace(/^(\d{4}):(\d{2}):(\d{2})/,"$1-$2-$3"),C=new Date(_);if(!isNaN(C.getTime())){t(C);return}}}t(null);return}a+=2+i.getUint16(a+2,!1)}t(null)}catch{t(null)}},n.onerror=()=>t(null),n.readAsArrayBuffer(e)})}function lg(e){if(!e)return console.warn("Empty image URL provided to PhotoPicker"),"";if(e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([^\/]+)/,/drive\.google\.com\/uc\?.*[&?]id=([^&]+)/,/drive\.google\.com\/open\?.*[&?]id=([^&]+)/,/lh3\.googleusercontent\.com\/d\/([^?&]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w2000`}return e}function sg({onPhotoSelected:e,currentImage:t}){const n=x.useRef(null),r=x.useRef(null),l=x.useRef(null),s=x.useRef(null),[i,a]=x.useState(!1),[u,c]=x.useState(!1),[m,d]=x.useState(null),p=ng();x.useEffect(()=>()=>{m&&m.getTracks().forEach(f=>f.stop())},[m]);const v=async f=>{var S;const g=(S=f.target.files)==null?void 0:S[0];if(g){const w=await rg(g);e(g,w||void 0),a(!1)}f.target.value=""},y=x.useCallback(async()=>{var f,g;if(p)(f=n.current)==null||f.click();else try{const S=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:720}}});d(S),c(!0),setTimeout(()=>{l.current&&(l.current.srcObject=S)},100)}catch(S){console.error("Error accessing webcam:",S),(g=n.current)==null||g.click()}},[p]),j=x.useCallback(()=>{if(l.current&&s.current){const f=l.current,g=s.current;g.width=f.videoWidth,g.height=f.videoHeight;const S=g.getContext("2d");S&&(S.drawImage(f,0,0),g.toBlob(async w=>{if(w){const _=new File([w],`webcam-${Date.now()}.jpg`,{type:"image/jpeg"});e(_,new Date),k(),a(!1)}},"image/jpeg",.9))}},[e]),k=x.useCallback(()=>{m&&(m.getTracks().forEach(f=>f.stop()),d(null)),c(!1)},[m]),h=()=>{var f;(f=r.current)==null||f.click()};return u?o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[o.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-auto max-h-[50vh] object-contain"}),o.jsx("canvas",{ref:s,className:"hidden"})]}),o.jsxs("div",{className:"mt-4 flex gap-2",children:[o.jsx(Y,{onClick:j,fullWidth:!0,children:"Capture"}),o.jsx(Y,{variant:"secondary",onClick:k,fullWidth:!0,children:"Cancel"})]})]}):o.jsxs("div",{className:"w-full",children:[o.jsx("input",{ref:n,type:"file",accept:"image/*",capture:"environment",onChange:v,className:"hidden"}),o.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:v,className:"hidden"}),t?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:lg(t),alt:"Selected",className:"w-full h-auto rounded-lg max-h-[40vh] object-contain"}),o.jsxs("div",{className:"mt-4 flex gap-2",children:[o.jsx(Y,{variant:"secondary",fullWidth:!0,onClick:y,children:"Take Photo"}),o.jsx(Y,{variant:"secondary",fullWidth:!0,onClick:h,children:"Gallery"})]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"text-4xl mb-2",children:""}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Add a photo"}),i?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Y,{onClick:y,fullWidth:!0,children:"Take Photo"}),o.jsx(Y,{variant:"secondary",onClick:h,fullWidth:!0,children:"Choose from Gallery"}),o.jsx("button",{onClick:()=>a(!1),className:"text-sm text-gray-500 mt-2",children:"Cancel"})]}):o.jsx(Y,{onClick:()=>a(!0),children:"Select Photo"})]})]})}function og({value:e,onChange:t}){const n=l=>{const s=l.target.value;s.length<=gn.MAX_TEXT_LENGTH&&t(s)},r=gn.MAX_TEXT_LENGTH-e.length;return o.jsxs("div",{className:"w-full",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text (optional)"}),o.jsx("textarea",{value:e,onChange:n,placeholder:"Add a description...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4}),o.jsxs("div",{className:"mt-1 text-sm text-gray-500 text-right",children:[r," characters remaining"]})]})}function ig({value:e,onChange:t}){const n=s=>{const i=new Date(s),a=i.getFullYear(),u=String(i.getMonth()+1).padStart(2,"0"),c=String(i.getDate()).padStart(2,"0"),m=String(i.getHours()).padStart(2,"0"),d=String(i.getMinutes()).padStart(2,"0");return`${a}-${u}-${c}T${m}:${d}`},r=s=>new Date(s).toISOString(),l=s=>{t(r(s.target.value))};return o.jsxs("div",{className:"space-y-2 overflow-hidden",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date and time"}),o.jsx("input",{type:"datetime-local",value:n(e),onChange:l,className:"w-full min-w-0 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent box-border text-base",style:{maxWidth:"100%"}})]})}function Lu(){const{id:e}=bp(),t=Oe(),n=Xr(),{user:r}=vt(),{updateArticle:l,deleteArticle:s}=lt(),{showToast:i}=Jr(),[a,u]=x.useState(""),[c,m]=x.useState(new Date().toISOString()),[d,p]=x.useState(null),[v,y]=x.useState(""),[j,k]=x.useState(!1),[h,f]=x.useState(!1),[g,S]=x.useState(!1),[w,_]=x.useState("ACTIVE"),C=!!e,E=w==="DELETED";x.useEffect(()=>{const $=n.state;if($!=null&&$.famileoImport){const{text:U,date:F,imageBase64:he,imageMimeType:P}=$.famileoImport;u(U);const I=new Date(F.replace(" ","T"));if(isNaN(I.getTime())||m(I.toISOString()),he){const R=`data:${P};base64,${he}`;y(R),fetch(R).then(B=>B.blob()).then(B=>{const Z=new File([B],"famileo-import.jpg",{type:P});p(Z)})}window.history.replaceState({},document.title)}},[n.state]),x.useEffect(()=>{C&&O()},[e]);const O=async()=>{if(e){k(!0);try{const $=await it.get(e);u($.texte),m($.date),y($.image_url),_($.status||"ACTIVE")}catch{i("Failed to load article","error"),t("/")}finally{k(!1)}}},M=($,U)=>{p($);const F=URL.createObjectURL($);y(F),U&&!C&&m(U.toISOString())},Q=async()=>{if(!d&&!C){i("Please select a photo","error");return}if(r){f(!0);try{if(C&&e){const $=E?"ACTIVE":void 0,U=await Nt.updateArticle(e,a,d||void 0,c,void 0,void 0,$);l(U),i(E?"Article restored":"Article updated","success")}else d&&(await Nt.createArticle(r.email,a,d,c),i("Article created","success"));await tg.deleteDraft(e||"new"),t("/")}catch($){i($ instanceof Error?$.message:"Failed to save article","error")}finally{f(!1)}}},H=()=>{v&&v.startsWith("blob:")&&URL.revokeObjectURL(v),t("/")},ne=async()=>{if(e){f(!0);try{console.log("Deleting article:",e);const $=await Nt.deleteArticle(e);console.log("Delete result:",$),s(e),i("Article deleted","success"),t("/")}catch($){console.error("Delete error:",$),i($ instanceof Error?$.message:"Failed to delete article","error")}finally{f(!1),S(!1)}}};return j?o.jsx(wn,{message:"Loading article..."}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(jn,{}),o.jsxs("div",{className:"flex-1 flex flex-col max-w-content mx-auto w-full bg-white",children:[o.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between flex-shrink-0",children:[o.jsx("button",{onClick:H,className:"text-gray-600 touch-manipulation",disabled:h,children:" Back"}),o.jsx("h1",{className:"text-lg font-semibold",children:C?"Edit Article":"New Article"}),o.jsx("div",{className:"w-12"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 space-y-6 pb-4",children:[o.jsx(sg,{onPhotoSelected:M,currentImage:v}),o.jsx(og,{value:a,onChange:u}),o.jsx(ig,{value:c,onChange:m})]}),o.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2 flex-shrink-0",children:[o.jsx(Y,{onClick:Q,disabled:h||!d&&!C,fullWidth:!0,children:h?"Saving...":E?"Save and restore":C?"Update":"Create"}),o.jsx(Y,{variant:"secondary",onClick:()=>t("/photo-assembly",{state:{editMode:C,articleId:e,texte:a,dateModification:c}}),disabled:h,fullWidth:!0,children:"Use Photo Assembly"}),C&&!E&&o.jsx(Y,{variant:"danger",onClick:()=>S(!0),disabled:h,fullWidth:!0,children:"Delete Article"}),o.jsx(Y,{variant:"secondary",onClick:H,disabled:h,fullWidth:!0,children:"Cancel"})]}),o.jsx(vn,{isOpen:g,title:"Delete Article",message:"Are you sure you want to delete this article? This action cannot be undone.",confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",isLoading:h,onConfirm:ne,onCancel:()=>S(!1)})]})]})}function ag(){const e=Oe(),t=lt(v=>v.setFilters),[n,r]=x.useState(!0),[l,s]=x.useState(null),[i,a]=x.useState([]),[u,c]=x.useState(Go());x.useEffect(()=>{m()},[]);const m=async()=>{r(!0),s(null);try{const v=await it.list({limit:"1000",status_filter:"all"}),y=new Map;v.items.forEach(k=>{const h=new Date(k.date),f=h.getFullYear(),g=h.getMonth(),S=k.status==="DELETED"?"deleted":"active";y.has(f)||y.set(f,{total:0,active:0,deleted:0,monthMap:new Map});const w=y.get(f);w.total+=1,w[S]+=1,w.monthMap.has(g)||w.monthMap.set(g,{total:0,active:0,deleted:0});const _=w.monthMap.get(g);_.total+=1,_[S]+=1});const j=Array.from(y.entries()).map(([k,h])=>({year:k,total:h.total,active:h.active,deleted:h.deleted,months:Array.from(h.monthMap.entries()).map(([f,g])=>({monthIndex:f,monthName:df[f],total:g.total,active:g.active,deleted:g.deleted})).sort((f,g)=>f.monthIndex-g.monthIndex)})).sort((k,h)=>h.year-k.year);if(a(j),j.length>0){const k=Go(),h=j.some(f=>f.year===k);c(h?k:j[0].year)}}catch(v){s(v instanceof Error?v.message:"Failed to load statistics")}finally{r(!1)}},d=(v,y="active")=>{t({year:String(v),month:"",from:"",to:"",statusFilter:y,sourceFilter:"all"}),e("/")},p=(v,y,j="active")=>{t({year:String(v),month:String(y+1).padStart(2,"0"),from:"",to:"",statusFilter:j,sourceFilter:"all"}),e("/")};return n?o.jsx(wn,{message:"Loading statistics..."}):l?o.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:o.jsx(xf,{message:l,onRetry:m})}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(jn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Statistics"})]})}),o.jsx("div",{className:"flex-1 p-4 pb-20",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Year breakdown"}),o.jsxs("div",{className:"space-y-3",children:[i.map(v=>{const y=u===v.year;return o.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-gray-50",children:[o.jsxs("div",{role:"button",tabIndex:0,onClick:()=>c(y?null:v.year),onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&c(y?null:v.year)},className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-base font-semibold text-gray-900",children:v.year}),o.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[v.total," total  ",v.active," active  ",v.deleted," deleted"]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:()=>d(v.year,"active"),className:"text-xs font-medium text-primary-600 hover:text-primary-700",children:"View active"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>d(v.year,"deleted"),className:"text-xs font-medium text-red-600 hover:text-red-700",children:"View deleted"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>c(y?null:v.year),className:"text-xs font-medium text-gray-600 hover:text-gray-800",children:y?"Hide months":"Show months"})]})]}),y&&o.jsx("div",{className:"px-4 pb-3",children:o.jsxs("div",{className:"mt-2 space-y-2",children:[v.months.map(j=>o.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-900",children:j.monthName}),o.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[j.total," total  ",j.active," active  ",j.deleted," deleted"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>p(v.year,j.monthIndex,"active"),className:"text-xs font-medium text-primary-600 hover:text-primary-700",children:"View active"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>p(v.year,j.monthIndex,"deleted"),className:"text-xs font-medium text-red-600 hover:text-red-700",children:"View deleted"})]})]},`${v.year}-${j.monthIndex}`)),v.months.length===0&&o.jsx("div",{className:"text-sm text-gray-500",children:"No months found"})]})})]},v.year)}),i.length===0&&o.jsx("div",{className:"text-sm text-gray-500",children:"No statistics available"})]})]})})]})}const bl=[{id:"2x1-vertical",name:"21 Vertical",zones:[{x:0,y:0,width:100,height:50},{x:0,y:50,width:100,height:50}]},{id:"2x1-horizontal",name:"21 Horizontal",zones:[{x:0,y:0,width:50,height:100},{x:50,y:0,width:50,height:100}]},{id:"4x4-grid",name:"44 Grid",zones:[{x:0,y:0,width:50,height:50},{x:50,y:0,width:50,height:50},{x:0,y:50,width:50,height:50},{x:50,y:50,width:50,height:50}]},{id:"3-plus-2",name:"3 + 2",zones:[{x:0,y:0,width:100,height:33.33},{x:0,y:33.33,width:100,height:33.33},{x:0,y:66.66,width:50,height:33.34},{x:50,y:66.66,width:50,height:33.34}]},{id:"3-plus-2-plus-2",name:"3 + 2 + 2",zones:[{x:0,y:0,width:100,height:40},{x:0,y:40,width:50,height:30},{x:50,y:40,width:50,height:30},{x:0,y:70,width:50,height:30},{x:50,y:70,width:50,height:30}]}];class Du{constructor(t,n){xs(this,"state");this.state={templateId:t,photos:[],zoneStates:Array(n).fill(null).map(()=>({photoIndex:-1,zoom:1,x:0,y:0}))}}addPhoto(t){return this.state.photos.push(t),this.state.photos.length-1}assignPhotoToZone(t,n){n>=0&&n<this.state.zoneStates.length&&(this.state.zoneStates[n].photoIndex=t)}updateZoneTransform(t,n){if(t>=0&&t<this.state.zoneStates.length){const r=this.state.zoneStates[t];n.zoom!==void 0&&(r.zoom=n.zoom),n.x!==void 0&&(r.x=n.x),n.y!==void 0&&(r.y=n.y)}}getState(){return{...this.state}}getPhotoForZone(t){const n=this.state.zoneStates[t];return n.photoIndex>=0&&n.photoIndex<this.state.photos.length?this.state.photos[n.photoIndex]:null}isComplete(){return this.state.zoneStates.every(t=>t.photoIndex>=0)}serialize(){return{templateId:this.state.templateId,zoneStates:this.state.zoneStates}}}function ug({selectedTemplateId:e,onSelect:t}){return o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Select Layout"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:bl.map(n=>o.jsx("button",{onClick:()=>t(n),className:`aspect-square border-2 rounded-lg p-2 transition-colors touch-manipulation ${n.id===e?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:o.jsx("div",{className:"text-xs text-center font-medium text-gray-700",children:n.name})},n.id))})]})}function cg({template:e,stateManager:t,onZoneClick:n}){const r=x.useRef(null),[l,s]=x.useState(new Map);x.useEffect(()=>{i()},[t]),x.useEffect(()=>{a()},[e,l]);const i=async()=>{const c=new Map,m=t.getState();for(let d=0;d<m.photos.length;d++){const p=m.photos[d],v=new Image,y=URL.createObjectURL(p);await new Promise(j=>{v.onload=()=>{c.set(d,v),j()},v.src=y})}s(c)},a=()=>{const c=r.current;if(!c)return;const m=c.getContext("2d");if(!m)return;const d=c.width,p=c.height;m.fillStyle="#f3f4f6",m.fillRect(0,0,d,p);const v=t.getState();e.zones.forEach((y,j)=>{const k=v.zoneStates[j],h=l.get(k.photoIndex),f=y.x/100*d,g=y.y/100*p,S=y.width/100*d,w=y.height/100*p;if(m.strokeStyle="#d1d5db",m.lineWidth=2,m.strokeRect(f,g,S,w),h){m.save(),m.beginPath(),m.rect(f,g,S,w),m.clip();const _=k.zoom,C=h.width*_,E=h.height*_,O=f+k.x+(S-C)/2,M=g+k.y+(w-E)/2;m.drawImage(h,O,M,C,E),m.restore()}else m.fillStyle="#e5e7eb",m.fillRect(f+2,g+2,S-4,w-4),m.fillStyle="#9ca3af",m.textAlign="center",m.textBaseline="middle",m.font="14px sans-serif",m.fillText("+",f+S/2,g+w/2)})},u=c=>{const m=r.current;if(!m)return;const d=m.getBoundingClientRect(),p=(c.clientX-d.left)/d.width*100,v=(c.clientY-d.top)/d.height*100,y=e.zones.findIndex(j=>p>=j.x&&p<=j.x+j.width&&v>=j.y&&v<=j.y+j.height);y>=0&&n(y)};return o.jsx("div",{className:"w-full bg-gray-100 rounded-lg overflow-hidden",children:o.jsx("canvas",{ref:r,width:gn.TARGET_IMAGE_WIDTH_PX,height:gn.TARGET_IMAGE_WIDTH_PX,onClick:u,className:"w-full h-auto cursor-pointer touch-manipulation"})})}function dg({zoneIndex:e,stateManager:t,onUpdate:n,onClose:r}){const s=t.getState().zoneStates[e],[i,a]=x.useState(s.zoom),u=m=>{a(m),t.updateZoneTransform(e,{zoom:m}),n()},c=()=>{t.updateZoneTransform(e,{zoom:1,x:0,y:0}),a(1),n()};return o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg z-20",children:o.jsxs("div",{className:"max-w-mobile mx-auto space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Zone ",e+1]}),o.jsx("button",{onClick:r,className:"text-gray-600 hover:text-gray-900",children:""})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-600 mb-2",children:["Zoom: ",i.toFixed(1),"x"]}),o.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:i,onChange:m=>u(parseFloat(m.target.value)),className:"w-full"})]}),o.jsx("button",{onClick:c,className:"w-full px-4 py-2 bg-gray-200 text-gray-900 rounded-lg hover:bg-gray-300",children:"Reset Zone"})]})})}function fg({onAddPhoto:e,onValidate:t,onCancel:n,isValid:r}){return o.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2",children:[o.jsx(Y,{onClick:e,variant:"secondary",fullWidth:!0,children:"Add Photo"}),o.jsx(Y,{onClick:t,disabled:!r,fullWidth:!0,children:"Validate Assembly"}),o.jsx(Y,{onClick:n,variant:"secondary",fullWidth:!0,children:"Cancel"})]})}function mg({onComplete:e,onCancel:t}){Oe();const{showToast:n}=Jr(),r=x.useRef(null),[l,s]=x.useState(bl[0]),[i,a]=x.useState(()=>new Du(bl[0].id,bl[0].zones.length)),[u,c]=x.useState(null),[m,d]=x.useState(0),p=f=>{s(f),a(new Du(f.id,f.zones.length)),c(null),d(g=>g+1)},v=()=>{var f;(f=r.current)==null||f.click()},y=f=>{const g=Array.from(f.target.files||[]);if(g.length===0)return;const S=g[0],w=i.addPhoto(S),C=i.getState().zoneStates.findIndex(E=>E.photoIndex===-1);C>=0&&(i.assignPhotoToZone(w,C),d(E=>E+1)),f.target.value=""},j=f=>{c(f)},k=()=>{d(f=>f+1)},h=async()=>{if(!i.isComplete()){n("Please fill all zones","error");return}try{const f=document.querySelector("canvas");if(!f){n("Failed to generate image","error");return}const g=await D0(f,.9),S=i.serialize();e(g,S)}catch{n("Failed to create assembly","error")}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center sticky top-0 z-10",children:[o.jsx("button",{onClick:t,className:"text-gray-600 touch-manipulation",children:" Back"}),o.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Photo Assembly"})]}),o.jsxs("div",{className:"flex-1 pb-32",children:[o.jsx(ug,{selectedTemplateId:l.id,onSelect:p}),o.jsx("div",{className:"p-4",children:o.jsx(cg,{template:l,stateManager:i,onZoneClick:j},m)})]}),u!==null&&o.jsx(dg,{zoneIndex:u,stateManager:i,onUpdate:k,onClose:()=>c(null)}),o.jsx(fg,{onAddPhoto:v,onValidate:h,onCancel:t,isValid:i.isComplete()}),o.jsx("input",{ref:r,type:"file",accept:"image/*",capture:"environment",onChange:y,className:"hidden"})]})}function hg(){var d,p,v,y;const e=Oe(),t=Xr(),{user:n}=vt(),{updateArticle:r}=lt(),{showToast:l}=Jr(),s=((d=t.state)==null?void 0:d.editMode)||!1,i=(p=t.state)==null?void 0:p.articleId,a=((v=t.state)==null?void 0:v.texte)||"",u=((y=t.state)==null?void 0:y.dateModification)||new Date().toISOString(),c=async(j,k)=>{if(n)try{const h=`data:image/jpeg;base64,${j}`,g=await(await fetch(h)).blob(),S=new File([g],"assembled.jpg",{type:"image/jpeg"});if(s&&i){const w=await Nt.updateArticle(i,a,S,u,k);r(w),l("Article updated","success")}else await Nt.createArticle(n.name,a,S,u,void 0,k),l("Article created","success");e("/")}catch(h){l(h instanceof Error?h.message:"Failed to save article","error")}},m=()=>{e(s&&i?`/editor/${i}`:"/editor")};return o.jsx(mg,{onComplete:c,onCancel:m})}function pg(e){if(!e||e.startsWith("blob:")||e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w2000`}return e}function gg(){const e=Oe(),{user:t,logout:n}=vt(),{showToast:r}=Jr(),{profile:l,isLoading:s,saveProfile:i,avatarBlobUrl:a}=Ki(),[u,c]=x.useState(""),[m,d]=x.useState(null),[p,v]=x.useState(""),[y,j]=x.useState(!1);x.useEffect(()=>{l?(c(l.pseudo),v(a||l.avatar_url)):t&&c(t.name)},[l,t,a]);const k=g=>{var _;const S=(_=g.target.files)==null?void 0:_[0];if(!S)return;d(S);const w=URL.createObjectURL(S);v(w)},h=async()=>{if(!u.trim()){r("Please enter a pseudo","error");return}j(!0);try{await i(u.trim(),m||void 0),r("Profile saved","success"),e("/")}catch{r("Failed to save profile","error")}finally{j(!1)}},f=()=>{n()};return s?o.jsx(wn,{message:"Loading profile..."}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(jn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile"})]})}),o.jsxs("div",{className:"flex-1 p-4 space-y-6 pb-32 max-w-md mx-auto w-full",children:[o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsxs("div",{className:"relative",children:[p?o.jsx("img",{src:pg(p),alt:"Avatar",className:"w-32 h-32 rounded-full object-cover border-4 border-primary-200"}):o.jsx("div",{className:"w-32 h-32 rounded-full bg-primary-100 flex items-center justify-center border-4 border-primary-200",children:o.jsx("span",{className:"text-4xl font-semibold text-primary-600",children:u.charAt(0).toUpperCase()||"?"})}),o.jsx("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:o.jsxs("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o.jsx("path",{d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),o.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:k,className:"hidden"})]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Click to change avatar"})]}),o.jsx("div",{children:o.jsx(Wr,{label:"Pseudo",value:u,onChange:g=>c(g.target.value),placeholder:"Enter your pseudo"})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backend URL"}),o.jsx("input",{type:"text",value:"https://script.google.com/macros/s/AKfycbyBK-9iXQ7bXvd26EN4qCz6DT2V_Z9pniGS2qrLaBP7pqXIQ29hGtmnQj2PP2LYCPHf/exec",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600 text-xs"})]})]}),o.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2 sticky bottom-0",children:[o.jsx(Y,{onClick:h,disabled:y||!u.trim(),fullWidth:!0,children:y?"Saving...":"Save Profile"}),o.jsx(Y,{variant:"danger",onClick:f,disabled:y,fullWidth:!0,children:"Logout"})]})]})}const Nn={status:()=>re.get("famileo/status"),posts:e=>re.get("famileo/posts",e),image:e=>re.get("famileo/image",{url:encodeURIComponent(e)}),triggerRefresh:()=>re.get("famileo/trigger-refresh"),families:()=>re.get("famileo/families"),importedIds:()=>re.get("famileo/imported-ids")};function vg({post:e,selected:t,onSelectionChange:n,onImageLoaded:r,cachedImage:l,alreadyImported:s}){const[i,a]=x.useState(!1),[u,c]=x.useState(null),[m,d]=x.useState(!1);x.useEffect(()=>{if(l){c(`data:${l.mimeType};base64,${l.base64}`);return}(async()=>{if(!(u||i||m)){a(!0);try{const y=await Nn.image(e.image_url);c(`data:${y.mimeType};base64,${y.base64}`),r(e.id,y.base64,y.mimeType)}catch{d(!0)}finally{a(!1)}}})()},[e.id,e.image_url,l]);const p=e.author_pseudo.split(" ").map(v=>v[0]).join("").toUpperCase().substring(0,2);return o.jsx("div",{className:"px-4",children:o.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border-2 transition-colors ${t?"border-primary-500 bg-primary-50":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("input",{type:"checkbox",checked:t,onChange:v=>n(v.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 flex-shrink-0"}),o.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-sm font-semibold text-orange-700",children:p})}),o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:e.author_pseudo}),o.jsx("span",{className:"text-sm text-gray-500",children:yf(e.date)})]})]}),s&&o.jsx("div",{className:"flex-shrink-0 ml-2",children:o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[o.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Imported"]})})]}),o.jsxs("div",{className:"w-full bg-gray-100 relative min-h-[200px]",children:[i&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),m&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:o.jsx("p",{className:"text-sm",children:"Failed to load image"})}),u&&o.jsx("img",{src:u,alt:"",className:"w-full h-auto object-contain"})]}),e.text&&o.jsx("div",{className:"p-4",children:o.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:e.text})}),o.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-100 text-xs text-gray-500",children:[o.jsxs("span",{children:["ID: ",e.id]}),o.jsx("span",{className:"mx-2",children:"|"}),o.jsx("span",{children:e.image_orientation})]})]})})}function xg(){const e=Oe(),{user:t}=vt(),[n,r]=x.useState(""),[l,s]=x.useState(""),[i,a]=x.useState([]),[u,c]=x.useState(!1),[m,d]=x.useState(null),[p,v]=x.useState(new Set),[y,j]=x.useState({}),[k,h]=x.useState(!1),[f,g]=x.useState(null),[S,w]=x.useState(!1),[_,C]=x.useState(null),[E,O]=x.useState([]),[M,Q]=x.useState(""),[H,ne]=x.useState(!0),[$,U]=x.useState(new Set),[F,he]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const[W,X]=await Promise.all([Nn.families(),Nn.importedIds()]);O(W.families),W.families.length>0&&Q(W.families[0].famileo_id),U(new Set(X.ids))}catch(W){console.error("Failed to load initial data:",W)}finally{ne(!1)}})()},[]);const P=async()=>{if(!n||!l){d("Please select both start and end dates");return}c(!0),d(null),C(null),a([]),v(new Set),j({});try{const T=[];let W=!0;const X=new Date(n+"T00:00:00").getTime(),ye=new Date(l+"T23:59:59").getTime();let Ue=new Date(l+"T23:59:59.999Z").toISOString();for(console.log("Famileo fetch - startDate:",n,"endDate:",l),console.log("Famileo fetch - startTs:",new Date(X).toISOString(),"endTs:",new Date(ye).toISOString()),console.log("Famileo fetch - initial timestamp:",Ue);W;){console.log("Famileo fetch - calling API with timestamp:",Ue);const Te=await Nn.posts({limit:"50",timestamp:Ue,family_id:M||void 0});console.log("Famileo fetch - got",Te.posts.length,"posts, has_more:",Te.has_more,"next_timestamp:",Te.next_timestamp);for(const Qe of Te.posts){const Lt=new Date(Qe.date).getTime();Lt>=X&&Lt<=ye&&T.push(Qe)}if(Te.next_timestamp){const Qe=new Date(Te.next_timestamp).getTime();console.log("Famileo fetch - nextTs:",new Date(Qe).toISOString(),"startTs:",new Date(X).toISOString(),"continue?",Qe>=X),Qe>=X?Ue=Te.next_timestamp:(console.log("Famileo fetch - stopping, next page before start date"),W=!1)}else console.log("Famileo fetch - stopping, no next_timestamp"),W=!1}a(T),T.length===0&&d("No posts found in this date range")}catch(T){d(T instanceof Error?T.message:"Failed to fetch posts")}finally{c(!1)}},I=()=>{e("/")},R=(T,W)=>{v(X=>{const ye=new Set(X);return W?ye.add(T):ye.delete(T),ye})},B=(T,W,X)=>{j(ye=>({...ye,[T]:{base64:W,mimeType:X}}))},Z=()=>{p.size===i.length?v(new Set):v(new Set(i.map(T=>T.id)))},tt=async()=>{if(!t||p.size===0)return;const T=i.filter(W=>p.has(W.id));T.sort((W,X)=>new Date(W.date).getTime()-new Date(X.date).getTime()),h(!0),g({current:0,total:T.length,currentPostText:""});try{for(let W=0;W<T.length;W++){const X=T[W];g({current:W+1,total:T.length,currentPostText:X.text.substring(0,50)+(X.text.length>50?"...":"")});let ye="",Ue="image/jpeg";const Te=await Nn.image(X.full_image_url);ye=Te.base64,Ue=Te.mimeType;const Qe=`data:${Ue};base64,${ye}`,Lt=await fetch(Qe).then(z=>z.blob()),tr=new File([Lt],"famileo-import.jpg",{type:Ue}),Sn=new Date(X.date.replace(" ","T")),N=isNaN(Sn.getTime())?new Date().toISOString():Sn.toISOString();await Nt.createArticle(X.author_email,X.text,tr,N,String(X.id)),U(z=>new Set([...z,String(X.id)])),W<T.length-1&&await new Promise(z=>setTimeout(z,500))}v(new Set),C(`Successfully created ${T.length} article${T.length>1?"s":""}`)}catch(W){d(W instanceof Error?W.message:"Failed to create articles")}finally{h(!1),g(null)}},Ne=async()=>{w(!0),C(null),d(null);try{const T=await Nn.triggerRefresh();C(T.message)}catch(T){d(T instanceof Error?T.message:"Failed to trigger refresh")}finally{w(!1)}},ce=p.size;return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(jn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:I,className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",disabled:k,children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Famileo Scraper"})]}),o.jsxs("button",{onClick:Ne,disabled:S||k,className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation disabled:opacity-50",title:"Refresh Famileo session",children:[o.jsx("svg",{className:`w-4 h-4 ${S?"animate-spin":""}`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),o.jsx("span",{children:S?"Refreshing...":"Refresh Session"})]})]})}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[E.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Family"}),o.jsx("select",{value:M,onChange:T=>Q(T.target.value),disabled:u||k||H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white",children:E.map(T=>o.jsx("option",{value:T.famileo_id,children:T.name},T.id))})]}),H&&o.jsx("div",{className:"text-sm text-gray-500",children:"Loading families..."}),!H&&E.length===0&&o.jsx("div",{className:"text-sm text-amber-600",children:'No family configured. Add families in the "families" sheet.'}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),o.jsx("input",{type:"date",value:n,onChange:T=>r(T.target.value),disabled:u||k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white appearance-none"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),o.jsx("input",{type:"date",value:l,onChange:T=>s(T.target.value),disabled:u||k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white appearance-none"})]})]}),o.jsx("button",{onClick:P,disabled:u||k||H||!n||!l||!M&&E.length>0,className:"w-full py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors touch-manipulation",children:H?"Loading families...":u?"Loading...":"Get Posts"})]})}),k&&f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 mx-4 max-w-sm w-full shadow-xl",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Creating Articles"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[f.current," / ",f.total]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:o.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all duration-300",style:{width:`${f.current/f.total*100}%`}})})]}),o.jsx("p",{className:"text-sm text-gray-500 truncate",children:f.currentPostText})]})}),_&&o.jsx("div",{className:"mx-4 mt-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:_}),m&&o.jsx("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:m}),u&&o.jsx("div",{className:"flex-1 flex items-center justify-center py-12",children:o.jsx("div",{className:"w-10 h-10 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),!u&&i.length>0&&o.jsxs("div",{className:"flex-1 py-4 pb-24",children:[o.jsxs("div",{className:"px-4 mb-3 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-500",children:[i.length," post",i.length>1?"s":""," found",ce>0&&o.jsxs("span",{className:"ml-2 text-primary-600 font-medium",children:["(",ce," selected)"]})]}),o.jsx("button",{onClick:Z,disabled:k,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:p.size===i.length?"Deselect All":"Select All"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"hideImported",checked:F,onChange:T=>he(T.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("label",{htmlFor:"hideImported",className:"text-sm text-gray-600",children:["Hide already imported posts (",i.filter(T=>$.has(String(T.id))).length,")"]})]})]}),o.jsx("div",{className:"space-y-4",children:i.filter(T=>!F||!$.has(String(T.id))).map(T=>o.jsx(vg,{post:T,selected:p.has(T.id),onSelectionChange:W=>R(T.id,W),onImageLoaded:B,cachedImage:y[T.id],alreadyImported:$.has(String(T.id))},T.id))})]}),!u&&i.length>0&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-20",children:o.jsx("div",{className:"max-w-content mx-auto",children:o.jsxs("button",{onClick:tt,disabled:ce===0||k,className:"w-full py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors touch-manipulation flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 4v16m8-8H4"})}),ce>0?`Bulk Create (${ce})`:"Select posts to create"]})})})]})}const Mt={create:e=>re.post("pdf/create",e),process:e=>re.get("pdf/process",{job_id:e}),status:e=>re.get("pdf/status",{job_id:e}),list:e=>{const t=e?{date_from:e.date_from,date_to:e.date_to,author:e.author,include_in_progress:e.include_in_progress?"true":void 0}:void 0;return re.get("pdf/list",t)},delete:e=>re.post("pdf/delete",{job_id:e}),cancel:e=>re.post("pdf/cancel",{job_id:e})},yg=()=>{try{const e=localStorage.getItem("user");return e&&JSON.parse(e).email||"me"}catch{return"me"}},wg=()=>{try{const e=localStorage.getItem("user");return e&&JSON.parse(e).name||null}catch{return null}},jg=e=>e==="PENDING"||e==="RUNNING"||e==="DONE"||e==="ERROR"||e==="CANCELLED"?e:"PENDING",Xi=Zi((e,t)=>({isGenerating:!1,jobId:null,progress:0,progressMessage:"",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:null,startGeneration:async(n,r,l,s)=>{e({isGenerating:!0,jobId:null,progress:0,progressMessage:"Starting...",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:s||null});try{const i=await Mt.create({from:n,to:r,options:l}),a=new Date().toISOString(),u=yg(),c=wg()||u.split("@")[0],m=new Date(n).getFullYear(),d={job_id:i.job_id,created_at:a,created_by:u,created_by_pseudo:c,year:m,date_from:n,date_to:r,status:jg(i.status),progress:i.progress,progress_message:i.progress_message,pdf_url:i.pdf_url,pdf_file_id:i.pdf_file_id};return i.status==="DONE"&&i.pdf_url?(e({isGenerating:!1,progress:100,progressMessage:"Done!",pdfUrl:i.pdf_url,showSuccess:!0}),s&&s(),d):i.status==="ERROR"?(e({isGenerating:!1,error:"PDF generation failed",progressMessage:""}),null):(e({isGenerating:!1,jobId:i.job_id}),Mt.process(i.job_id).catch(()=>{}),s&&s(),d)}catch(i){return e({isGenerating:!1,error:i instanceof Error?i.message:"Error while generating PDF",progressMessage:""}),null}},pollJobStatus:async n=>{try{const r=await Mt.status(n);if(e({progress:r.progress||0,progressMessage:r.progress_message||""}),r.status==="DONE"){const l=t().onCompleteCallback;e({isGenerating:!1,pdfUrl:r.pdf_url||null,showSuccess:!0}),l&&l()}else r.status==="ERROR"?e({isGenerating:!1,error:r.error_message||"PDF generation failed"}):setTimeout(()=>t().pollJobStatus(n),1e3)}catch(r){e({isGenerating:!1,error:r instanceof Error?r.message:"Error while tracking job"})}},setLastCompletedJob:n=>{e({lastCompletedJob:n,showSuccess:n!==null,pdfUrl:(n==null?void 0:n.pdf_url)||null})},dismissSuccess:()=>{e({showSuccess:!1,pdfUrl:null,lastCompletedJob:null})},dismissError:()=>{e({error:null})},reset:()=>{e({isGenerating:!1,jobId:null,progress:0,progressMessage:"",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:null})}}));function Sg({isOpen:e,onClose:t,onComplete:n}){const{startGeneration:r,isGenerating:l}=Xi(),[s,i]=x.useState("dates"),[a,u]=x.useState(""),[c,m]=x.useState(""),[d,p]=x.useState(!1),[v,y]=x.useState(null),[j,k]=x.useState([]),[h,f]=x.useState(0),[g,S]=x.useState("full"),[w,_]=x.useState(!0),[C,E]=x.useState(0),[O,M]=x.useState(!1),Q=()=>{i("dates"),u(""),m(""),k([]),f(0),y(null),S("full"),_(!0),E(0),M(!1)},H=()=>{Q(),t()},ne=async()=>{if(!a||!c){y("Please select a start and end date");return}if(c<a){y("End date cannot be earlier than start date");return}p(!0),y(null);try{const U=[];let F=null;do{const I=await it.list({from:a,to:c,limit:"100",cursor:F||void 0,status_filter:"active"});U.push(...I.items),F=I.next_cursor}while(F);const he=new Map;for(const I of U){const R=I.date.substring(0,7),B=wf(I.date);he.has(R)?he.get(R).count++:he.set(R,{label:B,count:1})}const P=Array.from(he.entries()).sort((I,R)=>I[0].localeCompare(R[0])).map(([I,R])=>({key:I,label:R.label,count:R.count}));k(P),f(U.length),E(U.length),U.length===0?y("No articles found for this period"):i("preview")}catch(U){y(U instanceof Error?U.message:"Error while loading")}finally{p(!1)}},$=async()=>{const U=await r(a,c,{mosaic_layout:g,show_seasonal_fruits:w,max_mosaic_photos:C>0?C:void 0,keep_temp:O});Q(),t(),n(U)};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:H}),o.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[s==="dates"&&"Select date range",s==="preview"&&"Article preview",s==="options"&&"Generation options"]}),o.jsx("button",{onClick:H,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[v&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:v}),s==="dates"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start date"}),o.jsx("input",{type:"date",value:a,onChange:U=>{const F=U.target.value;u(F),c&&F&&c<F&&m(F),v&&y(null)},disabled:d,max:c||void 0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End date"}),o.jsx("input",{type:"date",value:c,onChange:U=>{const F=U.target.value;m(F),a&&F&&F<a&&u(F),v&&y(null)},disabled:d,min:a||void 0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100"})]})]}),s==="preview"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-primary-50 rounded-lg p-4",children:o.jsxs("p",{className:"text-primary-800",children:[o.jsx("span",{className:"font-semibold text-primary-900",children:h})," article",h>1?"s":""," ","sur"," ",o.jsx("span",{className:"font-semibold text-primary-900",children:j.length})," mois"]})}),o.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-3 py-2 border-b border-gray-200",children:o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Monthly breakdown"})}),o.jsx("ul",{className:"divide-y divide-gray-100 max-h-48 overflow-y-auto",children:j.map(U=>o.jsxs("li",{className:"px-3 py-2 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:U.label}),o.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded text-xs font-medium",children:U.count})]},U.key))})]})]}),s==="options"&&o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover photos"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"range",min:1,max:h,value:C||h,onChange:U=>E(parseInt(U.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-12 text-right",children:C||h})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Number of photos in the cover mosaic"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month divider style"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>S("full"),className:`flex-1 py-2.5 px-3 rounded-lg border text-sm transition-colors ${g==="full"?"border-primary-500 bg-primary-50 text-primary-700 font-medium":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:"Full mosaic"}),o.jsx("button",{onClick:()=>S("centered"),className:`flex-1 py-2.5 px-3 rounded-lg border text-sm transition-colors ${g==="centered"?"border-primary-500 bg-primary-50 text-primary-700 font-medium":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:"Centered mosaic"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:w,onChange:U=>_(U.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Seasonal fruits & vegetables"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Decorations around month dividers"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:O,onChange:U=>M(U.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Keep temporary PDF files"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Preserve intermediate PDFs and show a folder link"})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm text-gray-600",children:[o.jsx("strong",{children:h})," articles from"," ",o.jsx("strong",{children:new Date(a).toLocaleDateString("fr-FR")})," to"," ",o.jsx("strong",{children:new Date(c).toLocaleDateString("fr-FR")})]})]})]}),o.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex gap-3",children:[s==="dates"&&o.jsxs(o.Fragment,{children:[o.jsx(Y,{variant:"secondary",onClick:H,fullWidth:!0,children:"Cancel"}),o.jsx(Y,{onClick:ne,disabled:!a||!c||d,fullWidth:!0,children:d?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Searching..."]}):"Next"})]}),s==="preview"&&o.jsxs(o.Fragment,{children:[o.jsx(Y,{variant:"secondary",onClick:()=>i("dates"),fullWidth:!0,children:"Back"}),o.jsx(Y,{onClick:()=>i("options"),fullWidth:!0,children:"Next"})]}),s==="options"&&o.jsxs(o.Fragment,{children:[o.jsx(Y,{variant:"secondary",onClick:()=>i("preview"),fullWidth:!0,children:"Back"}),o.jsxs(Y,{onClick:$,disabled:l,fullWidth:!0,children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Generate PDF"]})]})]})]})]}):null}const kg=vt;function Ng(){const e=Oe(),{user:t}=kg(),{profile:n}=Ki(),[r,l]=x.useState([]),[s,i]=x.useState(!0),[a,u]=x.useState(null),[c,m]=x.useState(""),[d,p]=x.useState(""),[v,y]=x.useState("created_at"),[j,k]=x.useState("desc"),[h,f]=x.useState([]),[g,S]=x.useState(!1),[w,_]=x.useState(new Set),[C,E]=x.useState(null),[O,M]=x.useState(!1),[Q,H]=x.useState(!1),[ne,$]=x.useState(null),[U,F]=x.useState(!1),he=x.useCallback(async()=>{i(!0),u(null);try{const N=await Mt.list({include_in_progress:!0});l(N.items||[]),f(N.authors||[])}catch(N){u(N instanceof Error?N.message:"Failed to load PDF list")}finally{i(!1)}},[]);x.useEffect(()=>{he()},[he]);const[P,I]=x.useState(new Map),{setLastCompletedJob:R}=Xi(),B=r.filter(N=>N.status==="PENDING"||N.status==="RUNNING"),Z=r.filter(N=>N.status==="DONE"||N.status==="ERROR"||N.status==="CANCELLED");x.useEffect(()=>{if(B.length===0)return;const N=setInterval(async()=>{const z=await Promise.all(B.map(async J=>{try{return{...await Mt.status(J.job_id),job_id:J.job_id}}catch{return null}}));l(J=>J.map(we=>{const L=z.find(A=>A&&A.job_id===we.job_id);return L?{...we,status:L.status,progress:L.progress,progress_message:L.progress_message,pdf_url:L.pdf_url,error_message:L.error_message}:we}))},2e3);return()=>clearInterval(N)},[B.length]),x.useEffect(()=>{const N=new Map(r.map(z=>[z.job_id,z.status]));for(const[z,J]of P){const we=N.get(z);if((J==="PENDING"||J==="RUNNING")&&we==="DONE"){const L=r.find(A=>A.job_id===z);L&&R(L)}}I(N)},[r,P,R]);const tt=Array.from(new Set(r.map(N=>N.year).filter(Boolean))).sort((N,z)=>z-N),Ne=N=>{if(!N)return 0;const z=new Date(N);return isNaN(z.getTime())?0:z.getTime()},ce=Z.filter(N=>!c||N.year===parseInt(c)).filter(N=>!d||N.created_by===d).sort((N,z)=>{let J=0;return v==="created_at"?J=Ne(N.created_at)-Ne(z.created_at):v==="date_from"?J=Ne(N.date_from)-Ne(z.date_from):v==="created_by"&&(J=(N.created_by||"").localeCompare(z.created_by||"")),j==="desc"?-J:J}),T=()=>{e("/")},W=N=>{try{return new Date(N).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return N}},X=(N,z)=>{try{const J=new Date(N),we=new Date(z),L={day:"2-digit",month:"short",year:"numeric"};return`${J.toLocaleDateString("fr-FR",L)}  ${we.toLocaleDateString("fr-FR",L)}`}catch{return`${N}  ${z}`}},ye=x.useCallback((N,z)=>{var we;return z||(N?t!=null&&t.email&&(n!=null&&n.pseudo)&&N===t.email?n.pseudo:((we=r.find(L=>L.created_by===N))==null?void 0:we.created_by_pseudo)||N.split("@")[0]:"Unknown")},[r,n==null?void 0:n.pseudo,t==null?void 0:t.email]),Ue=N=>{const z=new Set(w);z.has(N)?z.delete(N):z.add(N),_(z)},Te=()=>{w.size===ce.length?_(new Set):_(new Set(ce.map(N=>N.job_id)))},Qe=async()=>{if(C){H(!0);try{await Mt.delete(C),l(N=>N.filter(z=>z.job_id!==C)),E(null)}catch(N){u(N instanceof Error?N.message:"Failed to delete PDF")}finally{H(!1)}}},Lt=async()=>{if(w.size!==0){H(!0);try{for(const N of w)await Mt.delete(N);l(N=>N.filter(z=>!w.has(z.job_id))),_(new Set),S(!1),M(!1)}catch(N){u(N instanceof Error?N.message:"Failed to delete PDFs")}finally{H(!1)}}},tr=N=>{F(!1),N&&(l(z=>{const J=z.findIndex(L=>L.job_id===N.job_id);if(J===-1)return[N,...z];const we=[...z];return we[J]={...we[J],...N},we}),f(z=>N.created_by&&!z.includes(N.created_by)?[...z,N.created_by]:z))},Sn=async N=>{$(N);try{await Mt.cancel(N),l(z=>z.map(J=>J.job_id===N?{...J,status:"CANCELLED",progress_message:"Cancelled"}:J))}catch(z){u(z instanceof Error?z.message:"Failed to cancel PDF generation")}finally{$(null)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(jn,{}),o.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[g?o.jsx("div",{className:"w-9 h-9"}):o.jsx("button",{onClick:T,className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 flex-1",children:g?`${w.size} selected`:"Generated PDFs"}),o.jsxs("div",{className:"flex items-center gap-4",children:[g&&o.jsx("button",{onClick:Te,className:"text-primary-600 hover:text-primary-700 touch-manipulation text-sm font-medium",children:w.size===ce.length?"Deselect all":"Select all"}),ce.length>0&&o.jsx(jf,{checked:g,onChange:N=>{S(N),N||_(new Set)},label:"Select"})]})]}),o.jsx("div",{className:"flex items-center gap-2 mt-3 h-11 overflow-x-auto",children:g?o.jsx("span",{className:"text-sm text-gray-500",children:"Select PDFs to delete"}):o.jsxs(o.Fragment,{children:[o.jsxs("select",{value:c,onChange:N=>m(N.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[o.jsx("option",{value:"",children:"Year"}),tt.map(N=>o.jsx("option",{value:N,children:N},N))]}),h.length>1&&o.jsxs("select",{value:d,onChange:N=>p(N.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 max-w-32 truncate",children:[o.jsx("option",{value:"",children:"Author"}),h.map(N=>o.jsx("option",{value:N,children:ye(N)},N))]}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden text-xs",children:[o.jsxs("button",{onClick:()=>{v==="created_at"?k(j==="desc"?"asc":"desc"):(y("created_at"),k("desc"))},className:`px-3 py-2.5 font-medium transition-colors flex items-center gap-1 ${v==="created_at"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Created",v==="created_at"&&o.jsx("span",{className:"text-[10px]",children:j==="desc"?"":""})]}),o.jsxs("button",{onClick:()=>{v==="date_from"?k(j==="desc"?"asc":"desc"):(y("date_from"),k("desc"))},className:`px-3 py-2.5 font-medium border-l border-gray-300 transition-colors flex items-center gap-1 ${v==="date_from"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Period",v==="date_from"&&o.jsx("span",{className:"text-[10px]",children:j==="desc"?"":""})]}),o.jsxs("button",{onClick:()=>{v==="created_by"?k(j==="desc"?"asc":"desc"):(y("created_by"),k("asc"))},className:`px-3 py-2.5 font-medium border-l border-gray-300 transition-colors flex items-center gap-1 ${v==="created_by"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Author",v==="created_by"&&o.jsx("span",{className:"text-[10px]",children:j==="desc"?"":""})]})]}),o.jsxs("span",{className:"text-sm text-gray-500 ml-auto",children:[ce.length," PDF",ce.length>1?"s":""]})]})})]}),a&&o.jsxs("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[a,o.jsx("button",{onClick:()=>u(null),className:"ml-2 text-red-500 hover:text-red-700",children:""})]}),o.jsx("div",{className:"flex-1 p-4 pb-24",children:s?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):B.length===0&&ce.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("p",{className:"text-gray-500 mb-2",children:c?"No PDFs for this year":"No PDFs generated"}),o.jsx(Y,{onClick:()=>F(!0),variant:"primary",children:"Create my first PDF"})]}):o.jsxs(o.Fragment,{children:[B.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Generating"}),o.jsx("div",{className:"space-y-3",children:B.map(N=>o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:o.jsxs("svg",{className:"w-5 h-5 text-blue-600 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-gray-900",children:X(N.date_from,N.date_to)}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("div",{className:"flex-1 h-1.5 bg-blue-200 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300",style:{width:`${N.progress||0}%`}})}),o.jsxs("span",{className:"text-xs text-blue-600 font-medium w-8",children:[N.progress||0,"%"]})]}),o.jsx("p",{className:"text-xs text-blue-500 mt-0.5",children:N.progress_message||"Pending..."}),o.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["by ",ye(N.created_by,N.created_by_pseudo)]}),N.temp_folder_url&&o.jsx("a",{href:N.temp_folder_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 mt-0.5 inline-flex",onClick:z=>z.stopPropagation(),children:"Temporary folder"})]}),o.jsx("button",{onClick:()=>Sn(N.job_id),disabled:ne===N.job_id,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Cancel",children:ne===N.job_id?o.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})},N.job_id))})]}),ce.length>0&&o.jsxs("div",{children:[B.length>0&&o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Generated"}),o.jsx("div",{className:"space-y-3",children:ce.map(N=>o.jsx("div",{onClick:()=>g&&Ue(N.job_id),className:`bg-white rounded-lg shadow-sm border transition-colors ${g?w.has(N.job_id)?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300":"border-gray-200"} p-4 ${g?"cursor-pointer":""}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[g&&o.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 mt-0.5 ${w.has(N.job_id)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:w.has(N.job_id)&&o.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M5 13l4 4L19 7"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-medium text-gray-900",children:X(N.date_from,N.date_to)}),N.status==="ERROR"&&o.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-red-100 text-red-700 rounded",children:"Error"}),N.status==="CANCELLED"&&o.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded",children:"Cancelled"})]}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Created on ",W(N.created_at)]}),N.status==="ERROR"&&N.error_message&&o.jsx("p",{className:"text-xs text-red-500 mt-0.5 truncate",title:N.error_message,children:N.error_message}),o.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["by ",ye(N.created_by,N.created_by_pseudo)]}),N.temp_folder_url&&o.jsx("a",{href:N.temp_folder_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 mt-0.5 inline-flex",onClick:z=>z.stopPropagation(),children:"Temporary folder"})]}),!g&&o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[N.pdf_url&&o.jsx("a",{href:N.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Voir le PDF",onClick:z=>z.stopPropagation(),children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),o.jsx("button",{onClick:z=>{z.stopPropagation(),E(N.job_id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},N.job_id))})]})]})}),g&&w.size>0&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 z-50 shadow-lg",children:o.jsxs("div",{className:"max-w-content mx-auto flex items-center justify-between gap-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[w.size," PDF",w.size>1?"s":""," selected"]}),o.jsx("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Delete"})]})}),!g&&o.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-30",children:o.jsx("div",{className:"max-w-content mx-auto px-4 flex justify-end",children:o.jsx(vf,{onClick:()=>F(!0),className:"bg-primary-600 hover:bg-primary-700 active:bg-primary-800 transition-all hover:scale-105 active:scale-95",icon:o.jsx("svg",{className:"w-8 h-8",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 4v16m8-8H4"})})})})}),o.jsx(Sg,{isOpen:U,onClose:()=>F(!1),onComplete:tr}),o.jsx(vn,{isOpen:!!C,title:"Delete PDF?",message:"The PDF will be permanently deleted from Google Drive.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:Qe,onCancel:()=>E(null),variant:"danger",isLoading:Q}),o.jsx(vn,{isOpen:O,title:`Delete ${w.size} PDF${w.size>1?"s":""}?`,message:"Selected PDFs will be permanently deleted from Google Drive.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:Lt,onCancel:()=>M(!1),variant:"danger",isLoading:Q})]})}const Iu={get:e=>re.get("config/get",{key:e}),set:(e,t)=>re.post("config/set",{key:e,value:t})};function Cg(){const e=Oe(),{showToast:t}=Jr(),[n,r]=x.useState(""),[l,s]=x.useState(!0),[i,a]=x.useState(!1);x.useEffect(()=>{u()},[]);const u=async()=>{try{const m=await Iu.get("family_name");r(m.value||"")}catch{t("Error while loading","error")}finally{s(!1)}},c=async()=>{a(!0);try{await Iu.set("family_name",n.trim()),t("Configuration saved","success"),e("/")}catch{t("Error while saving","error")}finally{a(!1)}};return l?o.jsx(wn,{message:"Loading..."}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(jn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Settings"})]})}),o.jsx("div",{className:"flex-1 p-4 space-y-6 pb-32 max-w-md mx-auto w-full",children:o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"PDF cover page"}),o.jsx(Wr,{label:"Family name",value:n,onChange:m=>r(m.target.value),placeholder:"e.g., Dupont family"}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Appears on the PDF cover title."})]})}),o.jsx("div",{className:"bg-white border-t border-gray-200 p-4 sticky bottom-0",children:o.jsx(Y,{onClick:c,disabled:i,fullWidth:!0,children:i?"Saving...":"Save"})})]})}const Eg="modulepreload",_g=function(e){return"/"+e},Tu={},bg=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));l=Promise.allSettled(n.map(u=>{if(u=_g(u),u in Tu)return;Tu[u]=!0;const c=u.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Eg,c||(d.as="script"),d.crossOrigin="",d.href=u,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((p,v)=>{d.addEventListener("load",p),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return l.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function Pg(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:l,onRegisteredSW:s,onRegisterError:i}=e;let a,u,c;const m=async(p=!0)=>{await u,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(a=await bg(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:p}},[]).then(({Workbox:p})=>new p("/sw.js",{scope:"/",type:"classic"})).catch(p=>{i==null||i(p)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let p=!1;const v=()=>{p=!0,a==null||a.addEventListener("controlling",y=>{y.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",y=>{typeof y.isUpdate>"u"?typeof y.isExternal<"u"?y.isExternal?v():!p&&(r==null||r()):y.isExternal?window.location.reload():!p&&(r==null||r()):y.isUpdate||r==null||r()}),a.addEventListener("waiting",v),a.addEventListener("externalwaiting",v)}a.register({immediate:t}).then(p=>{s?s("/sw.js",p):l==null||l(p)}).catch(p=>{i==null||i(p)})}}return u=d(),m}function Lg(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:l,onRegisteredSW:s,onRegisterError:i}=e,[a,u]=x.useState(!1),[c,m]=x.useState(!1),[d]=x.useState(()=>Pg({immediate:t,onOfflineReady(){m(!0),r==null||r()},onNeedRefresh(){u(!0),n==null||n()},onRegistered:l,onRegisteredSW:s,onRegisterError:i}));return{needRefresh:[a,u],offlineReady:[c,m],updateServiceWorker:d}}function Dg(){const{needRefresh:[e],updateServiceWorker:t}=Lg({onRegistered(n){console.log("SW Registered:",n),n&&setInterval(()=>{n.update()},3e4)},onRegisterError(n){console.log("SW registration error",n)}});return e?o.jsxs("div",{className:"fixed bottom-20 left-4 right-4 z-50 bg-primary-600 text-white p-4 rounded-lg shadow-lg flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"New version available"}),o.jsx("button",{onClick:()=>t(!0),className:"bg-white text-primary-600 px-4 py-2 rounded-md text-sm font-semibold",children:"Update"})]}):null}function Ig(){const{error:e,pdfUrl:t,showSuccess:n,lastCompletedJob:r,dismissSuccess:l,dismissError:s}=Xi();if(!n&&!e)return null;const i=(a,u)=>{try{const c=new Date(a),m=new Date(u),d={day:"2-digit",month:"short",year:"numeric"};return`${c.toLocaleDateString("fr-FR",d)} - ${m.toLocaleDateString("fr-FR",d)}`}catch{return`${a} - ${u}`}};return o.jsxs("div",{className:"fixed bottom-20 left-4 right-4 z-50 max-w-md mx-auto",children:[n&&t&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg shadow-lg p-4 animate-slide-up",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-green-800",children:"PDF generated successfully!"}),r&&o.jsx("p",{className:"text-xs text-green-600 mt-0.5",children:i(r.date_from,r.date_to)}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View"]}),o.jsx("button",{onClick:l,className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-green-700 hover:bg-green-100 rounded-lg transition-colors",children:"Close"})]})]}),o.jsx("button",{onClick:l,className:"text-green-400 hover:text-green-600",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})}),e&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 animate-slide-up",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:"Generation error"}),o.jsx("p",{className:"text-xs text-red-600 mt-0.5",children:e})]}),o.jsx("button",{onClick:s,className:"text-red-400 hover:text-red-600",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})]})}function Tg(){return o.jsx(Yp,{children:o.jsxs(Jp,{children:[o.jsx(Dg,{}),o.jsx(Ig,{}),o.jsx("div",{className:"min-h-screen max-w-content mx-auto bg-white",children:o.jsxs(Vp,{children:[o.jsx(Ye,{path:"/auth",element:o.jsx(e0,{})}),o.jsx(Ye,{path:"/",element:o.jsx(xt,{children:o.jsx(B0,{})})}),o.jsx(Ye,{path:"/editor",element:o.jsx(xt,{children:o.jsx(Lu,{})})}),o.jsx(Ye,{path:"/editor/:id",element:o.jsx(xt,{children:o.jsx(Lu,{})})}),o.jsx(Ye,{path:"/stats",element:o.jsx(xt,{children:o.jsx(ag,{})})}),o.jsx(Ye,{path:"/photo-assembly",element:o.jsx(xt,{children:o.jsx(hg,{})})}),o.jsx(Ye,{path:"/profile",element:o.jsx(xt,{children:o.jsx(gg,{})})}),o.jsx(Ye,{path:"/famileo",element:o.jsx(xt,{children:o.jsx(xg,{})})}),o.jsx(Ye,{path:"/pdf-export",element:o.jsx(xt,{children:o.jsx(Ng,{})})}),o.jsx(Ye,{path:"/settings",element:o.jsx(xt,{children:o.jsx(Cg,{})})}),o.jsx(Ye,{path:"*",element:o.jsx(of,{to:"/",replace:!0})})]})})]})})}Zs.createRoot(document.getElementById("root")).render(o.jsx(ni.StrictMode,{children:o.jsx(Qp,{children:o.jsx(Tg,{})})}));
