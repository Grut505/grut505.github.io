var Sf=Object.defineProperty;var jf=(e,t,n)=>t in e?Sf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gs=(e,t,n)=>jf(e,typeof t!="symbol"?t+"":t,n);function kf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Du(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Iu={exports:{}},Xl={},Tu={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Br=Symbol.for("react.element"),Nf=Symbol.for("react.portal"),Cf=Symbol.for("react.fragment"),Ef=Symbol.for("react.strict_mode"),_f=Symbol.for("react.profiler"),bf=Symbol.for("react.provider"),Pf=Symbol.for("react.context"),Lf=Symbol.for("react.forward_ref"),Df=Symbol.for("react.suspense"),If=Symbol.for("react.memo"),Tf=Symbol.for("react.lazy"),Zi=Symbol.iterator;function Rf(e){return e===null||typeof e!="object"?null:(e=Zi&&e[Zi]||e["@@iterator"],typeof e=="function"?e:null)}var Ru={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zu=Object.assign,Mu={};function Kn(e,t,n){this.props=e,this.context=t,this.refs=Mu,this.updater=n||Ru}Kn.prototype.isReactComponent={};Kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fu(){}Fu.prototype=Kn.prototype;function Zo(e,t,n){this.props=e,this.context=t,this.refs=Mu,this.updater=n||Ru}var Xo=Zo.prototype=new Fu;Xo.constructor=Zo;zu(Xo,Kn.prototype);Xo.isPureReactComponent=!0;var Xi=Array.isArray,Au=Object.prototype.hasOwnProperty,Jo={current:null},Ou={key:!0,ref:!0,__self:!0,__source:!0};function Uu(e,t,n){var r,l={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Au.call(t,r)&&!Ou.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:Br,type:e,key:s,ref:i,props:l,_owner:Jo.current}}function zf(e,t){return{$$typeof:Br,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Br}function Mf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ji=/\/+/g;function vs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mf(""+e.key):t.toString(36)}function hl(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Br:case Nf:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+vs(i,0):r,Xi(l)?(n="",e!=null&&(n=e.replace(Ji,"$&/")+"/"),hl(l,t,n,"",function(c){return c})):l!=null&&(qo(l)&&(l=zf(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(Ji,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",Xi(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+vs(s,a);i+=hl(s,t,n,u,l)}else if(u=Rf(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+vs(s,a++),i+=hl(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Xr(e,t,n){if(e==null)return e;var r=[],l=0;return hl(e,r,"","",function(s){return t.call(n,s,l++)}),r}function Ff(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},pl={transition:null},Af={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:pl,ReactCurrentOwner:Jo};function Bu(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Xr,forEach:function(e,t,n){Xr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xr(e,function(){t++}),t},toArray:function(e){return Xr(e,function(t){return t})||[]},only:function(e){if(!qo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Kn;V.Fragment=Cf;V.Profiler=_f;V.PureComponent=Zo;V.StrictMode=Ef;V.Suspense=Df;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Af;V.act=Bu;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zu({},e.props),l=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=Jo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Au.call(t,u)&&!Ou.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Br,type:e.type,key:l,ref:s,props:r,_owner:i}};V.createContext=function(e){return e={$$typeof:Pf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bf,_context:e},e.Consumer=e};V.createElement=Uu;V.createFactory=function(e){var t=Uu.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:Lf,render:e}};V.isValidElement=qo;V.lazy=function(e){return{$$typeof:Tf,_payload:{_status:-1,_result:e},_init:Ff}};V.memo=function(e,t){return{$$typeof:If,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=pl.transition;pl.transition={};try{e()}finally{pl.transition=t}};V.unstable_act=Bu;V.useCallback=function(e,t){return Te.current.useCallback(e,t)};V.useContext=function(e){return Te.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};V.useEffect=function(e,t){return Te.current.useEffect(e,t)};V.useId=function(){return Te.current.useId()};V.useImperativeHandle=function(e,t,n){return Te.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Te.current.useMemo(e,t)};V.useReducer=function(e,t,n){return Te.current.useReducer(e,t,n)};V.useRef=function(e){return Te.current.useRef(e)};V.useState=function(e){return Te.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return Te.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return Te.current.useTransition()};V.version="18.3.1";Tu.exports=V;var y=Tu.exports;const ei=Du(y),Of=kf({__proto__:null,default:ei},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=y,Bf=Symbol.for("react.element"),$f=Symbol.for("react.fragment"),Wf=Object.prototype.hasOwnProperty,Vf=Uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hf={key:!0,ref:!0,__self:!0,__source:!0};function $u(e,t,n){var r,l={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Wf.call(t,r)&&!Hf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Bf,type:e,key:s,ref:i,props:l,_owner:Vf.current}}Xl.Fragment=$f;Xl.jsx=$u;Xl.jsxs=$u;Iu.exports=Xl;var o=Iu.exports,Ys={},Wu={exports:{}},He={},Vu={exports:{}},Hu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,T){var M=P.length;P.push(T);e:for(;0<M;){var $=M-1>>>1,X=P[$];if(0<l(X,T))P[$]=T,P[M]=X,M=$;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var T=P[0],M=P.pop();if(M!==T){P[0]=M;e:for(var $=0,X=P.length,ct=X>>>1;$<ct;){var we=2*($+1)-1,ue=P[we],I=we+1,W=P[I];if(0>l(ue,M))I<X&&0>l(W,ue)?(P[$]=W,P[I]=M,$=I):(P[$]=ue,P[we]=M,$=we);else if(I<X&&0>l(W,M))P[$]=W,P[I]=M,$=I;else break e}}return T}function l(P,T){var M=P.sortIndex-T.sortIndex;return M!==0?M:P.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var u=[],c=[],m=1,d=null,p=3,v=!1,x=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var T=n(c);T!==null;){if(T.callback===null)r(c);else if(T.startTime<=P)r(c),T.sortIndex=T.expirationTime,t(u,T);else break;T=n(c)}}function j(P){if(S=!1,g(P),!x)if(n(u)!==null)x=!0,A(w);else{var T=n(c);T!==null&&me(j,T.startTime-P)}}function w(P,T){x=!1,S&&(S=!1,h(b),b=-1),v=!0;var M=p;try{for(g(T),d=n(u);d!==null&&(!(d.expirationTime>T)||P&&!Q());){var $=d.callback;if(typeof $=="function"){d.callback=null,p=d.priorityLevel;var X=$(d.expirationTime<=T);T=e.unstable_now(),typeof X=="function"?d.callback=X:d===n(u)&&r(u),g(T)}else r(u);d=n(u)}if(d!==null)var ct=!0;else{var we=n(c);we!==null&&me(j,we.startTime-T),ct=!1}return ct}finally{d=null,p=M,v=!1}}var E=!1,C=null,b=-1,U=5,z=-1;function Q(){return!(e.unstable_now()-z<U)}function H(){if(C!==null){var P=e.unstable_now();z=P;var T=!0;try{T=C(!0,P)}finally{T?te():(E=!1,C=null)}}else E=!1}var te;if(typeof f=="function")te=function(){f(H)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,O=B.port2;B.port1.onmessage=H,te=function(){O.postMessage(null)}}else te=function(){k(H,0)};function A(P){C=P,E||(E=!0,te())}function me(P,T){b=k(function(){P(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,A(w))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var T=3;break;default:T=p}var M=p;p=T;try{return P()}finally{p=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,T){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var M=p;p=P;try{return T()}finally{p=M}},e.unstable_scheduleCallback=function(P,T,M){var $=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?$+M:$):M=$,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=M+X,P={id:m++,callback:T,priorityLevel:P,startTime:M,expirationTime:X,sortIndex:-1},M>$?(P.sortIndex=M,t(c,P),n(u)===null&&P===n(c)&&(S?(h(b),b=-1):S=!0,me(j,M-$))):(P.sortIndex=X,t(u,P),x||v||(x=!0,A(w))),P},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(P){var T=p;return function(){var M=p;p=T;try{return P.apply(this,arguments)}finally{p=M}}}})(Hu);Vu.exports=Hu;var Gf=Vu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=y,Ve=Gf;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gu=new Set,Sr={};function vn(e,t){Bn(e,t),Bn(e+"Capture",t)}function Bn(e,t){for(Sr[e]=t,e=0;e<t.length;e++)Gu.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ks=Object.prototype.hasOwnProperty,Yf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qi={},ea={};function Kf(e){return Ks.call(ea,e)?!0:Ks.call(qi,e)?!1:Yf.test(e)?ea[e]=!0:(qi[e]=!0,!1)}function Zf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xf(e,t,n,r){if(t===null||typeof t>"u"||Zf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,n,r,l,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ne[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ne[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ne[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ne[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ne[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ne[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ne[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ne[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ne[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var ti=/[\-:]([a-z])/g;function ni(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ti,ni);Ne[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ti,ni);Ne[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ti,ni);Ne[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ne[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ne[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function ri(e,t,n,r){var l=Ne.hasOwnProperty(t)?Ne[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xf(t,n,l,r)&&(n=null),r||l===null?Kf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Pt=Qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jr=Symbol.for("react.element"),kn=Symbol.for("react.portal"),Nn=Symbol.for("react.fragment"),li=Symbol.for("react.strict_mode"),Zs=Symbol.for("react.profiler"),Qu=Symbol.for("react.provider"),Yu=Symbol.for("react.context"),si=Symbol.for("react.forward_ref"),Xs=Symbol.for("react.suspense"),Js=Symbol.for("react.suspense_list"),oi=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Ku=Symbol.for("react.offscreen"),ta=Symbol.iterator;function qn(e){return e===null||typeof e!="object"?null:(e=ta&&e[ta]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,ys;function ar(e){if(ys===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ys=t&&t[1]||""}return`
`+ys+e}var xs=!1;function ws(e,t){if(!e||xs)return"";xs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),i=l.length-1,a=s.length-1;1<=i&&0<=a&&l[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(l[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||l[i]!==s[a]){var u=`
`+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=a);break}}}finally{xs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ar(e):""}function Jf(e){switch(e.tag){case 5:return ar(e.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 2:case 15:return e=ws(e.type,!1),e;case 11:return e=ws(e.type.render,!1),e;case 1:return e=ws(e.type,!0),e;default:return""}}function qs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nn:return"Fragment";case kn:return"Portal";case Zs:return"Profiler";case li:return"StrictMode";case Xs:return"Suspense";case Js:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yu:return(e.displayName||"Context")+".Consumer";case Qu:return(e._context.displayName||"Context")+".Provider";case si:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oi:return t=e.displayName||null,t!==null?t:qs(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return qs(e(t))}catch{}}return null}function qf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qs(t);case 8:return t===li?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function em(e){var t=Zu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qr(e){e._valueTracker||(e._valueTracker=em(e))}function Xu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Zu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eo(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function na(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ju(e,t){t=t.checked,t!=null&&ri(e,"checked",t,!1)}function to(e,t){Ju(e,t);var n=Qt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?no(e,t.type,n):t.hasOwnProperty("defaultValue")&&no(e,t.type,Qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ra(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function no(e,t,n){(t!=="number"||_l(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ur=Array.isArray;function zn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function la(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(ur(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qt(n)}}function qu(e,t){var n=Qt(t.value),r=Qt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ec(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ec(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var el,tc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=el.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tm=["Webkit","ms","Moz","O"];Object.keys(fr).forEach(function(e){tm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fr[t]=fr[e]})});function nc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fr.hasOwnProperty(e)&&fr[e]?(""+t).trim():t+"px"}function rc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=nc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var nm=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(e,t){if(t){if(nm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function oo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=null;function ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ao=null,Mn=null,Fn=null;function oa(e){if(e=Vr(e)){if(typeof ao!="function")throw Error(_(280));var t=e.stateNode;t&&(t=ns(t),ao(e.stateNode,e.type,t))}}function lc(e){Mn?Fn?Fn.push(e):Fn=[e]:Mn=e}function sc(){if(Mn){var e=Mn,t=Fn;if(Fn=Mn=null,oa(e),t)for(e=0;e<t.length;e++)oa(t[e])}}function oc(e,t){return e(t)}function ic(){}var Ss=!1;function ac(e,t,n){if(Ss)return e(t,n);Ss=!0;try{return oc(e,t,n)}finally{Ss=!1,(Mn!==null||Fn!==null)&&(ic(),sc())}}function kr(e,t){var n=e.stateNode;if(n===null)return null;var r=ns(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var uo=!1;if(Ct)try{var er={};Object.defineProperty(er,"passive",{get:function(){uo=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{uo=!1}function rm(e,t,n,r,l,s,i,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var mr=!1,bl=null,Pl=!1,co=null,lm={onError:function(e){mr=!0,bl=e}};function sm(e,t,n,r,l,s,i,a,u){mr=!1,bl=null,rm.apply(lm,arguments)}function om(e,t,n,r,l,s,i,a,u){if(sm.apply(this,arguments),mr){if(mr){var c=bl;mr=!1,bl=null}else throw Error(_(198));Pl||(Pl=!0,co=c)}}function yn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function uc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ia(e){if(yn(e)!==e)throw Error(_(188))}function im(e){var t=e.alternate;if(!t){if(t=yn(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return ia(l),e;if(s===r)return ia(l),t;s=s.sibling}throw Error(_(188))}if(n.return!==r.return)n=l,r=s;else{for(var i=!1,a=l.child;a;){if(a===n){i=!0,n=l,r=s;break}if(a===r){i=!0,r=l,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=l;break}if(a===r){i=!0,r=s,n=l;break}a=a.sibling}if(!i)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function cc(e){return e=im(e),e!==null?dc(e):null}function dc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dc(e);if(t!==null)return t;e=e.sibling}return null}var fc=Ve.unstable_scheduleCallback,aa=Ve.unstable_cancelCallback,am=Ve.unstable_shouldYield,um=Ve.unstable_requestPaint,ce=Ve.unstable_now,cm=Ve.unstable_getCurrentPriorityLevel,ai=Ve.unstable_ImmediatePriority,mc=Ve.unstable_UserBlockingPriority,Ll=Ve.unstable_NormalPriority,dm=Ve.unstable_LowPriority,hc=Ve.unstable_IdlePriority,Jl=null,pt=null;function fm(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Jl,e,void 0,(e.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:pm,mm=Math.log,hm=Math.LN2;function pm(e){return e>>>=0,e===0?32:31-(mm(e)/hm|0)|0}var tl=64,nl=4194304;function cr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~l;a!==0?r=cr(a):(s&=i,s!==0&&(r=cr(s)))}else i=n&~l,i!==0?r=cr(i):s!==0&&(r=cr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-it(t),l=1<<n,r|=e[n],t&=~l;return r}function gm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),a=1<<i,u=l[i];u===-1?(!(a&n)||a&r)&&(l[i]=gm(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function fo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pc(){var e=tl;return tl<<=1,!(tl&4194240)&&(tl=64),e}function js(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $r(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-it(t),e[t]=n}function ym(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-it(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function ui(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var K=0;function gc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vc,ci,yc,xc,wc,mo=!1,rl=[],Ot=null,Ut=null,Bt=null,Nr=new Map,Cr=new Map,Tt=[],xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ua(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Nr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cr.delete(t.pointerId)}}function tr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Vr(t),t!==null&&ci(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function wm(e,t,n,r,l){switch(t){case"focusin":return Ot=tr(Ot,e,t,n,r,l),!0;case"dragenter":return Ut=tr(Ut,e,t,n,r,l),!0;case"mouseover":return Bt=tr(Bt,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return Nr.set(s,tr(Nr.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,Cr.set(s,tr(Cr.get(s)||null,e,t,n,r,l)),!0}return!1}function Sc(e){var t=nn(e.target);if(t!==null){var n=yn(t);if(n!==null){if(t=n.tag,t===13){if(t=uc(n),t!==null){e.blockedOn=t,wc(e.priority,function(){yc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ho(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);io=r,n.target.dispatchEvent(r),io=null}else return t=Vr(n),t!==null&&ci(t),e.blockedOn=n,!1;t.shift()}return!0}function ca(e,t,n){gl(e)&&n.delete(t)}function Sm(){mo=!1,Ot!==null&&gl(Ot)&&(Ot=null),Ut!==null&&gl(Ut)&&(Ut=null),Bt!==null&&gl(Bt)&&(Bt=null),Nr.forEach(ca),Cr.forEach(ca)}function nr(e,t){e.blockedOn===t&&(e.blockedOn=null,mo||(mo=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,Sm)))}function Er(e){function t(l){return nr(l,e)}if(0<rl.length){nr(rl[0],e);for(var n=1;n<rl.length;n++){var r=rl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ot!==null&&nr(Ot,e),Ut!==null&&nr(Ut,e),Bt!==null&&nr(Bt,e),Nr.forEach(t),Cr.forEach(t),n=0;n<Tt.length;n++)r=Tt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&(n=Tt[0],n.blockedOn===null);)Sc(n),n.blockedOn===null&&Tt.shift()}var An=Pt.ReactCurrentBatchConfig,Il=!0;function jm(e,t,n,r){var l=K,s=An.transition;An.transition=null;try{K=1,di(e,t,n,r)}finally{K=l,An.transition=s}}function km(e,t,n,r){var l=K,s=An.transition;An.transition=null;try{K=4,di(e,t,n,r)}finally{K=l,An.transition=s}}function di(e,t,n,r){if(Il){var l=ho(e,t,n,r);if(l===null)Is(e,t,r,Tl,n),ua(e,r);else if(wm(l,e,t,n,r))r.stopPropagation();else if(ua(e,r),t&4&&-1<xm.indexOf(e)){for(;l!==null;){var s=Vr(l);if(s!==null&&vc(s),s=ho(e,t,n,r),s===null&&Is(e,t,r,Tl,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else Is(e,t,r,null,n)}}var Tl=null;function ho(e,t,n,r){if(Tl=null,e=ii(r),e=nn(e),e!==null)if(t=yn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=uc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tl=e,null}function jc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cm()){case ai:return 1;case mc:return 4;case Ll:case dm:return 16;case hc:return 536870912;default:return 16}default:return 16}}var Mt=null,fi=null,vl=null;function kc(){if(vl)return vl;var e,t=fi,n=t.length,r,l="value"in Mt?Mt.value:Mt.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[s-r];r++);return vl=l.slice(e,1<r?1-r:void 0)}function yl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function da(){return!1}function Ge(e){function t(n,r,l,s,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ll:da,this.isPropagationStopped=da,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Ge(Zn),Wr=ie({},Zn,{view:0,detail:0}),Nm=Ge(Wr),ks,Ns,rr,ql=ie({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rr&&(rr&&e.type==="mousemove"?(ks=e.screenX-rr.screenX,Ns=e.screenY-rr.screenY):Ns=ks=0,rr=e),ks)},movementY:function(e){return"movementY"in e?e.movementY:Ns}}),fa=Ge(ql),Cm=ie({},ql,{dataTransfer:0}),Em=Ge(Cm),_m=ie({},Wr,{relatedTarget:0}),Cs=Ge(_m),bm=ie({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Pm=Ge(bm),Lm=ie({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dm=Ge(Lm),Im=ie({},Zn,{data:0}),ma=Ge(Im),Tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zm[e])?!!t[e]:!1}function hi(){return Mm}var Fm=ie({},Wr,{key:function(e){if(e.key){var t=Tm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hi,charCode:function(e){return e.type==="keypress"?yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Am=Ge(Fm),Om=ie({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ha=Ge(Om),Um=ie({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hi}),Bm=Ge(Um),$m=ie({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wm=Ge($m),Vm=ie({},ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hm=Ge(Vm),Gm=[9,13,27,32],pi=Ct&&"CompositionEvent"in window,hr=null;Ct&&"documentMode"in document&&(hr=document.documentMode);var Qm=Ct&&"TextEvent"in window&&!hr,Nc=Ct&&(!pi||hr&&8<hr&&11>=hr),pa=" ",ga=!1;function Cc(e,t){switch(e){case"keyup":return Gm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ec(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function Ym(e,t){switch(e){case"compositionend":return Ec(t);case"keypress":return t.which!==32?null:(ga=!0,pa);case"textInput":return e=t.data,e===pa&&ga?null:e;default:return null}}function Km(e,t){if(Cn)return e==="compositionend"||!pi&&Cc(e,t)?(e=kc(),vl=fi=Mt=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nc&&t.locale!=="ko"?null:t.data;default:return null}}var Zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function va(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zm[e.type]:t==="textarea"}function _c(e,t,n,r){lc(r),t=Rl(t,"onChange"),0<t.length&&(n=new mi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pr=null,_r=null;function Xm(e){Ac(e,0)}function es(e){var t=bn(e);if(Xu(t))return e}function Jm(e,t){if(e==="change")return t}var bc=!1;if(Ct){var Es;if(Ct){var _s="oninput"in document;if(!_s){var ya=document.createElement("div");ya.setAttribute("oninput","return;"),_s=typeof ya.oninput=="function"}Es=_s}else Es=!1;bc=Es&&(!document.documentMode||9<document.documentMode)}function xa(){pr&&(pr.detachEvent("onpropertychange",Pc),_r=pr=null)}function Pc(e){if(e.propertyName==="value"&&es(_r)){var t=[];_c(t,_r,e,ii(e)),ac(Xm,t)}}function qm(e,t,n){e==="focusin"?(xa(),pr=t,_r=n,pr.attachEvent("onpropertychange",Pc)):e==="focusout"&&xa()}function eh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return es(_r)}function th(e,t){if(e==="click")return es(t)}function nh(e,t){if(e==="input"||e==="change")return es(t)}function rh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ut=typeof Object.is=="function"?Object.is:rh;function br(e,t){if(ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Ks.call(t,l)||!ut(e[l],t[l]))return!1}return!0}function wa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sa(e,t){var n=wa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wa(n)}}function Lc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dc(){for(var e=window,t=_l();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_l(e.document)}return t}function gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lh(e){var t=Dc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lc(n.ownerDocument.documentElement,n)){if(r!==null&&gi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=Sa(n,s);var i=Sa(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sh=Ct&&"documentMode"in document&&11>=document.documentMode,En=null,po=null,gr=null,go=!1;function ja(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;go||En==null||En!==_l(r)||(r=En,"selectionStart"in r&&gi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gr&&br(gr,r)||(gr=r,r=Rl(po,"onSelect"),0<r.length&&(t=new mi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=En)))}function sl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _n={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},bs={},Ic={};Ct&&(Ic=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function ts(e){if(bs[e])return bs[e];if(!_n[e])return e;var t=_n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ic)return bs[e]=t[n];return e}var Tc=ts("animationend"),Rc=ts("animationiteration"),zc=ts("animationstart"),Mc=ts("transitionend"),Fc=new Map,ka="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(e,t){Fc.set(e,t),vn(t,[e])}for(var Ps=0;Ps<ka.length;Ps++){var Ls=ka[Ps],oh=Ls.toLowerCase(),ih=Ls[0].toUpperCase()+Ls.slice(1);Kt(oh,"on"+ih)}Kt(Tc,"onAnimationEnd");Kt(Rc,"onAnimationIteration");Kt(zc,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(Mc,"onTransitionEnd");Bn("onMouseEnter",["mouseout","mouseover"]);Bn("onMouseLeave",["mouseout","mouseover"]);Bn("onPointerEnter",["pointerout","pointerover"]);Bn("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ah=new Set("cancel close invalid load scroll toggle".split(" ").concat(dr));function Na(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,om(r,t,void 0,e),e.currentTarget=null}function Ac(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&l.isPropagationStopped())break e;Na(l,a,c),s=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&l.isPropagationStopped())break e;Na(l,a,c),s=u}}}if(Pl)throw e=co,Pl=!1,co=null,e}function q(e,t){var n=t[So];n===void 0&&(n=t[So]=new Set);var r=e+"__bubble";n.has(r)||(Oc(t,e,2,!1),n.add(r))}function Ds(e,t,n){var r=0;t&&(r|=4),Oc(n,e,r,t)}var ol="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){if(!e[ol]){e[ol]=!0,Gu.forEach(function(n){n!=="selectionchange"&&(ah.has(n)||Ds(n,!1,e),Ds(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ol]||(t[ol]=!0,Ds("selectionchange",!1,t))}}function Oc(e,t,n,r){switch(jc(t)){case 1:var l=jm;break;case 4:l=km;break;default:l=di}n=l.bind(null,t,n,e),l=void 0,!uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Is(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;i=i.return}for(;a!==null;){if(i=nn(a),i===null)return;if(u=i.tag,u===5||u===6){r=s=i;continue e}a=a.parentNode}}r=r.return}ac(function(){var c=s,m=ii(n),d=[];e:{var p=Fc.get(e);if(p!==void 0){var v=mi,x=e;switch(e){case"keypress":if(yl(n)===0)break e;case"keydown":case"keyup":v=Am;break;case"focusin":x="focus",v=Cs;break;case"focusout":x="blur",v=Cs;break;case"beforeblur":case"afterblur":v=Cs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Bm;break;case Tc:case Rc:case zc:v=Pm;break;case Mc:v=Wm;break;case"scroll":v=Nm;break;case"wheel":v=Hm;break;case"copy":case"cut":case"paste":v=Dm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ha}var S=(t&4)!==0,k=!S&&e==="scroll",h=S?p!==null?p+"Capture":null:p;S=[];for(var f=c,g;f!==null;){g=f;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,h!==null&&(j=kr(f,h),j!=null&&S.push(Lr(f,j,g)))),k)break;f=f.return}0<S.length&&(p=new v(p,x,null,n,m),d.push({event:p,listeners:S}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==io&&(x=n.relatedTarget||n.fromElement)&&(nn(x)||x[Et]))break e;if((v||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=c,x=x?nn(x):null,x!==null&&(k=yn(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(S=fa,j="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(S=ha,j="onPointerLeave",h="onPointerEnter",f="pointer"),k=v==null?p:bn(v),g=x==null?p:bn(x),p=new S(j,f+"leave",v,n,m),p.target=k,p.relatedTarget=g,j=null,nn(m)===c&&(S=new S(h,f+"enter",x,n,m),S.target=g,S.relatedTarget=k,j=S),k=j,v&&x)t:{for(S=v,h=x,f=0,g=S;g;g=Sn(g))f++;for(g=0,j=h;j;j=Sn(j))g++;for(;0<f-g;)S=Sn(S),f--;for(;0<g-f;)h=Sn(h),g--;for(;f--;){if(S===h||h!==null&&S===h.alternate)break t;S=Sn(S),h=Sn(h)}S=null}else S=null;v!==null&&Ca(d,p,v,S,!1),x!==null&&k!==null&&Ca(d,k,x,S,!0)}}e:{if(p=c?bn(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var w=Jm;else if(va(p))if(bc)w=nh;else{w=eh;var E=qm}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=th);if(w&&(w=w(e,c))){_c(d,w,n,m);break e}E&&E(e,p,c),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&no(p,"number",p.value)}switch(E=c?bn(c):window,e){case"focusin":(va(E)||E.contentEditable==="true")&&(En=E,po=c,gr=null);break;case"focusout":gr=po=En=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,ja(d,n,m);break;case"selectionchange":if(sh)break;case"keydown":case"keyup":ja(d,n,m)}var C;if(pi)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Cn?Cc(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Nc&&n.locale!=="ko"&&(Cn||b!=="onCompositionStart"?b==="onCompositionEnd"&&Cn&&(C=kc()):(Mt=m,fi="value"in Mt?Mt.value:Mt.textContent,Cn=!0)),E=Rl(c,b),0<E.length&&(b=new ma(b,e,null,n,m),d.push({event:b,listeners:E}),C?b.data=C:(C=Ec(n),C!==null&&(b.data=C)))),(C=Qm?Ym(e,n):Km(e,n))&&(c=Rl(c,"onBeforeInput"),0<c.length&&(m=new ma("onBeforeInput","beforeinput",null,n,m),d.push({event:m,listeners:c}),m.data=C))}Ac(d,t)})}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=kr(e,n),s!=null&&r.unshift(Lr(e,s,l)),s=kr(e,t),s!=null&&r.push(Lr(e,s,l))),e=e.return}return r}function Sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ca(e,t,n,r,l){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,l?(u=kr(n,s),u!=null&&i.unshift(Lr(n,u,a))):l||(u=kr(n,s),u!=null&&i.push(Lr(n,u,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var uh=/\r\n?/g,ch=/\u0000|\uFFFD/g;function Ea(e){return(typeof e=="string"?e:""+e).replace(uh,`
`).replace(ch,"")}function il(e,t,n){if(t=Ea(t),Ea(e)!==t&&n)throw Error(_(425))}function zl(){}var vo=null,yo=null;function xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wo=typeof setTimeout=="function"?setTimeout:void 0,dh=typeof clearTimeout=="function"?clearTimeout:void 0,_a=typeof Promise=="function"?Promise:void 0,fh=typeof queueMicrotask=="function"?queueMicrotask:typeof _a<"u"?function(e){return _a.resolve(null).then(e).catch(mh)}:wo;function mh(e){setTimeout(function(){throw e})}function Ts(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Er(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Er(t)}function $t(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ba(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xn=Math.random().toString(36).slice(2),mt="__reactFiber$"+Xn,Dr="__reactProps$"+Xn,Et="__reactContainer$"+Xn,So="__reactEvents$"+Xn,hh="__reactListeners$"+Xn,ph="__reactHandles$"+Xn;function nn(e){var t=e[mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Et]||n[mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ba(e);e!==null;){if(n=e[mt])return n;e=ba(e)}return t}e=n,n=e.parentNode}return null}function Vr(e){return e=e[mt]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function ns(e){return e[Dr]||null}var jo=[],Pn=-1;function Zt(e){return{current:e}}function ee(e){0>Pn||(e.current=jo[Pn],jo[Pn]=null,Pn--)}function J(e,t){Pn++,jo[Pn]=e.current,e.current=t}var Yt={},Pe=Zt(Yt),Fe=Zt(!1),cn=Yt;function $n(e,t){var n=e.type.contextTypes;if(!n)return Yt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ae(e){return e=e.childContextTypes,e!=null}function Ml(){ee(Fe),ee(Pe)}function Pa(e,t,n){if(Pe.current!==Yt)throw Error(_(168));J(Pe,t),J(Fe,n)}function Uc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(_(108,qf(e)||"Unknown",l));return ie({},n,r)}function Fl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,cn=Pe.current,J(Pe,e),J(Fe,Fe.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=Uc(e,t,cn),r.__reactInternalMemoizedMergedChildContext=e,ee(Fe),ee(Pe),J(Pe,e)):ee(Fe),J(Fe,n)}var wt=null,rs=!1,Rs=!1;function Bc(e){wt===null?wt=[e]:wt.push(e)}function gh(e){rs=!0,Bc(e)}function Xt(){if(!Rs&&wt!==null){Rs=!0;var e=0,t=K;try{var n=wt;for(K=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wt=null,rs=!1}catch(l){throw wt!==null&&(wt=wt.slice(e+1)),fc(ai,Xt),l}finally{K=t,Rs=!1}}return null}var Ln=[],Dn=0,Al=null,Ol=0,Ke=[],Ze=0,dn=null,St=1,jt="";function en(e,t){Ln[Dn++]=Ol,Ln[Dn++]=Al,Al=e,Ol=t}function $c(e,t,n){Ke[Ze++]=St,Ke[Ze++]=jt,Ke[Ze++]=dn,dn=e;var r=St;e=jt;var l=32-it(r)-1;r&=~(1<<l),n+=1;var s=32-it(t)+l;if(30<s){var i=l-l%5;s=(r&(1<<i)-1).toString(32),r>>=i,l-=i,St=1<<32-it(t)+l|n<<l|r,jt=s+e}else St=1<<s|n<<l|r,jt=e}function vi(e){e.return!==null&&(en(e,1),$c(e,1,0))}function yi(e){for(;e===Al;)Al=Ln[--Dn],Ln[Dn]=null,Ol=Ln[--Dn],Ln[Dn]=null;for(;e===dn;)dn=Ke[--Ze],Ke[Ze]=null,jt=Ke[--Ze],Ke[Ze]=null,St=Ke[--Ze],Ke[Ze]=null}var We=null,$e=null,re=!1,ot=null;function Wc(e,t){var n=Xe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Da(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,$e=$t(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dn!==null?{id:St,overflow:jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,$e=null,!0):!1;default:return!1}}function ko(e){return(e.mode&1)!==0&&(e.flags&128)===0}function No(e){if(re){var t=$e;if(t){var n=t;if(!Da(e,t)){if(ko(e))throw Error(_(418));t=$t(n.nextSibling);var r=We;t&&Da(e,t)?Wc(r,n):(e.flags=e.flags&-4097|2,re=!1,We=e)}}else{if(ko(e))throw Error(_(418));e.flags=e.flags&-4097|2,re=!1,We=e}}}function Ia(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function al(e){if(e!==We)return!1;if(!re)return Ia(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xo(e.type,e.memoizedProps)),t&&(t=$e)){if(ko(e))throw Vc(),Error(_(418));for(;t;)Wc(e,t),t=$t(t.nextSibling)}if(Ia(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$e=$t(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=We?$t(e.stateNode.nextSibling):null;return!0}function Vc(){for(var e=$e;e;)e=$t(e.nextSibling)}function Wn(){$e=We=null,re=!1}function xi(e){ot===null?ot=[e]:ot.push(e)}var vh=Pt.ReactCurrentBatchConfig;function lr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=l.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function ul(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ta(e){var t=e._init;return t(e._payload)}function Hc(e){function t(h,f){if(e){var g=h.deletions;g===null?(h.deletions=[f],h.flags|=16):g.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function l(h,f){return h=Gt(h,f),h.index=0,h.sibling=null,h}function s(h,f,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<f?(h.flags|=2,f):g):(h.flags|=2,f)):(h.flags|=1048576,f)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,f,g,j){return f===null||f.tag!==6?(f=Bs(g,h.mode,j),f.return=h,f):(f=l(f,g),f.return=h,f)}function u(h,f,g,j){var w=g.type;return w===Nn?m(h,f,g.props.children,j,g.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dt&&Ta(w)===f.type)?(j=l(f,g.props),j.ref=lr(h,f,g),j.return=h,j):(j=Cl(g.type,g.key,g.props,null,h.mode,j),j.ref=lr(h,f,g),j.return=h,j)}function c(h,f,g,j){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=$s(g,h.mode,j),f.return=h,f):(f=l(f,g.children||[]),f.return=h,f)}function m(h,f,g,j,w){return f===null||f.tag!==7?(f=on(g,h.mode,j,w),f.return=h,f):(f=l(f,g),f.return=h,f)}function d(h,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Bs(""+f,h.mode,g),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Jr:return g=Cl(f.type,f.key,f.props,null,h.mode,g),g.ref=lr(h,null,f),g.return=h,g;case kn:return f=$s(f,h.mode,g),f.return=h,f;case Dt:var j=f._init;return d(h,j(f._payload),g)}if(ur(f)||qn(f))return f=on(f,h.mode,g,null),f.return=h,f;ul(h,f)}return null}function p(h,f,g,j){var w=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:a(h,f,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Jr:return g.key===w?u(h,f,g,j):null;case kn:return g.key===w?c(h,f,g,j):null;case Dt:return w=g._init,p(h,f,w(g._payload),j)}if(ur(g)||qn(g))return w!==null?null:m(h,f,g,j,null);ul(h,g)}return null}function v(h,f,g,j,w){if(typeof j=="string"&&j!==""||typeof j=="number")return h=h.get(g)||null,a(f,h,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Jr:return h=h.get(j.key===null?g:j.key)||null,u(f,h,j,w);case kn:return h=h.get(j.key===null?g:j.key)||null,c(f,h,j,w);case Dt:var E=j._init;return v(h,f,g,E(j._payload),w)}if(ur(j)||qn(j))return h=h.get(g)||null,m(f,h,j,w,null);ul(f,j)}return null}function x(h,f,g,j){for(var w=null,E=null,C=f,b=f=0,U=null;C!==null&&b<g.length;b++){C.index>b?(U=C,C=null):U=C.sibling;var z=p(h,C,g[b],j);if(z===null){C===null&&(C=U);break}e&&C&&z.alternate===null&&t(h,C),f=s(z,f,b),E===null?w=z:E.sibling=z,E=z,C=U}if(b===g.length)return n(h,C),re&&en(h,b),w;if(C===null){for(;b<g.length;b++)C=d(h,g[b],j),C!==null&&(f=s(C,f,b),E===null?w=C:E.sibling=C,E=C);return re&&en(h,b),w}for(C=r(h,C);b<g.length;b++)U=v(C,h,b,g[b],j),U!==null&&(e&&U.alternate!==null&&C.delete(U.key===null?b:U.key),f=s(U,f,b),E===null?w=U:E.sibling=U,E=U);return e&&C.forEach(function(Q){return t(h,Q)}),re&&en(h,b),w}function S(h,f,g,j){var w=qn(g);if(typeof w!="function")throw Error(_(150));if(g=w.call(g),g==null)throw Error(_(151));for(var E=w=null,C=f,b=f=0,U=null,z=g.next();C!==null&&!z.done;b++,z=g.next()){C.index>b?(U=C,C=null):U=C.sibling;var Q=p(h,C,z.value,j);if(Q===null){C===null&&(C=U);break}e&&C&&Q.alternate===null&&t(h,C),f=s(Q,f,b),E===null?w=Q:E.sibling=Q,E=Q,C=U}if(z.done)return n(h,C),re&&en(h,b),w;if(C===null){for(;!z.done;b++,z=g.next())z=d(h,z.value,j),z!==null&&(f=s(z,f,b),E===null?w=z:E.sibling=z,E=z);return re&&en(h,b),w}for(C=r(h,C);!z.done;b++,z=g.next())z=v(C,h,b,z.value,j),z!==null&&(e&&z.alternate!==null&&C.delete(z.key===null?b:z.key),f=s(z,f,b),E===null?w=z:E.sibling=z,E=z);return e&&C.forEach(function(H){return t(h,H)}),re&&en(h,b),w}function k(h,f,g,j){if(typeof g=="object"&&g!==null&&g.type===Nn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Jr:e:{for(var w=g.key,E=f;E!==null;){if(E.key===w){if(w=g.type,w===Nn){if(E.tag===7){n(h,E.sibling),f=l(E,g.props.children),f.return=h,h=f;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dt&&Ta(w)===E.type){n(h,E.sibling),f=l(E,g.props),f.ref=lr(h,E,g),f.return=h,h=f;break e}n(h,E);break}else t(h,E);E=E.sibling}g.type===Nn?(f=on(g.props.children,h.mode,j,g.key),f.return=h,h=f):(j=Cl(g.type,g.key,g.props,null,h.mode,j),j.ref=lr(h,f,g),j.return=h,h=j)}return i(h);case kn:e:{for(E=g.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(h,f.sibling),f=l(f,g.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=$s(g,h.mode,j),f.return=h,h=f}return i(h);case Dt:return E=g._init,k(h,f,E(g._payload),j)}if(ur(g))return x(h,f,g,j);if(qn(g))return S(h,f,g,j);ul(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(h,f.sibling),f=l(f,g),f.return=h,h=f):(n(h,f),f=Bs(g,h.mode,j),f.return=h,h=f),i(h)):n(h,f)}return k}var Vn=Hc(!0),Gc=Hc(!1),Ul=Zt(null),Bl=null,In=null,wi=null;function Si(){wi=In=Bl=null}function ji(e){var t=Ul.current;ee(Ul),e._currentValue=t}function Co(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function On(e,t){Bl=e,wi=In=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(wi!==e)if(e={context:e,memoizedValue:t,next:null},In===null){if(Bl===null)throw Error(_(308));In=e,Bl.dependencies={lanes:0,firstContext:e}}else In=In.next=e;return t}var rn=null;function ki(e){rn===null?rn=[e]:rn.push(e)}function Qc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ki(t)):(n.next=l.next,l.next=n),t.interleaved=n,_t(e,r)}function _t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var It=!1;function Ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,_t(e,n)}return l=r.interleaved,l===null?(t.next=t,ki(r)):(t.next=l.next,l.next=t),r.interleaved=t,_t(e,n)}function xl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ui(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $l(e,t,n,r){var l=e.updateQueue;It=!1;var s=l.firstBaseUpdate,i=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,c=u.next;u.next=null,i===null?s=c:i.next=c,i=u;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==i&&(a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=u))}if(s!==null){var d=l.baseState;i=0,m=c=u=null,a=s;do{var p=a.lane,v=a.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,S=a;switch(p=t,v=n,S.tag){case 1:if(x=S.payload,typeof x=="function"){d=x.call(v,d,p);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,p=typeof x=="function"?x.call(v,d,p):x,p==null)break e;d=ie({},d,p);break e;case 2:It=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=l.effects,p===null?l.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(c=m=v,u=d):m=m.next=v,i|=p;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;p=a,a=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);if(m===null&&(u=d),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);mn|=i,e.lanes=i,e.memoizedState=d}}function za(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(_(191,l));l.call(r)}}}var Hr={},gt=Zt(Hr),Ir=Zt(Hr),Tr=Zt(Hr);function ln(e){if(e===Hr)throw Error(_(174));return e}function Ci(e,t){switch(J(Tr,t),J(Ir,e),J(gt,Hr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lo(t,e)}ee(gt),J(gt,t)}function Hn(){ee(gt),ee(Ir),ee(Tr)}function Kc(e){ln(Tr.current);var t=ln(gt.current),n=lo(t,e.type);t!==n&&(J(Ir,e),J(gt,n))}function Ei(e){Ir.current===e&&(ee(gt),ee(Ir))}var le=Zt(0);function Wl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zs=[];function _i(){for(var e=0;e<zs.length;e++)zs[e]._workInProgressVersionPrimary=null;zs.length=0}var wl=Pt.ReactCurrentDispatcher,Ms=Pt.ReactCurrentBatchConfig,fn=0,oe=null,pe=null,ye=null,Vl=!1,vr=!1,Rr=0,yh=0;function Ee(){throw Error(_(321))}function bi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ut(e[n],t[n]))return!1;return!0}function Pi(e,t,n,r,l,s){if(fn=s,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wl.current=e===null||e.memoizedState===null?jh:kh,e=n(r,l),vr){s=0;do{if(vr=!1,Rr=0,25<=s)throw Error(_(301));s+=1,ye=pe=null,t.updateQueue=null,wl.current=Nh,e=n(r,l)}while(vr)}if(wl.current=Hl,t=pe!==null&&pe.next!==null,fn=0,ye=pe=oe=null,Vl=!1,t)throw Error(_(300));return e}function Li(){var e=Rr!==0;return Rr=0,e}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?oe.memoizedState=ye=e:ye=ye.next=e,ye}function et(){if(pe===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ye===null?oe.memoizedState:ye.next;if(t!==null)ye=t,pe=e;else{if(e===null)throw Error(_(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ye===null?oe.memoizedState=ye=e:ye=ye.next=e}return ye}function zr(e,t){return typeof t=="function"?t(e):t}function Fs(e){var t=et(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=pe,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var i=l.next;l.next=s.next,s.next=i}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var a=i=null,u=null,c=s;do{var m=c.lane;if((fn&m)===m)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,i=r):u=u.next=d,oe.lanes|=m,mn|=m}c=c.next}while(c!==null&&c!==s);u===null?i=r:u.next=a,ut(r,t.memoizedState)||(Me=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,oe.lanes|=s,mn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function As(e){var t=et(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do s=e(s,i.action),i=i.next;while(i!==l);ut(s,t.memoizedState)||(Me=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Zc(){}function Xc(e,t){var n=oe,r=et(),l=t(),s=!ut(r.memoizedState,l);if(s&&(r.memoizedState=l,Me=!0),r=r.queue,Di(ed.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,Mr(9,qc.bind(null,n,r,l,t),void 0,null),xe===null)throw Error(_(349));fn&30||Jc(n,t,l)}return l}function Jc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qc(e,t,n,r){t.value=n,t.getSnapshot=r,td(t)&&nd(e)}function ed(e,t,n){return n(function(){td(t)&&nd(e)})}function td(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ut(e,n)}catch{return!0}}function nd(e){var t=_t(e,1);t!==null&&at(t,e,1,-1)}function Ma(e){var t=ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=Sh.bind(null,oe,e),[t.memoizedState,e]}function Mr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function rd(){return et().memoizedState}function Sl(e,t,n,r){var l=ft();oe.flags|=e,l.memoizedState=Mr(1|t,n,void 0,r===void 0?null:r)}function ls(e,t,n,r){var l=et();r=r===void 0?null:r;var s=void 0;if(pe!==null){var i=pe.memoizedState;if(s=i.destroy,r!==null&&bi(r,i.deps)){l.memoizedState=Mr(t,n,s,r);return}}oe.flags|=e,l.memoizedState=Mr(1|t,n,s,r)}function Fa(e,t){return Sl(8390656,8,e,t)}function Di(e,t){return ls(2048,8,e,t)}function ld(e,t){return ls(4,2,e,t)}function sd(e,t){return ls(4,4,e,t)}function od(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function id(e,t,n){return n=n!=null?n.concat([e]):null,ls(4,4,od.bind(null,t,e),n)}function Ii(){}function ad(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ud(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function cd(e,t,n){return fn&21?(ut(n,t)||(n=pc(),oe.lanes|=n,mn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=n)}function xh(e,t){var n=K;K=n!==0&&4>n?n:4,e(!0);var r=Ms.transition;Ms.transition={};try{e(!1),t()}finally{K=n,Ms.transition=r}}function dd(){return et().memoizedState}function wh(e,t,n){var r=Ht(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fd(e))md(t,n);else if(n=Qc(e,t,n,r),n!==null){var l=Ie();at(n,e,r,l),hd(n,t,r)}}function Sh(e,t,n){var r=Ht(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fd(e))md(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(l.hasEagerState=!0,l.eagerState=a,ut(a,i)){var u=t.interleaved;u===null?(l.next=l,ki(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=Qc(e,t,l,r),n!==null&&(l=Ie(),at(n,e,r,l),hd(n,t,r))}}function fd(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function md(e,t){vr=Vl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ui(e,n)}}var Hl={readContext:qe,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},jh={readContext:qe,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:Fa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Sl(4194308,4,od.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sl(4,2,e,t)},useMemo:function(e,t){var n=ft();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ft();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wh.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:Ma,useDebugValue:Ii,useDeferredValue:function(e){return ft().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=xh.bind(null,e[1]),ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,l=ft();if(re){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),xe===null)throw Error(_(349));fn&30||Jc(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Fa(ed.bind(null,r,s,e),[e]),r.flags|=2048,Mr(9,qc.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ft(),t=xe.identifierPrefix;if(re){var n=jt,r=St;n=(r&~(1<<32-it(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kh={readContext:qe,useCallback:ad,useContext:qe,useEffect:Di,useImperativeHandle:id,useInsertionEffect:ld,useLayoutEffect:sd,useMemo:ud,useReducer:Fs,useRef:rd,useState:function(){return Fs(zr)},useDebugValue:Ii,useDeferredValue:function(e){var t=et();return cd(t,pe.memoizedState,e)},useTransition:function(){var e=Fs(zr)[0],t=et().memoizedState;return[e,t]},useMutableSource:Zc,useSyncExternalStore:Xc,useId:dd,unstable_isNewReconciler:!1},Nh={readContext:qe,useCallback:ad,useContext:qe,useEffect:Di,useImperativeHandle:id,useInsertionEffect:ld,useLayoutEffect:sd,useMemo:ud,useReducer:As,useRef:rd,useState:function(){return As(zr)},useDebugValue:Ii,useDeferredValue:function(e){var t=et();return pe===null?t.memoizedState=e:cd(t,pe.memoizedState,e)},useTransition:function(){var e=As(zr)[0],t=et().memoizedState;return[e,t]},useMutableSource:Zc,useSyncExternalStore:Xc,useId:dd,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Eo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ss={isMounted:function(e){return(e=e._reactInternals)?yn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),l=Ht(e),s=kt(r,l);s.payload=t,n!=null&&(s.callback=n),t=Wt(e,s,l),t!==null&&(at(t,e,l,r),xl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),l=Ht(e),s=kt(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Wt(e,s,l),t!==null&&(at(t,e,l,r),xl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=Ht(e),l=kt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Wt(e,l,r),t!==null&&(at(t,e,r,n),xl(t,e,r))}};function Aa(e,t,n,r,l,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!br(n,r)||!br(l,s):!0}function pd(e,t,n){var r=!1,l=Yt,s=t.contextType;return typeof s=="object"&&s!==null?s=qe(s):(l=Ae(t)?cn:Pe.current,r=t.contextTypes,s=(r=r!=null)?$n(e,l):Yt),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ss,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function Oa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ss.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ni(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=qe(s):(s=Ae(t)?cn:Pe.current,l.context=$n(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Eo(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ss.enqueueReplaceState(l,l.state,null),$l(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Gn(e,t){try{var n="",r=t;do n+=Jf(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function Os(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ch=typeof WeakMap=="function"?WeakMap:Map;function gd(e,t,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,Ao=r),bo(e,t)},n}function vd(e,t,n){n=kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){bo(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bo(e,t),typeof r!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ua(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ch;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Oh.bind(null,e,t,n),t.then(e,e))}function Ba(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $a(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kt(-1,1),t.tag=2,Wt(n,t,1))),n.lanes|=1),e)}var Eh=Pt.ReactCurrentOwner,Me=!1;function De(e,t,n,r){t.child=e===null?Gc(t,null,n,r):Vn(t,e.child,n,r)}function Wa(e,t,n,r,l){n=n.render;var s=t.ref;return On(t,l),r=Pi(e,t,n,r,s,l),n=Li(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,bt(e,t,l)):(re&&n&&vi(t),t.flags|=1,De(e,t,r,l),t.child)}function Va(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!Ui(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,yd(e,t,s,r,l)):(e=Cl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:br,n(i,r)&&e.ref===t.ref)return bt(e,t,l)}return t.flags|=1,e=Gt(s,r),e.ref=t.ref,e.return=t,t.child=e}function yd(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(br(s,r)&&e.ref===t.ref)if(Me=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,bt(e,t,l)}return Po(e,t,n,r,l)}function xd(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Rn,Be),Be|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(Rn,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,J(Rn,Be),Be|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,J(Rn,Be),Be|=r;return De(e,t,l,n),t.child}function wd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Po(e,t,n,r,l){var s=Ae(n)?cn:Pe.current;return s=$n(t,s),On(t,l),n=Pi(e,t,n,r,s,l),r=Li(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,bt(e,t,l)):(re&&r&&vi(t),t.flags|=1,De(e,t,n,l),t.child)}function Ha(e,t,n,r,l){if(Ae(n)){var s=!0;Fl(t)}else s=!1;if(On(t,l),t.stateNode===null)jl(e,t),pd(t,n,r),_o(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=qe(c):(c=Ae(n)?cn:Pe.current,c=$n(t,c));var m=n.getDerivedStateFromProps,d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Oa(t,i,r,c),It=!1;var p=t.memoizedState;i.state=p,$l(t,r,i,l),u=t.memoizedState,a!==r||p!==u||Fe.current||It?(typeof m=="function"&&(Eo(t,n,m,r),u=t.memoizedState),(a=It||Aa(t,n,a,r,p,u,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Yc(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:rt(t.type,a),i.props=c,d=t.pendingProps,p=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=qe(u):(u=Ae(n)?cn:Pe.current,u=$n(t,u));var v=n.getDerivedStateFromProps;(m=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||p!==u)&&Oa(t,i,r,u),It=!1,p=t.memoizedState,i.state=p,$l(t,r,i,l);var x=t.memoizedState;a!==d||p!==x||Fe.current||It?(typeof v=="function"&&(Eo(t,n,v,r),x=t.memoizedState),(c=It||Aa(t,n,c,r,p,x,u)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),i.props=r,i.state=x,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Lo(e,t,n,r,s,l)}function Lo(e,t,n,r,l,s){wd(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&La(t,n,!1),bt(e,t,s);r=t.stateNode,Eh.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Vn(t,e.child,null,s),t.child=Vn(t,null,a,s)):De(e,t,a,s),t.memoizedState=r.state,l&&La(t,n,!0),t.child}function Sd(e){var t=e.stateNode;t.pendingContext?Pa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pa(e,t.context,!1),Ci(e,t.containerInfo)}function Ga(e,t,n,r,l){return Wn(),xi(l),t.flags|=256,De(e,t,n,r),t.child}var Do={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function jd(e,t,n){var r=t.pendingProps,l=le.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),J(le,l&1),e===null)return No(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=as(i,r,0,null),e=on(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Io(n),t.memoizedState=Do,e):Ti(t,i));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return _h(e,t,i,r,a,l,n);if(s){s=r.fallback,i=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Gt(l,u),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?s=Gt(a,s):(s=on(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Io(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Do,r}return s=e.child,e=s.sibling,r=Gt(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ti(e,t){return t=as({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cl(e,t,n,r){return r!==null&&xi(r),Vn(t,e.child,null,n),e=Ti(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _h(e,t,n,r,l,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Os(Error(_(422))),cl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=as({mode:"visible",children:r.children},l,0,null),s=on(s,l,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Vn(t,e.child,null,i),t.child.memoizedState=Io(i),t.memoizedState=Do,s);if(!(t.mode&1))return cl(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(_(419)),r=Os(s,r,void 0),cl(e,t,i,r)}if(a=(i&e.childLanes)!==0,Me||a){if(r=xe,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,_t(e,l),at(r,e,l,-1))}return Oi(),r=Os(Error(_(421))),cl(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Uh.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,$e=$t(l.nextSibling),We=t,re=!0,ot=null,e!==null&&(Ke[Ze++]=St,Ke[Ze++]=jt,Ke[Ze++]=dn,St=e.id,jt=e.overflow,dn=t),t=Ti(t,r.children),t.flags|=4096,t)}function Qa(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Co(e.return,t,n)}function Us(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function kd(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(De(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qa(e,n,t);else if(e.tag===19)Qa(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(J(le,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Wl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Us(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Wl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Us(t,!0,n,null,s);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Gt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bh(e,t,n){switch(t.tag){case 3:Sd(t),Wn();break;case 5:Kc(t);break;case 1:Ae(t.type)&&Fl(t);break;case 4:Ci(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;J(Ul,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(J(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?jd(e,t,n):(J(le,le.current&1),e=bt(e,t,n),e!==null?e.sibling:null);J(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),J(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,xd(e,t,n)}return bt(e,t,n)}var Nd,To,Cd,Ed;Nd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};To=function(){};Cd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,ln(gt.current);var s=null;switch(n){case"input":l=eo(e,l),r=eo(e,r),s=[];break;case"select":l=ie({},l,{value:void 0}),r=ie({},r,{value:void 0}),s=[];break;case"textarea":l=ro(e,l),r=ro(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zl)}so(n,r);var i;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var a=l[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sr.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&q("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Ed=function(e,t,n,r){n!==r&&(t.flags|=4)};function sr(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ph(e,t,n){var r=t.pendingProps;switch(yi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Ae(t.type)&&Ml(),_e(t),null;case 3:return r=t.stateNode,Hn(),ee(Fe),ee(Pe),_i(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(al(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(Bo(ot),ot=null))),To(e,t),_e(t),null;case 5:Ei(t);var l=ln(Tr.current);if(n=t.type,e!==null&&t.stateNode!=null)Cd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return _e(t),null}if(e=ln(gt.current),al(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[mt]=t,r[Dr]=s,e=(t.mode&1)!==0,n){case"dialog":q("cancel",r),q("close",r);break;case"iframe":case"object":case"embed":q("load",r);break;case"video":case"audio":for(l=0;l<dr.length;l++)q(dr[l],r);break;case"source":q("error",r);break;case"img":case"image":case"link":q("error",r),q("load",r);break;case"details":q("toggle",r);break;case"input":na(r,s),q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},q("invalid",r);break;case"textarea":la(r,s),q("invalid",r)}so(n,s),l=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&il(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&il(r.textContent,a,e),l=["children",""+a]):Sr.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&q("scroll",r)}switch(n){case"input":qr(r),ra(r,s,!0);break;case"textarea":qr(r),sa(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ec(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[mt]=t,e[Dr]=r,Nd(e,t,!1,!1),t.stateNode=e;e:{switch(i=oo(n,r),n){case"dialog":q("cancel",e),q("close",e),l=r;break;case"iframe":case"object":case"embed":q("load",e),l=r;break;case"video":case"audio":for(l=0;l<dr.length;l++)q(dr[l],e);l=r;break;case"source":q("error",e),l=r;break;case"img":case"image":case"link":q("error",e),q("load",e),l=r;break;case"details":q("toggle",e),l=r;break;case"input":na(e,r),l=eo(e,r),q("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ie({},r,{value:void 0}),q("invalid",e);break;case"textarea":la(e,r),l=ro(e,r),q("invalid",e);break;default:l=r}so(n,l),a=l;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?rc(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&tc(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&jr(e,u):typeof u=="number"&&jr(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sr.hasOwnProperty(s)?u!=null&&s==="onScroll"&&q("scroll",e):u!=null&&ri(e,s,u,i))}switch(n){case"input":qr(e),ra(e,r,!1);break;case"textarea":qr(e),sa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qt(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?zn(e,!!r.multiple,s,!1):r.defaultValue!=null&&zn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)Ed(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=ln(Tr.current),ln(gt.current),al(t)){if(r=t.stateNode,n=t.memoizedProps,r[mt]=t,(s=r.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:il(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&il(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mt]=t,t.stateNode=r}return _e(t),null;case 13:if(ee(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&$e!==null&&t.mode&1&&!(t.flags&128))Vc(),Wn(),t.flags|=98560,s=!1;else if(s=al(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(_(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_(317));s[mt]=t}else Wn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),s=!1}else ot!==null&&(Bo(ot),ot=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?ge===0&&(ge=3):Oi())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return Hn(),To(e,t),e===null&&Pr(t.stateNode.containerInfo),_e(t),null;case 10:return ji(t.type._context),_e(t),null;case 17:return Ae(t.type)&&Ml(),_e(t),null;case 19:if(ee(le),s=t.memoizedState,s===null)return _e(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)sr(s,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Wl(e),i!==null){for(t.flags|=128,sr(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return J(le,le.current&1|2),t.child}e=e.sibling}s.tail!==null&&ce()>Qn&&(t.flags|=128,r=!0,sr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Wl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!re)return _e(t),null}else 2*ce()-s.renderingStartTime>Qn&&n!==1073741824&&(t.flags|=128,r=!0,sr(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ce(),t.sibling=null,n=le.current,J(le,r?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return Ai(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Be&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function Lh(e,t){switch(yi(t),t.tag){case 1:return Ae(t.type)&&Ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(),ee(Fe),ee(Pe),_i(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ei(t),null;case 13:if(ee(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(le),null;case 4:return Hn(),null;case 10:return ji(t.type._context),null;case 22:case 23:return Ai(),null;case 24:return null;default:return null}}var dl=!1,be=!1,Dh=typeof WeakSet=="function"?WeakSet:Set,L=null;function Tn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function Ro(e,t,n){try{n()}catch(r){ae(e,t,r)}}var Ya=!1;function Ih(e,t){if(vo=Il,e=Dc(),gi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,c=0,m=0,d=e,p=null;t:for(;;){for(var v;d!==n||l!==0&&d.nodeType!==3||(a=i+l),d!==s||r!==0&&d.nodeType!==3||(u=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(v=d.firstChild)!==null;)p=d,d=v;for(;;){if(d===e)break t;if(p===n&&++c===l&&(a=i),p===s&&++m===r&&(u=i),(v=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(yo={focusedElem:e,selectionRange:n},Il=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,k=x.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?S:rt(t.type,S),k);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(j){ae(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return x=Ya,Ya=!1,x}function yr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&Ro(t,n,s)}l=l.next}while(l!==r)}}function os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _d(e){var t=e.alternate;t!==null&&(e.alternate=null,_d(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mt],delete t[Dr],delete t[So],delete t[hh],delete t[ph])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bd(e){return e.tag===5||e.tag===3||e.tag===4}function Ka(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zl));else if(r!==4&&(e=e.child,e!==null))for(Mo(e,t,n),e=e.sibling;e!==null;)Mo(e,t,n),e=e.sibling}function Fo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fo(e,t,n),e=e.sibling;e!==null;)Fo(e,t,n),e=e.sibling}var je=null,st=!1;function Lt(e,t,n){for(n=n.child;n!==null;)Pd(e,t,n),n=n.sibling}function Pd(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Jl,n)}catch{}switch(n.tag){case 5:be||Tn(n,t);case 6:var r=je,l=st;je=null,Lt(e,t,n),je=r,st=l,je!==null&&(st?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(st?(e=je,n=n.stateNode,e.nodeType===8?Ts(e.parentNode,n):e.nodeType===1&&Ts(e,n),Er(e)):Ts(je,n.stateNode));break;case 4:r=je,l=st,je=n.stateNode.containerInfo,st=!0,Lt(e,t,n),je=r,st=l;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Ro(n,t,i),l=l.next}while(l!==r)}Lt(e,t,n);break;case 1:if(!be&&(Tn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ae(n,t,a)}Lt(e,t,n);break;case 21:Lt(e,t,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,Lt(e,t,n),be=r):Lt(e,t,n);break;default:Lt(e,t,n)}}function Za(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dh),t.forEach(function(r){var l=Bh.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,st=!1;break e;case 3:je=a.stateNode.containerInfo,st=!0;break e;case 4:je=a.stateNode.containerInfo,st=!0;break e}a=a.return}if(je===null)throw Error(_(160));Pd(s,i,l),je=null,st=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){ae(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ld(t,e),t=t.sibling}function Ld(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nt(t,e),dt(e),r&4){try{yr(3,e,e.return),os(3,e)}catch(S){ae(e,e.return,S)}try{yr(5,e,e.return)}catch(S){ae(e,e.return,S)}}break;case 1:nt(t,e),dt(e),r&512&&n!==null&&Tn(n,n.return);break;case 5:if(nt(t,e),dt(e),r&512&&n!==null&&Tn(n,n.return),e.flags&32){var l=e.stateNode;try{jr(l,"")}catch(S){ae(e,e.return,S)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ju(l,s),oo(a,i);var c=oo(a,s);for(i=0;i<u.length;i+=2){var m=u[i],d=u[i+1];m==="style"?rc(l,d):m==="dangerouslySetInnerHTML"?tc(l,d):m==="children"?jr(l,d):ri(l,m,d,c)}switch(a){case"input":to(l,s);break;case"textarea":qu(l,s);break;case"select":var p=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?zn(l,!!s.multiple,v,!1):p!==!!s.multiple&&(s.defaultValue!=null?zn(l,!!s.multiple,s.defaultValue,!0):zn(l,!!s.multiple,s.multiple?[]:"",!1))}l[Dr]=s}catch(S){ae(e,e.return,S)}}break;case 6:if(nt(t,e),dt(e),r&4){if(e.stateNode===null)throw Error(_(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(S){ae(e,e.return,S)}}break;case 3:if(nt(t,e),dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Er(t.containerInfo)}catch(S){ae(e,e.return,S)}break;case 4:nt(t,e),dt(e);break;case 13:nt(t,e),dt(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Mi=ce())),r&4&&Za(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(be=(c=be)||m,nt(t,e),be=c):nt(t,e),dt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for(L=e,m=e.child;m!==null;){for(d=L=m;L!==null;){switch(p=L,v=p.child,p.tag){case 0:case 11:case 14:case 15:yr(4,p,p.return);break;case 1:Tn(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(S){ae(r,n,S)}}break;case 5:Tn(p,p.return);break;case 22:if(p.memoizedState!==null){Ja(d);continue}}v!==null?(v.return=p,L=v):Ja(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{l=d.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=nc("display",i))}catch(S){ae(e,e.return,S)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(S){ae(e,e.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nt(t,e),dt(e),r&4&&Za(e);break;case 21:break;default:nt(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bd(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(jr(l,""),r.flags&=-33);var s=Ka(e);Fo(e,s,l);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Ka(e);Mo(e,a,i);break;default:throw Error(_(161))}}catch(u){ae(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Th(e,t,n){L=e,Dd(e)}function Dd(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var l=L,s=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||dl;if(!i){var a=l.alternate,u=a!==null&&a.memoizedState!==null||be;a=dl;var c=be;if(dl=i,(be=u)&&!c)for(L=l;L!==null;)i=L,u=i.child,i.tag===22&&i.memoizedState!==null?qa(l):u!==null?(u.return=i,L=u):qa(l);for(;s!==null;)L=s,Dd(s),s=s.sibling;L=l,dl=a,be=c}Xa(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,L=s):Xa(e)}}function Xa(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||os(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!be)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:rt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&za(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}za(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&Er(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}be||t.flags&512&&zo(t)}catch(p){ae(t,t.return,p)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Ja(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function qa(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{os(4,t)}catch(u){ae(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){ae(t,l,u)}}var s=t.return;try{zo(t)}catch(u){ae(t,s,u)}break;case 5:var i=t.return;try{zo(t)}catch(u){ae(t,i,u)}}}catch(u){ae(t,t.return,u)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var Rh=Math.ceil,Gl=Pt.ReactCurrentDispatcher,Ri=Pt.ReactCurrentOwner,Je=Pt.ReactCurrentBatchConfig,G=0,xe=null,de=null,ke=0,Be=0,Rn=Zt(0),ge=0,Fr=null,mn=0,is=0,zi=0,xr=null,ze=null,Mi=0,Qn=1/0,xt=null,Ql=!1,Ao=null,Vt=null,fl=!1,Ft=null,Yl=0,wr=0,Oo=null,kl=-1,Nl=0;function Ie(){return G&6?ce():kl!==-1?kl:kl=ce()}function Ht(e){return e.mode&1?G&2&&ke!==0?ke&-ke:vh.transition!==null?(Nl===0&&(Nl=pc()),Nl):(e=K,e!==0||(e=window.event,e=e===void 0?16:jc(e.type)),e):1}function at(e,t,n,r){if(50<wr)throw wr=0,Oo=null,Error(_(185));$r(e,n,r),(!(G&2)||e!==xe)&&(e===xe&&(!(G&2)&&(is|=n),ge===4&&Rt(e,ke)),Oe(e,r),n===1&&G===0&&!(t.mode&1)&&(Qn=ce()+500,rs&&Xt()))}function Oe(e,t){var n=e.callbackNode;vm(e,t);var r=Dl(e,e===xe?ke:0);if(r===0)n!==null&&aa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&aa(n),t===1)e.tag===0?gh(eu.bind(null,e)):Bc(eu.bind(null,e)),fh(function(){!(G&6)&&Xt()}),n=null;else{switch(gc(r)){case 1:n=ai;break;case 4:n=mc;break;case 16:n=Ll;break;case 536870912:n=hc;break;default:n=Ll}n=Od(n,Id.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Id(e,t){if(kl=-1,Nl=0,G&6)throw Error(_(327));var n=e.callbackNode;if(Un()&&e.callbackNode!==n)return null;var r=Dl(e,e===xe?ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kl(e,r);else{t=r;var l=G;G|=2;var s=Rd();(xe!==e||ke!==t)&&(xt=null,Qn=ce()+500,sn(e,t));do try{Fh();break}catch(a){Td(e,a)}while(!0);Si(),Gl.current=s,G=l,de!==null?t=0:(xe=null,ke=0,t=ge)}if(t!==0){if(t===2&&(l=fo(e),l!==0&&(r=l,t=Uo(e,l))),t===1)throw n=Fr,sn(e,0),Rt(e,r),Oe(e,ce()),n;if(t===6)Rt(e,r);else{if(l=e.current.alternate,!(r&30)&&!zh(l)&&(t=Kl(e,r),t===2&&(s=fo(e),s!==0&&(r=s,t=Uo(e,s))),t===1))throw n=Fr,sn(e,0),Rt(e,r),Oe(e,ce()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:tn(e,ze,xt);break;case 3:if(Rt(e,r),(r&130023424)===r&&(t=Mi+500-ce(),10<t)){if(Dl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=wo(tn.bind(null,e,ze,xt),t);break}tn(e,ze,xt);break;case 4:if(Rt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-it(r);s=1<<i,i=t[i],i>l&&(l=i),r&=~s}if(r=l,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rh(r/1960))-r,10<r){e.timeoutHandle=wo(tn.bind(null,e,ze,xt),r);break}tn(e,ze,xt);break;case 5:tn(e,ze,xt);break;default:throw Error(_(329))}}}return Oe(e,ce()),e.callbackNode===n?Id.bind(null,e):null}function Uo(e,t){var n=xr;return e.current.memoizedState.isDehydrated&&(sn(e,t).flags|=256),e=Kl(e,t),e!==2&&(t=ze,ze=n,t!==null&&Bo(t)),e}function Bo(e){ze===null?ze=e:ze.push.apply(ze,e)}function zh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!ut(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rt(e,t){for(t&=~zi,t&=~is,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function eu(e){if(G&6)throw Error(_(327));Un();var t=Dl(e,0);if(!(t&1))return Oe(e,ce()),null;var n=Kl(e,t);if(e.tag!==0&&n===2){var r=fo(e);r!==0&&(t=r,n=Uo(e,r))}if(n===1)throw n=Fr,sn(e,0),Rt(e,t),Oe(e,ce()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tn(e,ze,xt),Oe(e,ce()),null}function Fi(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(Qn=ce()+500,rs&&Xt())}}function hn(e){Ft!==null&&Ft.tag===0&&!(G&6)&&Un();var t=G;G|=1;var n=Je.transition,r=K;try{if(Je.transition=null,K=1,e)return e()}finally{K=r,Je.transition=n,G=t,!(G&6)&&Xt()}}function Ai(){Be=Rn.current,ee(Rn)}function sn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dh(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(yi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ml();break;case 3:Hn(),ee(Fe),ee(Pe),_i();break;case 5:Ei(r);break;case 4:Hn();break;case 13:ee(le);break;case 19:ee(le);break;case 10:ji(r.type._context);break;case 22:case 23:Ai()}n=n.return}if(xe=e,de=e=Gt(e.current,null),ke=Be=t,ge=0,Fr=null,zi=is=mn=0,ze=xr=null,rn!==null){for(t=0;t<rn.length;t++)if(n=rn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=l,r.next=i}n.pending=r}rn=null}return e}function Td(e,t){do{var n=de;try{if(Si(),wl.current=Hl,Vl){for(var r=oe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Vl=!1}if(fn=0,ye=pe=oe=null,vr=!1,Rr=0,Ri.current=null,n===null||n.return===null){ge=1,Fr=t,de=null;break}e:{var s=e,i=n.return,a=n,u=t;if(t=ke,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,m=a,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var v=Ba(i);if(v!==null){v.flags&=-257,$a(v,i,a,s,t),v.mode&1&&Ua(s,c,t),t=v,u=c;var x=t.updateQueue;if(x===null){var S=new Set;S.add(u),t.updateQueue=S}else x.add(u);break e}else{if(!(t&1)){Ua(s,c,t),Oi();break e}u=Error(_(426))}}else if(re&&a.mode&1){var k=Ba(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),$a(k,i,a,s,t),xi(Gn(u,a));break e}}s=u=Gn(u,a),ge!==4&&(ge=2),xr===null?xr=[s]:xr.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=gd(s,u,t);Ra(s,h);break e;case 1:a=u;var f=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Vt===null||!Vt.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=vd(s,a,t);Ra(s,j);break e}}s=s.return}while(s!==null)}Md(n)}catch(w){t=w,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Rd(){var e=Gl.current;return Gl.current=Hl,e===null?Hl:e}function Oi(){(ge===0||ge===3||ge===2)&&(ge=4),xe===null||!(mn&268435455)&&!(is&268435455)||Rt(xe,ke)}function Kl(e,t){var n=G;G|=2;var r=Rd();(xe!==e||ke!==t)&&(xt=null,sn(e,t));do try{Mh();break}catch(l){Td(e,l)}while(!0);if(Si(),G=n,Gl.current=r,de!==null)throw Error(_(261));return xe=null,ke=0,ge}function Mh(){for(;de!==null;)zd(de)}function Fh(){for(;de!==null&&!am();)zd(de)}function zd(e){var t=Ad(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Md(e):de=t,Ri.current=null}function Md(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lh(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,de=null;return}}else if(n=Ph(n,t,Be),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);ge===0&&(ge=5)}function tn(e,t,n){var r=K,l=Je.transition;try{Je.transition=null,K=1,Ah(e,t,n,r)}finally{Je.transition=l,K=r}return null}function Ah(e,t,n,r){do Un();while(Ft!==null);if(G&6)throw Error(_(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(ym(e,s),e===xe&&(de=xe=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fl||(fl=!0,Od(Ll,function(){return Un(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Je.transition,Je.transition=null;var i=K;K=1;var a=G;G|=4,Ri.current=null,Ih(e,n),Ld(n,e),lh(yo),Il=!!vo,yo=vo=null,e.current=n,Th(n),um(),G=a,K=i,Je.transition=s}else e.current=n;if(fl&&(fl=!1,Ft=e,Yl=l),s=e.pendingLanes,s===0&&(Vt=null),fm(n.stateNode),Oe(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Ql)throw Ql=!1,e=Ao,Ao=null,e;return Yl&1&&e.tag!==0&&Un(),s=e.pendingLanes,s&1?e===Oo?wr++:(wr=0,Oo=e):wr=0,Xt(),null}function Un(){if(Ft!==null){var e=gc(Yl),t=Je.transition,n=K;try{if(Je.transition=null,K=16>e?16:e,Ft===null)var r=!1;else{if(e=Ft,Ft=null,Yl=0,G&6)throw Error(_(331));var l=G;for(G|=4,L=e.current;L!==null;){var s=L,i=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(L=c;L!==null;){var m=L;switch(m.tag){case 0:case 11:case 15:yr(8,m,s)}var d=m.child;if(d!==null)d.return=m,L=d;else for(;L!==null;){m=L;var p=m.sibling,v=m.return;if(_d(m),m===c){L=null;break}if(p!==null){p.return=v,L=p;break}L=v}}}var x=s.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}L=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,L=i;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yr(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,L=h;break e}L=s.return}}var f=e.current;for(L=f;L!==null;){i=L;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,L=g;else e:for(i=f;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:os(9,a)}}catch(w){ae(a,a.return,w)}if(a===i){L=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,L=j;break e}L=a.return}}if(G=l,Xt(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Jl,e)}catch{}r=!0}return r}finally{K=n,Je.transition=t}}return!1}function tu(e,t,n){t=Gn(n,t),t=gd(e,t,1),e=Wt(e,t,1),t=Ie(),e!==null&&($r(e,1,t),Oe(e,t))}function ae(e,t,n){if(e.tag===3)tu(e,e,n);else for(;t!==null;){if(t.tag===3){tu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vt===null||!Vt.has(r))){e=Gn(n,e),e=vd(t,e,1),t=Wt(t,e,1),e=Ie(),t!==null&&($r(t,1,e),Oe(t,e));break}}t=t.return}}function Oh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,xe===e&&(ke&n)===n&&(ge===4||ge===3&&(ke&130023424)===ke&&500>ce()-Mi?sn(e,0):zi|=n),Oe(e,t)}function Fd(e,t){t===0&&(e.mode&1?(t=nl,nl<<=1,!(nl&130023424)&&(nl=4194304)):t=1);var n=Ie();e=_t(e,t),e!==null&&($r(e,t,n),Oe(e,n))}function Uh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fd(e,n)}function Bh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),Fd(e,n)}var Ad;Ad=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)Me=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Me=!1,bh(e,t,n);Me=!!(e.flags&131072)}else Me=!1,re&&t.flags&1048576&&$c(t,Ol,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;jl(e,t),e=t.pendingProps;var l=$n(t,Pe.current);On(t,n),l=Pi(null,t,r,e,l,n);var s=Li();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(r)?(s=!0,Fl(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ni(t),l.updater=ss,t.stateNode=l,l._reactInternals=t,_o(t,r,e,n),t=Lo(null,t,r,!0,s,n)):(t.tag=0,re&&s&&vi(t),De(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(jl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Wh(r),e=rt(r,e),l){case 0:t=Po(null,t,r,e,n);break e;case 1:t=Ha(null,t,r,e,n);break e;case 11:t=Wa(null,t,r,e,n);break e;case 14:t=Va(null,t,r,rt(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),Po(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),Ha(e,t,r,l,n);case 3:e:{if(Sd(t),e===null)throw Error(_(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Yc(e,t),$l(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Gn(Error(_(423)),t),t=Ga(e,t,r,n,l);break e}else if(r!==l){l=Gn(Error(_(424)),t),t=Ga(e,t,r,n,l);break e}else for($e=$t(t.stateNode.containerInfo.firstChild),We=t,re=!0,ot=null,n=Gc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wn(),r===l){t=bt(e,t,n);break e}De(e,t,r,n)}t=t.child}return t;case 5:return Kc(t),e===null&&No(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,xo(r,l)?i=null:s!==null&&xo(r,s)&&(t.flags|=32),wd(e,t),De(e,t,i,n),t.child;case 6:return e===null&&No(t),null;case 13:return jd(e,t,n);case 4:return Ci(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vn(t,null,r,n):De(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),Wa(e,t,r,l,n);case 7:return De(e,t,t.pendingProps,n),t.child;case 8:return De(e,t,t.pendingProps.children,n),t.child;case 12:return De(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,i=l.value,J(Ul,r._currentValue),r._currentValue=i,s!==null)if(ut(s.value,i)){if(s.children===l.children&&!Fe.current){t=bt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=kt(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Co(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(_(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Co(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}De(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,On(t,n),l=qe(l),r=r(l),t.flags|=1,De(e,t,r,n),t.child;case 14:return r=t.type,l=rt(r,t.pendingProps),l=rt(r.type,l),Va(e,t,r,l,n);case 15:return yd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),jl(e,t),t.tag=1,Ae(r)?(e=!0,Fl(t)):e=!1,On(t,n),pd(t,r,l),_o(t,r,l,n),Lo(null,t,r,!0,e,n);case 19:return kd(e,t,n);case 22:return xd(e,t,n)}throw Error(_(156,t.tag))};function Od(e,t){return fc(e,t)}function $h(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,n,r){return new $h(e,t,n,r)}function Ui(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wh(e){if(typeof e=="function")return Ui(e)?1:0;if(e!=null){if(e=e.$$typeof,e===si)return 11;if(e===oi)return 14}return 2}function Gt(e,t){var n=e.alternate;return n===null?(n=Xe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cl(e,t,n,r,l,s){var i=2;if(r=e,typeof e=="function")Ui(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Nn:return on(n.children,l,s,t);case li:i=8,l|=8;break;case Zs:return e=Xe(12,n,t,l|2),e.elementType=Zs,e.lanes=s,e;case Xs:return e=Xe(13,n,t,l),e.elementType=Xs,e.lanes=s,e;case Js:return e=Xe(19,n,t,l),e.elementType=Js,e.lanes=s,e;case Ku:return as(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qu:i=10;break e;case Yu:i=9;break e;case si:i=11;break e;case oi:i=14;break e;case Dt:i=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=Xe(i,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function on(e,t,n,r){return e=Xe(7,e,r,t),e.lanes=n,e}function as(e,t,n,r){return e=Xe(22,e,r,t),e.elementType=Ku,e.lanes=n,e.stateNode={isHidden:!1},e}function Bs(e,t,n){return e=Xe(6,e,null,t),e.lanes=n,e}function $s(e,t,n){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vh(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=js(0),this.expirationTimes=js(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Bi(e,t,n,r,l,s,i,a,u){return e=new Vh(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Xe(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ni(s),e}function Hh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ud(e){if(!e)return Yt;e=e._reactInternals;e:{if(yn(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(Ae(n))return Uc(e,n,t)}return t}function Bd(e,t,n,r,l,s,i,a,u){return e=Bi(n,r,!0,e,l,s,i,a,u),e.context=Ud(null),n=e.current,r=Ie(),l=Ht(n),s=kt(r,l),s.callback=t??null,Wt(n,s,l),e.current.lanes=l,$r(e,l,r),Oe(e,r),e}function us(e,t,n,r){var l=t.current,s=Ie(),i=Ht(l);return n=Ud(n),t.context===null?t.context=n:t.pendingContext=n,t=kt(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wt(l,t,i),e!==null&&(at(e,l,i,s),xl(e,l,i)),i}function Zl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $i(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function Gh(){return null}var $d=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wi(e){this._internalRoot=e}cs.prototype.render=Wi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));us(e,t,null,null)};cs.prototype.unmount=Wi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hn(function(){us(null,e,null,null)}),t[Et]=null}};function cs(e){this._internalRoot=e}cs.prototype.unstable_scheduleHydration=function(e){if(e){var t=xc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&t!==0&&t<Tt[n].priority;n++);Tt.splice(n,0,e),n===0&&Sc(e)}};function Vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ds(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ru(){}function Qh(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=Zl(i);s.call(c)}}var i=Bd(t,r,e,0,null,!1,!1,"",ru);return e._reactRootContainer=i,e[Et]=i.current,Pr(e.nodeType===8?e.parentNode:e),hn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var c=Zl(u);a.call(c)}}var u=Bi(e,0,!1,null,null,!1,!1,"",ru);return e._reactRootContainer=u,e[Et]=u.current,Pr(e.nodeType===8?e.parentNode:e),hn(function(){us(t,u,n,r)}),u}function fs(e,t,n,r,l){var s=n._reactRootContainer;if(s){var i=s;if(typeof l=="function"){var a=l;l=function(){var u=Zl(i);a.call(u)}}us(t,i,e,l)}else i=Qh(n,t,e,l,r);return Zl(i)}vc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cr(t.pendingLanes);n!==0&&(ui(t,n|1),Oe(t,ce()),!(G&6)&&(Qn=ce()+500,Xt()))}break;case 13:hn(function(){var r=_t(e,1);if(r!==null){var l=Ie();at(r,e,1,l)}}),$i(e,1)}};ci=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var n=Ie();at(t,e,134217728,n)}$i(e,134217728)}};yc=function(e){if(e.tag===13){var t=Ht(e),n=_t(e,t);if(n!==null){var r=Ie();at(n,e,t,r)}$i(e,t)}};xc=function(){return K};wc=function(e,t){var n=K;try{return K=e,t()}finally{K=n}};ao=function(e,t,n){switch(t){case"input":if(to(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ns(r);if(!l)throw Error(_(90));Xu(r),to(r,l)}}}break;case"textarea":qu(e,n);break;case"select":t=n.value,t!=null&&zn(e,!!n.multiple,t,!1)}};oc=Fi;ic=hn;var Yh={usingClientEntryPoint:!1,Events:[Vr,bn,ns,lc,sc,Fi]},or={findFiberByHostInstance:nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kh={bundleType:or.bundleType,version:or.version,rendererPackageName:or.rendererPackageName,rendererConfig:or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cc(e),e===null?null:e.stateNode},findFiberByHostInstance:or.findFiberByHostInstance||Gh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ml.isDisabled&&ml.supportsFiber)try{Jl=ml.inject(Kh),pt=ml}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yh;He.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vi(t))throw Error(_(200));return Hh(e,t,null,n)};He.createRoot=function(e,t){if(!Vi(e))throw Error(_(299));var n=!1,r="",l=$d;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Bi(e,1,!1,null,null,n,!1,r,l),e[Et]=t.current,Pr(e.nodeType===8?e.parentNode:e),new Wi(t)};He.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=cc(t),e=e===null?null:e.stateNode,e};He.flushSync=function(e){return hn(e)};He.hydrate=function(e,t,n){if(!ds(t))throw Error(_(200));return fs(null,e,t,!0,n)};He.hydrateRoot=function(e,t,n){if(!Vi(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",i=$d;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Bd(t,null,e,1,n??null,l,!1,s,i),e[Et]=t.current,Pr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new cs(t)};He.render=function(e,t,n){if(!ds(t))throw Error(_(200));return fs(null,e,t,!1,n)};He.unmountComponentAtNode=function(e){if(!ds(e))throw Error(_(40));return e._reactRootContainer?(hn(function(){fs(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1};He.unstable_batchedUpdates=Fi;He.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ds(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return fs(e,t,n,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function Wd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wd)}catch(e){console.error(e)}}Wd(),Wu.exports=He;var Vd=Wu.exports,lu=Vd;Ys.createRoot=lu.createRoot,Ys.hydrateRoot=lu.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ar.apply(this,arguments)}var At;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(At||(At={}));const su="popstate";function Zh(e){e===void 0&&(e={});function t(r,l){let{pathname:s,search:i,hash:a}=r.location;return $o("",{pathname:s,search:i,hash:a},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Hd(l)}return Jh(t,n,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xh(){return Math.random().toString(36).substr(2,8)}function ou(e,t){return{usr:e.state,key:e.key,idx:t}}function $o(e,t,n,r){return n===void 0&&(n=null),Ar({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Jn(t):t,{state:n,key:t&&t.key||r||Xh()})}function Hd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Jn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Jh(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,i=l.history,a=At.Pop,u=null,c=m();c==null&&(c=0,i.replaceState(Ar({},i.state,{idx:c}),""));function m(){return(i.state||{idx:null}).idx}function d(){a=At.Pop;let k=m(),h=k==null?null:k-c;c=k,u&&u({action:a,location:S.location,delta:h})}function p(k,h){a=At.Push;let f=$o(S.location,k,h);c=m()+1;let g=ou(f,c),j=S.createHref(f);try{i.pushState(g,"",j)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;l.location.assign(j)}s&&u&&u({action:a,location:S.location,delta:1})}function v(k,h){a=At.Replace;let f=$o(S.location,k,h);c=m();let g=ou(f,c),j=S.createHref(f);i.replaceState(g,"",j),s&&u&&u({action:a,location:S.location,delta:0})}function x(k){let h=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof k=="string"?k:Hd(k);return f=f.replace(/ $/,"%20"),fe(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let S={get action(){return a},get location(){return e(l,i)},listen(k){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(su,d),u=k,()=>{l.removeEventListener(su,d),u=null}},createHref(k){return t(l,k)},createURL:x,encodeLocation(k){let h=x(k);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:v,go(k){return i.go(k)}};return S}var iu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(iu||(iu={}));function qh(e,t,n){return n===void 0&&(n="/"),ep(e,t,n)}function ep(e,t,n,r){let l=typeof t=="string"?Jn(t):t,s=Yd(l.pathname||"/",n);if(s==null)return null;let i=Gd(e);tp(i);let a=null;for(let u=0;a==null&&u<i.length;++u){let c=mp(s);a=cp(i[u],c)}return a}function Gd(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,i,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};u.relativePath.startsWith("/")&&(fe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=an([r,u.relativePath]),m=n.concat(u);s.children&&s.children.length>0&&(fe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Gd(s.children,t,m,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:ap(c,s.index),routesMeta:m})};return e.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))l(s,i);else for(let u of Qd(s.path))l(s,i,u)}),t}function Qd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let i=Qd(r.join("/")),a=[];return a.push(...i.map(u=>u===""?s:[s,u].join("/"))),l&&a.push(...i),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function tp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:up(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const np=/^:[\w-]+$/,rp=3,lp=2,sp=1,op=10,ip=-2,au=e=>e==="*";function ap(e,t){let n=e.split("/"),r=n.length;return n.some(au)&&(r+=ip),t&&(r+=lp),n.filter(l=>!au(l)).reduce((l,s)=>l+(np.test(s)?rp:s===""?sp:op),r)}function up(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function cp(e,t,n){let{routesMeta:r}=e,l={},s="/",i=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,m=s==="/"?t:t.slice(s.length)||"/",d=dp({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},m),p=u.route;if(!d)return null;Object.assign(l,d.params),i.push({params:l,pathname:an([s,d.pathname]),pathnameBase:yp(an([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=an([s,d.pathnameBase]))}return i}function dp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=fp(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],i=s.replace(/(.)\/+$/,"$1"),a=l.slice(1);return{params:r.reduce((c,m,d)=>{let{paramName:p,isOptional:v}=m;if(p==="*"){let S=a[d]||"";i=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const x=a[d];return v&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:i,pattern:e}}function fp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Hi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function mp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const hp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pp=e=>hp.test(e);function gp(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?Jn(e):e,s;if(n)if(pp(n))s=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),Hi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?s=uu(n.substring(1),"/"):s=uu(n,t)}else s=t;return{pathname:s,search:xp(r),hash:wp(l)}}function uu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Ws(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Kd(e,t){let n=vp(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Zd(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=Jn(e):(l=Ar({},e),fe(!l.pathname||!l.pathname.includes("?"),Ws("?","pathname","search",l)),fe(!l.pathname||!l.pathname.includes("#"),Ws("#","pathname","hash",l)),fe(!l.search||!l.search.includes("#"),Ws("#","search","hash",l)));let s=e===""||l.pathname==="",i=s?"/":l.pathname,a;if(i==null)a=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),d-=1;l.pathname=p.join("/")}a=d>=0?t[d]:"/"}let u=gp(l,a),c=i&&i!=="/"&&i.endsWith("/"),m=(s||i===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||m)&&(u.pathname+="/"),u}const an=e=>e.join("/").replace(/\/\/+/g,"/"),yp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Sp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Xd=["post","put","patch","delete"];new Set(Xd);const jp=["get",...Xd];new Set(jp);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Or.apply(this,arguments)}const Gi=y.createContext(null),kp=y.createContext(null),Gr=y.createContext(null),ms=y.createContext(null),Jt=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Jd=y.createContext(null);function Qr(){return y.useContext(ms)!=null}function Yr(){return Qr()||fe(!1),y.useContext(ms).location}function qd(e){y.useContext(Gr).static||y.useLayoutEffect(e)}function Ue(){let{isDataRoute:e}=y.useContext(Jt);return e?Fp():Np()}function Np(){Qr()||fe(!1);let e=y.useContext(Gi),{basename:t,future:n,navigator:r}=y.useContext(Gr),{matches:l}=y.useContext(Jt),{pathname:s}=Yr(),i=JSON.stringify(Kd(l,n.v7_relativeSplatPath)),a=y.useRef(!1);return qd(()=>{a.current=!0}),y.useCallback(function(c,m){if(m===void 0&&(m={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Zd(c,JSON.parse(i),s,m.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:an([t,d.pathname])),(m.replace?r.replace:r.push)(d,m.state,m)},[t,r,i,s,e])}function Cp(){let{matches:e}=y.useContext(Jt),t=e[e.length-1];return t?t.params:{}}function Ep(e,t){return _p(e,t)}function _p(e,t,n,r){Qr()||fe(!1);let{navigator:l}=y.useContext(Gr),{matches:s}=y.useContext(Jt),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let c=Yr(),m;if(t){var d;let k=typeof t=="string"?Jn(t):t;u==="/"||(d=k.pathname)!=null&&d.startsWith(u)||fe(!1),m=k}else m=c;let p=m.pathname||"/",v=p;if(u!=="/"){let k=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=qh(e,{pathname:v}),S=Ip(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:an([u,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:an([u,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return t&&S?y.createElement(ms.Provider,{value:{location:Or({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:At.Pop}},S):S}function bp(){let e=Mp(),t=Sp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:l},n):null,null)}const Pp=y.createElement(bp,null);class Lp extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Jt.Provider,{value:this.props.routeContext},y.createElement(Jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dp(e){let{routeContext:t,match:n,children:r}=e,l=y.useContext(Gi);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Jt.Provider,{value:t},r)}function Ip(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(l=n)==null?void 0:l.errors;if(a!=null){let m=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);m>=0||fe(!1),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<i.length;m++){let d=i[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=m),d.route.id){let{loaderData:p,errors:v}=n,x=d.route.loader&&p[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||x){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((m,d,p)=>{let v,x=!1,S=null,k=null;n&&(v=a&&d.route.id?a[d.route.id]:void 0,S=d.route.errorElement||Pp,u&&(c<0&&p===0?(Ap("route-fallback"),x=!0,k=null):c===p&&(x=!0,k=d.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,p+1)),f=()=>{let g;return v?g=S:x?g=k:d.route.Component?g=y.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=m,y.createElement(Dp,{match:d,routeContext:{outlet:m,matches:h,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?y.createElement(Lp,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var ef=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ef||{}),tf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tf||{});function Tp(e){let t=y.useContext(Gi);return t||fe(!1),t}function Rp(e){let t=y.useContext(kp);return t||fe(!1),t}function zp(e){let t=y.useContext(Jt);return t||fe(!1),t}function nf(e){let t=zp(),n=t.matches[t.matches.length-1];return n.route.id||fe(!1),n.route.id}function Mp(){var e;let t=y.useContext(Jd),n=Rp(),r=nf();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Fp(){let{router:e}=Tp(ef.UseNavigateStable),t=nf(tf.UseNavigateStable),n=y.useRef(!1);return qd(()=>{n.current=!0}),y.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Or({fromRouteId:t},s)))},[e,t])}const cu={};function Ap(e,t,n){cu[e]||(cu[e]=!0)}function Op(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function rf(e){let{to:t,replace:n,state:r,relative:l}=e;Qr()||fe(!1);let{future:s,static:i}=y.useContext(Gr),{matches:a}=y.useContext(Jt),{pathname:u}=Yr(),c=Ue(),m=Zd(t,Kd(a,s.v7_relativeSplatPath),u,l==="path"),d=JSON.stringify(m);return y.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:l}),[c,d,l,n,r]),null}function Ye(e){fe(!1)}function Up(e){let{basename:t="/",children:n=null,location:r,navigationType:l=At.Pop,navigator:s,static:i=!1,future:a}=e;Qr()&&fe(!1);let u=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:u,navigator:s,static:i,future:Or({v7_relativeSplatPath:!1},a)}),[u,a,s,i]);typeof r=="string"&&(r=Jn(r));let{pathname:m="/",search:d="",hash:p="",state:v=null,key:x="default"}=r,S=y.useMemo(()=>{let k=Yd(m,u);return k==null?null:{location:{pathname:k,search:d,hash:p,state:v,key:x},navigationType:l}},[u,m,d,p,v,x,l]);return S==null?null:y.createElement(Gr.Provider,{value:c},y.createElement(ms.Provider,{children:n,value:S}))}function Bp(e){let{children:t,location:n}=e;return Ep(Wo(t),n)}new Promise(()=>{});function Wo(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,l)=>{if(!y.isValidElement(r))return;let s=[...t,l];if(r.type===y.Fragment){n.push.apply(n,Wo(r.props.children,s));return}r.type!==Ye&&fe(!1),!r.props.index||!r.props.children||fe(!1);let i={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Wo(r.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const $p="6";try{window.__reactRouterVersion=$p}catch{}const Wp="startTransition",du=Of[Wp];function Vp(e){let{basename:t,children:n,future:r,window:l}=e,s=y.useRef();s.current==null&&(s.current=Zh({window:l,v5Compat:!0}));let i=s.current,[a,u]=y.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},m=y.useCallback(d=>{c&&du?du(()=>u(d)):u(d)},[u,c]);return y.useLayoutEffect(()=>i.listen(m),[i,m]),y.useEffect(()=>Op(r),[r]),y.createElement(Up,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var fu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fu||(fu={}));var mu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mu||(mu={}));const lf=y.createContext(void 0);function Hp({children:e}){const[t,n]=y.useState(null),[r,l]=y.useState(!0),s=Ue();y.useEffect(()=>{const u=localStorage.getItem("user");if(u)try{n(JSON.parse(u))}catch{localStorage.removeItem("user")}l(!1)},[]);const i=(u,c)=>{localStorage.setItem("user",JSON.stringify(c)),n(c),s("/")},a=()=>{localStorage.removeItem("user"),n(null),s("/auth")};return o.jsx(lf.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:r,login:i,logout:a},children:e})}function vt(){const e=y.useContext(lf);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const Gp="https://script.google.com/macros/s/AKfycbyBK-9iXQ7bXvd26EN4qCz6DT2V_Z9pniGS2qrLaBP7pqXIQ29hGtmnQj2PP2LYCPHf/exec";class Qp{getUserEmail(){const t=localStorage.getItem("user");if(!t)return null;try{return JSON.parse(t).email||null}catch{return null}}async request(t,n={}){var i,a,u,c,m;const r=this.getUserEmail(),l={...n.headers||{}},s=r?`&auth=${encodeURIComponent("Email "+r)}`:"";try{const p=await(await fetch(`${Gp}?path=${t}${s}`,{...n,headers:l})).json();if(!p.ok){if(((i=p.error)==null?void 0:i.code)==="INVALID_TOKEN"||((a=p.error)==null?void 0:a.code)==="AUTH_REQUIRED"||((u=p.error)==null?void 0:u.code)==="FORBIDDEN"){localStorage.removeItem("user");const v=((c=p.error)==null?void 0:c.message)||"Your account is not authorized to access this application.";throw localStorage.setItem("auth_error",v),window.location.href="/auth",new Error(v)}throw new Error(((m=p.error)==null?void 0:m.message)||"An error occurred")}return p.data}catch(d){throw d instanceof Error?d:new Error("Network error")}}async get(t,n){const r=n?Object.fromEntries(Object.entries(n).filter(([s,i])=>i!==void 0)):void 0,l=r?"&"+new URLSearchParams(r).toString():"";return this.request(`${t}${l}`,{method:"POST"})}async post(t,n){return this.request(t,{method:"POST",body:JSON.stringify(n)})}async put(t,n){return this.request(t,{method:"PUT",body:JSON.stringify(n)})}}const se=new Qp,hu={async get(){return se.get("profile/get")},async save(e){return se.post("profile/save",e)}};function Yp(e){return new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{const s=r.result.split(",")[1];t(s)},r.onerror=n})}const sf=y.createContext(void 0);let ir=null,Vs=null;function Kp({children:e}){const{isAuthenticated:t,isLoading:n}=vt(),[r,l]=y.useState(null),[s,i]=y.useState(!1),[a,u]=y.useState(null),c=async()=>{if(t){i(!0);try{const d=await hu.get();if(l({pseudo:d.pseudo,avatar_url:d.avatar_url}),d.avatar_base64&&d.avatar_url!==Vs)try{const p=`data:image/jpeg;base64,${d.avatar_base64}`;ir&&URL.revokeObjectURL(ir),ir=p,Vs=d.avatar_url,u(p)}catch(p){console.error("Failed to convert avatar to data URL:",p),u(null)}else d.avatar_url===Vs&&ir?u(ir):d.avatar_base64||u(null)}catch(d){console.error("Failed to load profile:",d)}finally{i(!1)}}};y.useEffect(()=>{!n&&t&&c()},[t,n]);const m=async(d,p)=>{try{const v={pseudo:d};if(p){const S=await Yp(p);v.avatar=S}const x=await hu.save(v);l({pseudo:x.pseudo,avatar_url:x.avatar_url}),await c()}catch(v){throw console.error("Failed to save profile:",v),v}};return o.jsx(sf.Provider,{value:{profile:r,isLoading:s,saveProfile:m,reloadProfile:c,avatarBlobUrl:a},children:e})}function Qi(){const e=y.useContext(sf);if(!e)throw new Error("useProfile must be used within ProfileProvider");return e}function of({size:e="md",className:t=""}){const r={sm:{width:16,height:16,border:2},md:{width:32,height:32,border:3},lg:{width:48,height:48,border:4}}[e];return o.jsx("div",{className:`rounded-full animate-spin ${t}`,style:{width:r.width,height:r.height,borderWidth:r.border,borderStyle:"solid",borderColor:"#2563eb",borderTopColor:"transparent"}})}function xn({message:e="Loading..."}){return o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[o.jsx(of,{size:"lg"}),o.jsx("p",{className:"mt-4 text-gray-600",children:e})]})}function yt({children:e}){const{isAuthenticated:t,isLoading:n}=vt();return n?o.jsx(xn,{message:"Checking authentication..."}):t?o.jsx(o.Fragment,{children:e}):o.jsx(rf,{to:"/auth",replace:!0})}function Y({variant:e="primary",fullWidth:t=!1,className:n="",children:r,...l}){const s="px-6 py-3 rounded-lg font-medium transition-colors touch-manipulation flex items-center justify-center",i={primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 disabled:bg-gray-300",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 active:bg-gray-400 disabled:bg-gray-100",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800 disabled:bg-gray-300"},a=t?"w-full":"";return o.jsx("button",{className:`${s} ${i[e]} ${a} ${n}`,...l,children:r})}const pn={MAX_TEXT_LENGTH:300,MAX_PHOTOS_IN_ASSEMBLY:10,IMAGE_MAX_SIZE_MB:2,TIMEZONE:"Europe/Paris",PDF_POLL_INTERVAL_MS:3e3,INFINITE_SCROLL_THRESHOLD:.8,TARGET_IMAGE_WIDTH_PX:2480,ARTICLES_PER_PAGE:5},af=["January","February","March","April","May","June","July","August","September","October","November","December"];function Zp(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function Xp(){const{login:e,isAuthenticated:t}=vt(),n=Ue(),[r,l]=y.useState(!1),[s,i]=y.useState(null),[a]=y.useState(Zp()),[u,c]=y.useState(!1);y.useEffect(()=>{t&&n("/")},[t,n]),y.useEffect(()=>{const d=localStorage.getItem("auth_error");d&&(i(d),localStorage.removeItem("auth_error"))},[]),y.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,document.body.appendChild(d),()=>{document.body.removeChild(d)}},[]);const m=()=>{var p,v,x;l(!0),i(null);const d=(x=(v=(p=window.google)==null?void 0:p.accounts)==null?void 0:v.oauth2)==null?void 0:x.initTokenClient({client_id:"175845978100-rqclosiat622f3b7ijpg17t2fnrnb522.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",callback:S=>{S.access_token?fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${S.access_token}`}}).then(k=>k.json()).then(k=>{e(S.access_token,{email:k.email,name:k.name}),l(!1)}).catch(()=>{i("Failed to get user information"),l(!1),a&&c(!0)}):(i("Failed to authenticate with Google"),l(!1),a&&c(!0))},error_callback:()=>{i("Google Sign-In failed"),l(!1),a&&c(!0)}});d==null||d.requestAccessToken()};return r?o.jsx(xn,{message:"Signing in..."}):a&&u?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rememly"}),o.jsx("p",{className:"text-gray-600",children:"Family photo journal"})]}),o.jsx("div",{className:"mb-6 w-full max-w-md",children:o.jsxs("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Safari login required"}),o.jsx("p",{className:"text-blue-800 text-sm mb-4",children:"Google sign-in doesn't work in app mode. Please login from Safari:"}),o.jsxs("ol",{className:"text-blue-800 text-sm space-y-2 mb-4 list-decimal list-inside",children:[o.jsx("li",{children:"Open Safari on your iPhone"}),o.jsxs("li",{children:["Go to ",o.jsx("span",{className:"font-mono bg-blue-100 px-1 rounded",children:"grut505.github.io"})]}),o.jsx("li",{children:"Sign in with your Google account"}),o.jsx("li",{children:"Add the app to your home screen again"})]}),o.jsx("p",{className:"text-blue-700 text-xs italic",children:"Important: you must re-add the app to your home screen after signing in from Safari."})]})}),o.jsx(Y,{onClick:()=>{window.location.href="https://grut505.github.io/auth"},className:"w-full max-w-sm",children:"Open in Safari"}),o.jsx("button",{onClick:()=>c(!1),className:"mt-4 text-sm text-gray-600 underline",children:"Try sign-in again"})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rememly"}),o.jsx("p",{className:"text-gray-600",children:"Family photo journal"})]}),s&&o.jsx("div",{className:"mb-6 w-full max-w-sm",children:o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("div",{className:"text-red-600 text-center text-sm",children:s})})}),o.jsx(Y,{onClick:m,className:"w-full max-w-sm",children:s?"Try another account":"Sign in with Google"})]})}const Jp={},pu=e=>{let t;const n=new Set,r=(m,d)=>{const p=typeof m=="function"?m(t):m;if(!Object.is(p,t)){const v=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,v))}},l=()=>t,u={setState:r,getState:l,getInitialState:()=>c,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(Jp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,l,u);return u},qp=e=>e?pu(e):pu;var uf={exports:{}},cf={},df={exports:{}},ff={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yn=y;function e0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var t0=typeof Object.is=="function"?Object.is:e0,n0=Yn.useState,r0=Yn.useEffect,l0=Yn.useLayoutEffect,s0=Yn.useDebugValue;function o0(e,t){var n=t(),r=n0({inst:{value:n,getSnapshot:t}}),l=r[0].inst,s=r[1];return l0(function(){l.value=n,l.getSnapshot=t,Hs(l)&&s({inst:l})},[e,n,t]),r0(function(){return Hs(l)&&s({inst:l}),e(function(){Hs(l)&&s({inst:l})})},[e]),s0(n),n}function Hs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!t0(e,n)}catch{return!0}}function i0(e,t){return t()}var a0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?i0:o0;ff.useSyncExternalStore=Yn.useSyncExternalStore!==void 0?Yn.useSyncExternalStore:a0;df.exports=ff;var u0=df.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=y,c0=u0;function d0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var f0=typeof Object.is=="function"?Object.is:d0,m0=c0.useSyncExternalStore,h0=hs.useRef,p0=hs.useEffect,g0=hs.useMemo,v0=hs.useDebugValue;cf.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var s=h0(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=g0(function(){function u(v){if(!c){if(c=!0,m=v,v=r(v),l!==void 0&&i.hasValue){var x=i.value;if(l(x,v))return d=x}return d=v}if(x=d,f0(m,v))return x;var S=r(v);return l!==void 0&&l(x,S)?(m=v,x):(m=v,d=S)}var c=!1,m,d,p=n===void 0?null:n;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,n,r,l]);var a=m0(e,s[0],s[1]);return p0(function(){i.hasValue=!0,i.value=a},[a]),v0(a),a};uf.exports=cf;var y0=uf.exports;const x0=Du(y0),mf={},{useDebugValue:w0}=ei,{useSyncExternalStoreWithSelector:S0}=x0;let gu=!1;const j0=e=>e;function k0(e,t=j0,n){(mf?"production":void 0)!=="production"&&n&&!gu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),gu=!0);const r=S0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return w0(r),r}const vu=e=>{(mf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?qp(e):e,n=(r,l)=>k0(t,r,l);return Object.assign(n,t),n},Yi=e=>e?vu(e):vu,yu={year:"",month:"",from:"",to:"",statusFilter:"active",sourceFilter:"all"},lt=Yi(e=>({articles:[],isLoading:!1,error:null,cursor:null,hasMore:!0,filters:yu,setArticles:(t,n=null)=>{const r=new Set,l=t.filter(s=>r.has(s.id)?!1:(r.add(s.id),!0));return e({articles:l,cursor:n,hasMore:n!==null})},addArticles:(t,n)=>e(r=>{const l=new Set(r.articles.map(i=>i.id)),s=t.filter(i=>!l.has(i.id));return{articles:[...r.articles,...s],cursor:n,hasMore:n!==null}}),updateArticle:t=>e(n=>({articles:n.articles.map(r=>r.id===t.id?t:r)})),deleteArticle:t=>e(n=>({articles:n.articles.filter(r=>r.id!==t)})),setLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),setFilters:t=>e({filters:t}),reset:()=>e({articles:[],isLoading:!1,error:null,cursor:null,hasMore:!0,filters:yu})})),ht={list:e=>se.get("articles/list",e),get:e=>se.get("articles/get",{id:e}),create:e=>se.post("articles/create",e),update:e=>se.post("articles/update",e),delete:e=>se.get("articles/delete",{id:e}),permanentDelete:e=>se.get("articles/permanent-delete",{id:e})};function hf({onClick:e,icon:t,className:n=""}){return o.jsx("button",{onClick:e,className:`w-16 h-16 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 active:bg-blue-800 flex items-center justify-center text-3xl touch-manipulation ${n}`,"aria-label":"Create new article",children:t||"+"})}function pf({message:e,onRetry:t,retryLabel:n="Retry"}){return o.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-red-50 border border-red-200 rounded-lg",children:[o.jsx("div",{className:"text-red-600 text-center mb-4",children:e}),t&&o.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:n})]})}function gf(e){return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Vo(){return new Date().getFullYear()}function vf(e){return new Date(e).toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}function xu(e){const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`}const wu=new Map;function N0(e){if(!e)return null;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/thumbnail\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return r[1]}return null}function C0(e,t){const[n,r]=y.useState(""),[l,s]=y.useState(!0),[i,a]=y.useState(!1);return y.useEffect(()=>{if(!e){r(""),s(!1),a(!1);return}if(e.startsWith("data:")||e.startsWith("blob:")){r(e),s(!1),a(!1);return}const u=t||N0(e);if(!u){a(!0),s(!1);return}const c=wu.get(u);if(c){r(c),s(!1),a(!1);return}s(!0),a(!1),(async()=>{try{const d=await se.get("image/fetch",{fileId:u});if(!d.base64){a(!0),s(!1);return}const p=`data:image/jpeg;base64,${d.base64}`;wu.set(u,p),r(p),s(!1)}catch{a(!0),s(!1)}})()},[e,t]),{src:n,isLoading:l,error:i}}function gn({isOpen:e,title:t,message:n,confirmLabel:r="Confirm",cancelLabel:l="Cancel",onConfirm:s,onCancel:i,variant:a="primary",isLoading:u=!1,progress:c=null}){return e?Vd.createPortal(o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:i}),o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-2",children:t}),o.jsx("p",{className:"text-gray-600 mb-4",children:n}),c&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[o.jsx("span",{children:"Deleting..."}),o.jsxs("span",{children:[c.current," / ",c.total]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-red-600 h-2.5 rounded-full transition-all duration-200",style:{width:`${c.current/c.total*100}%`}})})]}),!c&&o.jsx("div",{className:"mb-2"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Y,{variant:"secondary",fullWidth:!0,onClick:i,disabled:u,children:l}),o.jsx(Y,{variant:a,fullWidth:!0,onClick:s,disabled:u,children:u?"Deleting...":r})]})]})]}),document.body):null}async function E0(e,t=pn.TARGET_IMAGE_WIDTH_PX){return new Promise((n,r)=>{const l=new FileReader;l.onload=s=>{var a;const i=new Image;i.onload=()=>{const u=document.createElement("canvas");let c=i.width,m=i.height;c>t&&(m=m*t/c,c=t),u.width=c,u.height=m,u.getContext("2d").drawImage(i,0,0,c,m);const p=u.toDataURL("image/jpeg",.85);n(p.split(",")[1])},i.onerror=r,i.src=(a=s.target)==null?void 0:a.result},l.onerror=r,l.readAsDataURL(e)})}function _0(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{const l=r.result.split(",")[1];t(l)},r.onerror=n,r.readAsDataURL(e)})}async function b0(e,t=.9){return new Promise(n=>{e.toBlob(async r=>{if(r){const l=await _0(r);n(l)}},"image/jpeg",t)})}class P0{async processImage(t){const n=await E0(t);return{fileName:t.name,mimeType:"image/jpeg",base64:n}}async processMultipleImages(t){return Promise.all(t.map(n=>this.processImage(n)))}}const Su=new P0;class L0{async createArticle(t,n,r,l,s,i,a){const u=await Su.processImage(r),c={auteur:t,texte:n,image:u,date:l,famileo_post_id:s,assembly_state:i||null,full_page:a||!1};return ht.create(c)}async updateArticle(t,n,r,l,s,i,a){const u={id:t,texte:n,date:l,assembly_state:s,full_page:i,status:a};return r&&(u.image=await Su.processImage(r)),ht.update(u)}async deleteArticle(t){await ht.delete(t)}async restoreArticle(t){return ht.update({id:t,status:"ACTIVE"})}}const Nt=new L0;function D0(e){if(!e)return"";if(e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w200`}return e}function I0(e,t){if(t){const r=t.startsWith("blob:")||t.startsWith("data:")?t:D0(t);return o.jsx("img",{src:r,alt:e,className:"w-10 h-10 rounded-full object-cover border-2 border-primary-200 flex-shrink-0"})}const n=e.split(" ").map(r=>r[0]).join("").toUpperCase().substring(0,2);return o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-sm font-semibold text-primary-700",children:n})})}function T0({article:e,onDeleted:t,onRestored:n,selectionMode:r,selected:l,onSelectionChange:s}){const i=Ue(),{user:a}=vt(),{profile:u,avatarBlobUrl:c}=Qi(),{src:m,isLoading:d,error:p}=C0(e.image_url,e.image_file_id),[v,x]=y.useState(!1),[S,k]=y.useState(!1),[h,f]=y.useState(!1),[g,j]=y.useState(!1),w=e.status==="DELETED",E=A=>{A.stopPropagation(),i(`/editor/${e.id}`)},C=()=>{i(`/editor/${e.id}`)},b=A=>{A.stopPropagation(),x(!0)},U=async()=>{k(!0);try{await Nt.deleteArticle(e.id),x(!1),t==null||t(e.id)}catch(A){console.error("Failed to delete article:",A)}finally{k(!1)}},z=A=>{A.stopPropagation(),f(!0)},Q=async()=>{j(!0);try{await Nt.restoreArticle(e.id),f(!1),n==null||n(e.id)}catch(A){console.error("Failed to restore article:",A)}finally{j(!1)}},H=e.author_pseudo||"Unknown",B=(a==null?void 0:a.email)===e.auteur&&c||void 0,O=A=>{A.stopPropagation(),s==null||s(e.id,A.target.checked)};return o.jsxs("div",{className:"px-4 mb-4",children:[o.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border hover:shadow-lg transition-shadow max-w-2xl mx-auto relative z-0 ${w?"border-red-300":l?"border-primary-500 ring-2 ring-primary-200":"border-gray-200"}`,onClick:r?()=>s==null?void 0:s(e.id,!l):void 0,children:[(w||e.famileo_post_id)&&o.jsxs("div",{className:"flex",children:[e.famileo_post_id&&o.jsx("div",{className:"flex-1 bg-purple-500 text-white text-xs font-semibold px-2 py-1 text-center",children:"Famileo"}),w&&o.jsx("div",{className:"flex-1 bg-red-500 text-white text-xs font-semibold px-2 py-1 text-center",children:"Deleted"})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r&&o.jsx("input",{type:"checkbox",checked:l,onChange:O,onClick:A=>A.stopPropagation(),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 flex-shrink-0"}),I0(H,B),o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:H}),o.jsx("span",{className:"text-sm text-gray-500",children:gf(e.date)})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:E,className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Edit article",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),w?o.jsx("button",{onClick:z,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Restore article",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}):o.jsx("button",{onClick:b,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Delete article",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),o.jsxs("div",{onClick:C,className:"w-full cursor-pointer bg-gray-50 relative",children:[d&&!p&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),p?o.jsxs("div",{className:"p-8 text-center text-gray-500",children:[o.jsx("p",{className:"text-sm",children:"Failed to load image"}),o.jsxs("p",{className:"text-xs mt-1",children:["FileId: ",e.image_file_id]})]}):m&&o.jsx("img",{src:m,alt:"",className:"w-full h-auto object-contain",loading:"lazy"})]}),e.texte&&o.jsx("div",{onClick:C,className:"p-4 transition-colors cursor-pointer hover:bg-gray-50",children:o.jsx("p",{className:"whitespace-pre-wrap text-gray-900",children:e.texte})})]}),o.jsx(gn,{isOpen:v,title:"Delete article?",message:"The article will be marked as deleted. You can find it later by enabling the 'Show deleted' filter.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:U,onCancel:()=>x(!1),variant:"danger",isLoading:S}),o.jsx(gn,{isOpen:h,title:"Restore article?",message:"The article will be restored and visible again in your timeline.",confirmLabel:"Restore",cancelLabel:"Cancel",onConfirm:Q,onCancel:()=>f(!1),isLoading:g})]})}function R0(){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No articles yet"}),o.jsx("p",{className:"text-gray-600",children:"Tap the + button to create your first photo article"})]})}function z0({monthYear:e}){return o.jsx("div",{className:"bg-gray-100 px-4 pt-3 pb-2 sticky top-[108px] z-10",children:o.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:e})})}function wn({onMenuClick:e}){const t=Ue(),[n,r]=y.useState(!1),l=y.useRef(null);y.useEffect(()=>{function i(a){l.current&&!l.current.contains(a.target)&&r(!1)}if(n)return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[n]);const s=i=>{r(!1),t(i)};return o.jsxs(o.Fragment,{children:[o.jsxs("header",{className:"bg-primary-600 text-white px-4 h-14 flex items-center fixed top-0 left-0 right-0 z-30 shadow-md max-w-content mx-auto",children:[o.jsx("div",{className:"w-10"}),o.jsx("h1",{className:"flex-1 text-xl font-bold leading-none text-center",children:"Rememly"}),o.jsxs("div",{className:"relative",ref:l,children:[o.jsx("button",{onClick:()=>r(!n),className:"p-2 hover:bg-primary-700 rounded-lg transition-colors touch-manipulation flex items-center justify-center","aria-label":"Menu",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})}),n&&o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-2 text-gray-800 z-30",children:[o.jsxs("button",{onClick:()=>s("/profile"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),o.jsx("span",{children:"Profile"})]}),o.jsxs("button",{onClick:()=>s("/stats"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),o.jsx("span",{children:"Statistics"})]}),o.jsxs("button",{onClick:()=>s("/famileo"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 text-orange-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),o.jsx("span",{children:"Famileo Scraper"})]}),o.jsxs("button",{onClick:()=>s("/pdf-export"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("span",{children:"PDF Export"})]}),o.jsxs("button",{onClick:()=>s("/settings"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsxs("svg",{className:"w-5 h-5 text-gray-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),o.jsx("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),o.jsx("span",{children:"Settings"})]}),o.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2 px-4 py-2",children:o.jsxs("p",{className:"text-xs text-gray-400",children:["v","1.2.0"," / backend @","91"]})})]})]})]}),o.jsx("div",{className:"h-14 flex-shrink-0"})]})}function M0({isOpen:e,onClose:t,title:n,children:r}){return y.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),o.jsxs("div",{className:"relative bg-white rounded-t-2xl sm:rounded-2xl w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] flex flex-col shadow-xl",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 touch-manipulation p-2",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:r})]})]}):null}const Ur=y.forwardRef(({label:e,error:t,className:n="",...r},l)=>o.jsxs("div",{className:"w-full",children:[e&&o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),o.jsx("input",{ref:l,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"border-red-500":"border-gray-300"} ${n}`,...r}),t&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]}));Ur.displayName="Input";const he={year:"",month:"",dateFrom:"",dateTo:"",statusFilter:"active",sourceFilter:"all"};function F0({initialFilters:e,onApply:t,onClose:n}){const[r,l]=y.useState((e==null?void 0:e.year)??he.year),[s,i]=y.useState((e==null?void 0:e.month)??he.month),[a,u]=y.useState((e==null?void 0:e.dateFrom)??he.dateFrom),[c,m]=y.useState((e==null?void 0:e.dateTo)??he.dateTo),[d,p]=y.useState((e==null?void 0:e.statusFilter)??he.statusFilter),[v,x]=y.useState((e==null?void 0:e.sourceFilter)??he.sourceFilter);y.useEffect(()=>{e&&(l(e.year??he.year),i(e.month??he.month),u(e.dateFrom??he.dateFrom),m(e.dateTo??he.dateTo),p(e.statusFilter??he.statusFilter),x(e.sourceFilter??he.sourceFilter))},[e]);const S=()=>{t({year:r,month:s,dateFrom:a,dateTo:c,statusFilter:d,sourceFilter:v}),n()},k=()=>{l(he.year),i(he.month),u(he.dateFrom),m(he.dateTo),p(he.statusFilter),x(he.sourceFilter),t(he),n()};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-4 space-y-6 overflow-y-auto overscroll-contain",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),o.jsxs("select",{value:r,onChange:h=>{l(h.target.value),h.target.value||i("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All years"}),[...Array(10)].map((h,f)=>{const g=Vo()-f;return o.jsx("option",{value:g,children:g},g)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),o.jsxs("select",{value:s,onChange:h=>i(h.target.value),disabled:!r,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[o.jsx("option",{value:"",children:"All months"}),af.map((h,f)=>o.jsx("option",{value:(f+1).toString().padStart(2,"0"),children:h},f))]}),!r&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a year first"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ur,{type:"date",label:"From",value:a,onChange:h=>{const f=h.target.value;u(f),c&&f&&c<f&&m(f)},max:c||void 0}),o.jsx(Ur,{type:"date",label:"To",value:c,onChange:h=>{const f=h.target.value;m(f),a&&f&&f<a&&u(f)},min:a||void 0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[o.jsx("button",{type:"button",onClick:()=>p("active"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${d==="active"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Active"}),o.jsx("button",{type:"button",onClick:()=>p("all"),className:`flex-1 px-3 py-2 text-sm font-medium border-x border-gray-300 transition-colors ${d==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"All"}),o.jsx("button",{type:"button",onClick:()=>p("deleted"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${d==="deleted"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Deleted"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source"}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[o.jsx("button",{type:"button",onClick:()=>x("all"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${v==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"All"}),o.jsx("button",{type:"button",onClick:()=>x("famileo"),className:`flex-1 px-3 py-2 text-sm font-medium border-x border-gray-300 transition-colors ${v==="famileo"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Famileo"}),o.jsx("button",{type:"button",onClick:()=>x("local"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${v==="local"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Local"})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 p-4 bg-white sticky bottom-0",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Y,{variant:"secondary",onClick:k,fullWidth:!0,children:"Reset"}),o.jsx(Y,{onClick:S,fullWidth:!0,children:"Apply Filters"})]})})]})})}function yf({checked:e,onChange:t,label:n,disabled:r=!1}){return o.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${r?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ${e?"bg-primary-600":"bg-gray-300"}`,onClick:()=>!r&&t(!e),children:o.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200 ${e?"translate-x-5":"translate-x-0"}`})}),n&&o.jsx("span",{className:"text-sm text-gray-700 select-none",children:n})]})}function A0(){const e=Ue(),{logout:t}=vt(),[n,r]=y.useState(!1),[l,s]=y.useState(!1),[i,a]=y.useState(new Set),[u,c]=y.useState(!1),[m,d]=y.useState(!1),[p,v]=y.useState(!1),[x,S]=y.useState(null),{articles:k,isLoading:h,error:f,cursor:g,hasMore:j,filters:w,setArticles:E,addArticles:C,setLoading:b,setError:U,setFilters:z}=lt(),Q=y.useRef(),H=y.useRef(!1),te=y.useRef(null),[B,O]=y.useState(!1);y.useEffect(()=>{H.current=h},[h]),y.useEffect(()=>{te.current=g},[g]);const A=async()=>{b(!0),U(null),console.log("Loading articles with filters:",w);try{const D=await ht.list({year:w.year||void 0,month:w.month,from:w.from,to:w.to,limit:String(pn.ARTICLES_PER_PAGE),status_filter:w.statusFilter||"active",source_filter:w.sourceFilter||"all"});console.log("Received articles:",D.items.length,"cursor:",D.next_cursor),E(D.items,D.next_cursor)}catch(D){U(D instanceof Error?D.message:"Failed to load articles")}finally{b(!1)}},me=y.useCallback(async()=>{const D=te.current;if(!(!D||H.current)){H.current=!0,O(!0),console.log("loadMore called with cursor:",D);try{const F=await ht.list({year:w.year||void 0,month:w.month,from:w.from,to:w.to,cursor:D,limit:String(pn.ARTICLES_PER_PAGE),status_filter:w.statusFilter||"active",source_filter:w.sourceFilter||"all"});console.log("Loaded more articles:",F.items.length,"next cursor:",F.next_cursor),te.current=F.next_cursor,C(F.items,F.next_cursor)}catch(F){U(F instanceof Error?F.message:"Failed to load more")}finally{H.current=!1,O(!1)}}},[w.year,w.month,w.from,w.to,w.statusFilter,w.sourceFilter,C,U]),P=y.useCallback(D=>{Q.current&&Q.current.disconnect(),D&&(Q.current=new IntersectionObserver(F=>{F[0].isIntersecting&&!H.current&&te.current&&(console.log("Sentinel visible, loading more..."),me())},{threshold:1,rootMargin:"0px"}),Q.current.observe(D))},[me]),T=D=>{console.log("Applying filters:",D),E([]),z({year:D.year,month:D.month,from:D.dateFrom,to:D.dateTo,statusFilter:D.statusFilter,sourceFilter:D.sourceFilter})},M=D=>{if(w.statusFilter==="active"||!w.statusFilter)lt.getState().deleteArticle(D);else{const F=k.find(Se=>Se.id===D);F&&lt.getState().updateArticle({...F,status:"DELETED"})}},$=D=>{if(w.statusFilter==="deleted")lt.getState().deleteArticle(D);else{const F=k.find(Se=>Se.id===D);F&&lt.getState().updateArticle({...F,status:"ACTIVE"})}},X=(D,F)=>{a(Se=>{const tt=new Set(Se);return F?tt.add(D):tt.delete(D),tt})},ct=()=>{i.size===k.length?a(new Set):a(new Set(k.map(D=>D.id)))},we=()=>{s(!1),a(new Set)},ue=D=>{s(D),D||a(new Set)},I=async()=>{c(!0);const D=Array.from(i);S({current:0,total:D.length});try{for(let F=0;F<D.length;F++)await Nt.deleteArticle(D[F]),S({current:F+1,total:D.length});w.statusFilter==="active"||!w.statusFilter?i.forEach(F=>lt.getState().deleteArticle(F)):i.forEach(F=>{const Se=k.find(tt=>tt.id===F);Se&&lt.getState().updateArticle({...Se,status:"DELETED"})}),we()}catch(F){console.error("Bulk delete failed:",F)}finally{c(!1),S(null),d(!1)}},W=async()=>{c(!0);const D=Array.from(i);S({current:0,total:D.length});try{for(let F=0;F<D.length;F++)await ht.permanentDelete(D[F]),S({current:F+1,total:D.length});i.forEach(F=>lt.getState().deleteArticle(F)),we()}catch(F){console.error("Bulk permanent delete failed:",F)}finally{c(!1),S(null),v(!1)}},Z=w.statusFilter==="deleted",ve=w.year||w.month||w.from||w.to||w.statusFilter&&w.statusFilter!=="active"||w.sourceFilter&&w.sourceFilter!=="all",Qe={year:w.year||"",month:w.month||"",dateFrom:w.from||"",dateTo:w.to||"",statusFilter:w.statusFilter||"active",sourceFilter:w.sourceFilter||"all"};return y.useEffect(()=>{console.log("Filters changed, reloading articles:",w),A()},[w.year,w.month,w.from,w.to,w.statusFilter,w.sourceFilter]),h&&k.length===0?o.jsx(xn,{message:"Loading articles..."}):f&&k.length===0?o.jsx("div",{className:"h-full flex items-center justify-center p-6",children:o.jsx(pf,{message:f,onRetry:A})}):o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(wn,{}),o.jsxs("div",{className:"bg-white border-b border-gray-300 px-4 py-3 flex items-center justify-between fixed top-[56px] left-0 right-0 z-[25] max-w-content mx-auto",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:l?`${i.size} selected`:w.year||"All years"}),o.jsxs("div",{className:"flex items-center gap-4",children:[l?o.jsx("button",{onClick:ct,className:"text-primary-600 hover:text-primary-700 touch-manipulation text-sm font-medium",children:i.size===k.length?"Deselect all":"Select all"}):o.jsxs("button",{onClick:()=>r(!0),className:`touch-manipulation flex items-center gap-2 ${ve?"text-white bg-primary-600 hover:bg-primary-700 px-3 py-1.5 rounded-lg font-medium":"text-primary-600 hover:text-primary-700"}`,children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filter",ve&&o.jsx("span",{className:"ml-1 bg-white text-primary-600 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:"!"})]}),k.length>0&&o.jsx(yf,{checked:l,onChange:ue,label:"Select"})]})]}),o.jsx("div",{className:"h-[36px]"}),o.jsx("div",{className:"flex-1 pb-20",children:k.length===0?o.jsx(R0,{}):o.jsxs(o.Fragment,{children:[k.map((D,F)=>{const Se=xu(D.date),tt=F>0?xu(k[F-1].date):null,qt=Se!==tt;return o.jsxs(y.Fragment,{children:[qt&&o.jsx(z0,{monthYear:vf(D.date)}),o.jsx("div",{className:`relative z-0 ${qt?"pt-8":""}`,children:o.jsx(T0,{article:D,onDeleted:M,onRestored:$,selectionMode:l,selected:i.has(D.id),onSelectionChange:X})})]},D.id)}),j&&!B&&o.jsx("div",{ref:P,className:"h-4"})]})}),B&&o.jsx("div",{className:"fixed bottom-24 left-0 right-0 flex justify-center z-50",children:o.jsx("div",{className:"bg-gray-100 shadow-lg rounded-full p-3 border border-gray-200",children:o.jsx(of,{})})}),l&&i.size>0&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 z-50 shadow-lg",children:o.jsxs("div",{className:"max-w-content mx-auto flex items-center justify-between gap-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[i.size," article",i.size>1?"s":""," selected"]}),o.jsx("div",{className:"flex gap-2",children:Z?o.jsx("button",{onClick:()=>v(!0),disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 font-medium",children:u?"Deleting...":"Delete permanently"}):o.jsx("button",{onClick:()=>d(!0),disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 font-medium",children:u?"Deleting...":"Delete"})})]})}),!l&&o.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-50",children:o.jsx("div",{className:"max-w-content mx-auto px-4 flex justify-end",children:o.jsx(hf,{onClick:()=>e("/editor"),className:"bg-primary-600 hover:bg-primary-700 active:bg-primary-800 transition-all hover:scale-105 active:scale-95",icon:o.jsx("svg",{className:"w-8 h-8",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 4v16m8-8H4"})})})})}),o.jsx(gn,{isOpen:m,title:"Delete articles?",message:`${i.size} article${i.size>1?"s":""} will be marked as deleted. You can find them later by enabling the 'Show deleted' filter.`,confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:I,onCancel:()=>d(!1),variant:"danger",isLoading:u,progress:x}),o.jsx(gn,{isOpen:p,title:"Permanently delete articles?",message:` WARNING: ${i.size} article${i.size>1?"s":""} will be permanently removed from the database. This action cannot be undone!`,confirmLabel:"Delete permanently",cancelLabel:"Cancel",onConfirm:W,onCancel:()=>v(!1),variant:"danger",isLoading:u,progress:x}),o.jsx(M0,{isOpen:n,onClose:()=>r(!1),title:"Filters",children:o.jsx(F0,{initialFilters:Qe,onApply:T,onClose:()=>r(!1)})})]})}const Ho=(e,t)=>t.some(n=>e instanceof n);let ju,ku;function O0(){return ju||(ju=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U0(){return ku||(ku=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Go=new WeakMap,Gs=new WeakMap,ps=new WeakMap;function B0(e){const t=new Promise((n,r)=>{const l=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(un(e.result)),l()},i=()=>{r(e.error),l()};e.addEventListener("success",s),e.addEventListener("error",i)});return ps.set(t,e),t}function $0(e){if(Go.has(e))return;const t=new Promise((n,r)=>{const l=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),l()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Go.set(e,t)}let Qo={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Go.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function xf(e){Qo=e(Qo)}function W0(e){return U0().includes(e)?function(...t){return e.apply(Yo(this),t),un(this.request)}:function(...t){return un(e.apply(Yo(this),t))}}function V0(e){return typeof e=="function"?W0(e):(e instanceof IDBTransaction&&$0(e),Ho(e,O0())?new Proxy(e,Qo):e)}function un(e){if(e instanceof IDBRequest)return B0(e);if(Gs.has(e))return Gs.get(e);const t=V0(e);return t!==e&&(Gs.set(e,t),ps.set(t,e)),t}const Yo=e=>ps.get(e);function H0(e,t,{blocked:n,upgrade:r,blocking:l,terminated:s}={}){const i=indexedDB.open(e,t),a=un(i);return r&&i.addEventListener("upgradeneeded",u=>{r(un(i.result),u.oldVersion,u.newVersion,un(i.transaction),u)}),n&&i.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),l&&u.addEventListener("versionchange",c=>l(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const G0=["get","getKey","getAll","getAllKeys","count"],Q0=["put","add","delete","clear"],Qs=new Map;function Nu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qs.get(t))return Qs.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=Q0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||G0.includes(n)))return;const s=async function(i,...a){const u=this.transaction(i,l?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),l&&u.done]))[0]};return Qs.set(t,s),s}xf(e=>({...e,get:(t,n,r)=>Nu(t,n)||e.get(t,n,r),has:(t,n)=>!!Nu(t,n)||e.has(t,n)}));const Y0=["continue","continuePrimaryKey","advance"],Cu={},Ko=new WeakMap,wf=new WeakMap,K0={get(e,t){if(!Y0.includes(t))return e[t];let n=Cu[t];return n||(n=Cu[t]=function(...r){Ko.set(this,wf.get(this)[t](...r))}),n}};async function*Z0(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,K0);for(wf.set(n,t),ps.set(n,Yo(t));t;)yield n,t=await(Ko.get(n)||t.continue()),Ko.delete(n)}function Eu(e,t){return t===Symbol.asyncIterator&&Ho(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Ho(e,[IDBIndex,IDBObjectStore])}xf(e=>({...e,get(t,n,r){return Eu(t,n)?Z0:e.get(t,n,r)},has(t,n){return Eu(t,n)||e.has(t,n)}}));class X0{constructor(){gs(this,"dbPromise");this.dbPromise=H0("rememly-db",1,{upgrade(t){t.objectStoreNames.contains("drafts")||t.createObjectStore("drafts",{keyPath:"id"}),t.objectStoreNames.contains("assemblyStates")||t.createObjectStore("assemblyStates",{keyPath:"articleId"})}})}async saveDraft(t){await(await this.dbPromise).put("drafts",{...t,timestamp:Date.now()})}async getDraft(t){return(await this.dbPromise).get("drafts",t)}async deleteDraft(t){await(await this.dbPromise).delete("drafts",t)}async saveAssemblyState(t,n){await(await this.dbPromise).put("assemblyStates",{articleId:t,state:n,timestamp:Date.now()})}async getAssemblyState(t){const r=await(await this.dbPromise).get("assemblyStates",t);return r==null?void 0:r.state}async deleteAssemblyState(t){await(await this.dbPromise).delete("assemblyStates",t)}}const J0=new X0,Kr=Yi(e=>({toast:null,showToast:(t,n)=>{e({toast:{message:t,type:n}}),setTimeout(()=>e({toast:null}),3e3)},hideToast:()=>e({toast:null})}));function q0(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}async function eg(e){return new Promise(t=>{const n=new FileReader;n.onload=r=>{var l,s;try{const i=new DataView((l=r.target)==null?void 0:l.result);if(i.getUint16(0,!1)!==65496){t(null);return}let a=2;const u=i.byteLength;for(;a<u;){if(i.getUint8(a)!==255){t(null);return}if(i.getUint8(a+1)===225){const m=i.getUint16(a+2,!1),d=new DataView((s=r.target)==null?void 0:s.result,a+4,m-2);if(String.fromCharCode(d.getUint8(0),d.getUint8(1),d.getUint8(2),d.getUint8(3))!=="Exif"){t(null);return}const v=6,x=d.getUint16(v,!1)===18761,S=d.getUint32(v+4,x),k=d.getUint16(v+S,x);for(let h=0;h<k;h++){const f=v+S+2+h*12,g=d.getUint16(f,x);if(g===34665){const j=d.getUint32(f+8,x),w=d.getUint16(v+j,x);for(let E=0;E<w;E++){const C=v+j+2+E*12,b=d.getUint16(C,x);if(b===36867||b===36868){const U=d.getUint32(C+8,x);let z="";for(let te=0;te<19;te++)z+=String.fromCharCode(d.getUint8(v+U+te));const Q=z.replace(/^(\d{4}):(\d{2}):(\d{2})/,"$1-$2-$3"),H=new Date(Q);if(!isNaN(H.getTime())){t(H);return}}}}if(g===306){const j=d.getUint32(f+8,x);let w="";for(let b=0;b<19;b++)w+=String.fromCharCode(d.getUint8(v+j+b));const E=w.replace(/^(\d{4}):(\d{2}):(\d{2})/,"$1-$2-$3"),C=new Date(E);if(!isNaN(C.getTime())){t(C);return}}}t(null);return}a+=2+i.getUint16(a+2,!1)}t(null)}catch{t(null)}},n.onerror=()=>t(null),n.readAsArrayBuffer(e)})}function tg(e){if(!e)return console.warn("Empty image URL provided to PhotoPicker"),"";if(e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([^\/]+)/,/drive\.google\.com\/uc\?.*[&?]id=([^&]+)/,/drive\.google\.com\/open\?.*[&?]id=([^&]+)/,/lh3\.googleusercontent\.com\/d\/([^?&]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w2000`}return e}function ng({onPhotoSelected:e,currentImage:t}){const n=y.useRef(null),r=y.useRef(null),l=y.useRef(null),s=y.useRef(null),[i,a]=y.useState(!1),[u,c]=y.useState(!1),[m,d]=y.useState(null),p=q0();y.useEffect(()=>()=>{m&&m.getTracks().forEach(f=>f.stop())},[m]);const v=async f=>{var j;const g=(j=f.target.files)==null?void 0:j[0];if(g){const w=await eg(g);e(g,w||void 0),a(!1)}f.target.value=""},x=y.useCallback(async()=>{var f,g;if(p)(f=n.current)==null||f.click();else try{const j=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:720}}});d(j),c(!0),setTimeout(()=>{l.current&&(l.current.srcObject=j)},100)}catch(j){console.error("Error accessing webcam:",j),(g=n.current)==null||g.click()}},[p]),S=y.useCallback(()=>{if(l.current&&s.current){const f=l.current,g=s.current;g.width=f.videoWidth,g.height=f.videoHeight;const j=g.getContext("2d");j&&(j.drawImage(f,0,0),g.toBlob(async w=>{if(w){const E=new File([w],`webcam-${Date.now()}.jpg`,{type:"image/jpeg"});e(E,new Date),k(),a(!1)}},"image/jpeg",.9))}},[e]),k=y.useCallback(()=>{m&&(m.getTracks().forEach(f=>f.stop()),d(null)),c(!1)},[m]),h=()=>{var f;(f=r.current)==null||f.click()};return u?o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[o.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-auto max-h-[50vh] object-contain"}),o.jsx("canvas",{ref:s,className:"hidden"})]}),o.jsxs("div",{className:"mt-4 flex gap-2",children:[o.jsx(Y,{onClick:S,fullWidth:!0,children:"Capture"}),o.jsx(Y,{variant:"secondary",onClick:k,fullWidth:!0,children:"Cancel"})]})]}):o.jsxs("div",{className:"w-full",children:[o.jsx("input",{ref:n,type:"file",accept:"image/*",capture:"environment",onChange:v,className:"hidden"}),o.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:v,className:"hidden"}),t?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:tg(t),alt:"Selected",className:"w-full h-auto rounded-lg max-h-[40vh] object-contain"}),o.jsxs("div",{className:"mt-4 flex gap-2",children:[o.jsx(Y,{variant:"secondary",fullWidth:!0,onClick:x,children:"Take Photo"}),o.jsx(Y,{variant:"secondary",fullWidth:!0,onClick:h,children:"Gallery"})]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"text-4xl mb-2",children:""}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Add a photo"}),i?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Y,{onClick:x,fullWidth:!0,children:"Take Photo"}),o.jsx(Y,{variant:"secondary",onClick:h,fullWidth:!0,children:"Choose from Gallery"}),o.jsx("button",{onClick:()=>a(!1),className:"text-sm text-gray-500 mt-2",children:"Cancel"})]}):o.jsx(Y,{onClick:()=>a(!0),children:"Select Photo"})]})]})}function rg({value:e,onChange:t}){const n=l=>{const s=l.target.value;s.length<=pn.MAX_TEXT_LENGTH&&t(s)},r=pn.MAX_TEXT_LENGTH-e.length;return o.jsxs("div",{className:"w-full",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text (optional)"}),o.jsx("textarea",{value:e,onChange:n,placeholder:"Add a description...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4}),o.jsxs("div",{className:"mt-1 text-sm text-gray-500 text-right",children:[r," characters remaining"]})]})}function lg({value:e,onChange:t}){const n=s=>{const i=new Date(s),a=i.getFullYear(),u=String(i.getMonth()+1).padStart(2,"0"),c=String(i.getDate()).padStart(2,"0"),m=String(i.getHours()).padStart(2,"0"),d=String(i.getMinutes()).padStart(2,"0");return`${a}-${u}-${c}T${m}:${d}`},r=s=>new Date(s).toISOString(),l=s=>{t(r(s.target.value))};return o.jsxs("div",{className:"space-y-2 overflow-hidden",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date and time"}),o.jsx("input",{type:"datetime-local",value:n(e),onChange:l,className:"w-full min-w-0 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent box-border text-base",style:{maxWidth:"100%"}})]})}function _u(){const{id:e}=Cp(),t=Ue(),n=Yr(),{user:r}=vt(),{updateArticle:l,deleteArticle:s}=lt(),{showToast:i}=Kr(),[a,u]=y.useState(""),[c,m]=y.useState(new Date().toISOString()),[d,p]=y.useState(null),[v,x]=y.useState(""),[S,k]=y.useState(!1),[h,f]=y.useState(!1),[g,j]=y.useState(!1),[w,E]=y.useState("ACTIVE"),C=!!e,b=w==="DELETED";y.useEffect(()=>{const B=n.state;if(B!=null&&B.famileoImport){const{text:O,date:A,imageBase64:me,imageMimeType:P}=B.famileoImport;u(O);const T=new Date(A.replace(" ","T"));if(isNaN(T.getTime())||m(T.toISOString()),me){const M=`data:${P};base64,${me}`;x(M),fetch(M).then($=>$.blob()).then($=>{const X=new File([$],"famileo-import.jpg",{type:P});p(X)})}window.history.replaceState({},document.title)}},[n.state]),y.useEffect(()=>{C&&U()},[e]);const U=async()=>{if(e){k(!0);try{const B=await ht.get(e);u(B.texte),m(B.date),x(B.image_url),E(B.status||"ACTIVE")}catch{i("Failed to load article","error"),t("/")}finally{k(!1)}}},z=(B,O)=>{p(B);const A=URL.createObjectURL(B);x(A),O&&!C&&m(O.toISOString())},Q=async()=>{if(!d&&!C){i("Please select a photo","error");return}if(r){f(!0);try{if(C&&e){const B=b?"ACTIVE":void 0,O=await Nt.updateArticle(e,a,d||void 0,c,void 0,void 0,B);l(O),i(b?"Article restored":"Article updated","success")}else d&&(await Nt.createArticle(r.email,a,d,c),i("Article created","success"));await J0.deleteDraft(e||"new"),t("/")}catch(B){i(B instanceof Error?B.message:"Failed to save article","error")}finally{f(!1)}}},H=()=>{v&&v.startsWith("blob:")&&URL.revokeObjectURL(v),t("/")},te=async()=>{if(e){f(!0);try{console.log("Deleting article:",e);const B=await Nt.deleteArticle(e);console.log("Delete result:",B),s(e),i("Article deleted","success"),t("/")}catch(B){console.error("Delete error:",B),i(B instanceof Error?B.message:"Failed to delete article","error")}finally{f(!1),j(!1)}}};return S?o.jsx(xn,{message:"Loading article..."}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(wn,{}),o.jsxs("div",{className:"flex-1 flex flex-col max-w-content mx-auto w-full bg-white",children:[o.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between flex-shrink-0",children:[o.jsx("button",{onClick:H,className:"text-gray-600 touch-manipulation",disabled:h,children:" Back"}),o.jsx("h1",{className:"text-lg font-semibold",children:C?"Edit Article":"New Article"}),o.jsx("div",{className:"w-12"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 space-y-6 pb-4",children:[o.jsx(ng,{onPhotoSelected:z,currentImage:v}),o.jsx(rg,{value:a,onChange:u}),o.jsx(lg,{value:c,onChange:m})]}),o.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2 flex-shrink-0",children:[o.jsx(Y,{onClick:Q,disabled:h||!d&&!C,fullWidth:!0,children:h?"Saving...":b?"Save and restore":C?"Update":"Create"}),o.jsx(Y,{variant:"secondary",onClick:()=>t("/photo-assembly",{state:{editMode:C,articleId:e,texte:a,dateModification:c}}),disabled:h,fullWidth:!0,children:"Use Photo Assembly"}),C&&!b&&o.jsx(Y,{variant:"danger",onClick:()=>j(!0),disabled:h,fullWidth:!0,children:"Delete Article"}),o.jsx(Y,{variant:"secondary",onClick:H,disabled:h,fullWidth:!0,children:"Cancel"})]}),o.jsx(gn,{isOpen:g,title:"Delete Article",message:"Are you sure you want to delete this article? This action cannot be undone.",confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",isLoading:h,onConfirm:te,onCancel:()=>j(!1)})]})]})}function sg(){const e=Ue(),t=lt(v=>v.setFilters),[n,r]=y.useState(!0),[l,s]=y.useState(null),[i,a]=y.useState([]),[u,c]=y.useState(Vo());y.useEffect(()=>{m()},[]);const m=async()=>{r(!0),s(null);try{const v=await ht.list({limit:"1000",status_filter:"all"}),x=new Map;v.items.forEach(k=>{const h=new Date(k.date),f=h.getFullYear(),g=h.getMonth(),j=k.status==="DELETED"?"deleted":"active";x.has(f)||x.set(f,{total:0,active:0,deleted:0,monthMap:new Map});const w=x.get(f);w.total+=1,w[j]+=1,w.monthMap.has(g)||w.monthMap.set(g,{total:0,active:0,deleted:0});const E=w.monthMap.get(g);E.total+=1,E[j]+=1});const S=Array.from(x.entries()).map(([k,h])=>({year:k,total:h.total,active:h.active,deleted:h.deleted,months:Array.from(h.monthMap.entries()).map(([f,g])=>({monthIndex:f,monthName:af[f],total:g.total,active:g.active,deleted:g.deleted})).sort((f,g)=>f.monthIndex-g.monthIndex)})).sort((k,h)=>h.year-k.year);if(a(S),S.length>0){const k=Vo(),h=S.some(f=>f.year===k);c(h?k:S[0].year)}}catch(v){s(v instanceof Error?v.message:"Failed to load statistics")}finally{r(!1)}},d=(v,x="active")=>{t({year:String(v),month:"",from:"",to:"",statusFilter:x,sourceFilter:"all"}),e("/")},p=(v,x,S="active")=>{t({year:String(v),month:String(x+1).padStart(2,"0"),from:"",to:"",statusFilter:S,sourceFilter:"all"}),e("/")};return n?o.jsx(xn,{message:"Loading statistics..."}):l?o.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:o.jsx(pf,{message:l,onRetry:m})}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(wn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Statistics"})]})}),o.jsx("div",{className:"flex-1 p-4 pb-20",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Year breakdown"}),o.jsxs("div",{className:"space-y-3",children:[i.map(v=>{const x=u===v.year;return o.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-gray-50",children:[o.jsxs("div",{role:"button",tabIndex:0,onClick:()=>c(x?null:v.year),onKeyDown:S=>{(S.key==="Enter"||S.key===" ")&&c(x?null:v.year)},className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-base font-semibold text-gray-900",children:v.year}),o.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[v.total," total  ",v.active," active  ",v.deleted," deleted"]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:()=>d(v.year,"active"),className:"text-xs font-medium text-primary-600 hover:text-primary-700",children:"View active"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>d(v.year,"deleted"),className:"text-xs font-medium text-red-600 hover:text-red-700",children:"View deleted"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>c(x?null:v.year),className:"text-xs font-medium text-gray-600 hover:text-gray-800",children:x?"Hide months":"Show months"})]})]}),x&&o.jsx("div",{className:"px-4 pb-3",children:o.jsxs("div",{className:"mt-2 space-y-2",children:[v.months.map(S=>o.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-900",children:S.monthName}),o.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[S.total," total  ",S.active," active  ",S.deleted," deleted"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>p(v.year,S.monthIndex,"active"),className:"text-xs font-medium text-primary-600 hover:text-primary-700",children:"View active"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>p(v.year,S.monthIndex,"deleted"),className:"text-xs font-medium text-red-600 hover:text-red-700",children:"View deleted"})]})]},`${v.year}-${S.monthIndex}`)),v.months.length===0&&o.jsx("div",{className:"text-sm text-gray-500",children:"No months found"})]})})]},v.year)}),i.length===0&&o.jsx("div",{className:"text-sm text-gray-500",children:"No statistics available"})]})]})})]})}const El=[{id:"2x1-vertical",name:"21 Vertical",zones:[{x:0,y:0,width:100,height:50},{x:0,y:50,width:100,height:50}]},{id:"2x1-horizontal",name:"21 Horizontal",zones:[{x:0,y:0,width:50,height:100},{x:50,y:0,width:50,height:100}]},{id:"4x4-grid",name:"44 Grid",zones:[{x:0,y:0,width:50,height:50},{x:50,y:0,width:50,height:50},{x:0,y:50,width:50,height:50},{x:50,y:50,width:50,height:50}]},{id:"3-plus-2",name:"3 + 2",zones:[{x:0,y:0,width:100,height:33.33},{x:0,y:33.33,width:100,height:33.33},{x:0,y:66.66,width:50,height:33.34},{x:50,y:66.66,width:50,height:33.34}]},{id:"3-plus-2-plus-2",name:"3 + 2 + 2",zones:[{x:0,y:0,width:100,height:40},{x:0,y:40,width:50,height:30},{x:50,y:40,width:50,height:30},{x:0,y:70,width:50,height:30},{x:50,y:70,width:50,height:30}]}];class bu{constructor(t,n){gs(this,"state");this.state={templateId:t,photos:[],zoneStates:Array(n).fill(null).map(()=>({photoIndex:-1,zoom:1,x:0,y:0}))}}addPhoto(t){return this.state.photos.push(t),this.state.photos.length-1}assignPhotoToZone(t,n){n>=0&&n<this.state.zoneStates.length&&(this.state.zoneStates[n].photoIndex=t)}updateZoneTransform(t,n){if(t>=0&&t<this.state.zoneStates.length){const r=this.state.zoneStates[t];n.zoom!==void 0&&(r.zoom=n.zoom),n.x!==void 0&&(r.x=n.x),n.y!==void 0&&(r.y=n.y)}}getState(){return{...this.state}}getPhotoForZone(t){const n=this.state.zoneStates[t];return n.photoIndex>=0&&n.photoIndex<this.state.photos.length?this.state.photos[n.photoIndex]:null}isComplete(){return this.state.zoneStates.every(t=>t.photoIndex>=0)}serialize(){return{templateId:this.state.templateId,zoneStates:this.state.zoneStates}}}function og({selectedTemplateId:e,onSelect:t}){return o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Select Layout"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:El.map(n=>o.jsx("button",{onClick:()=>t(n),className:`aspect-square border-2 rounded-lg p-2 transition-colors touch-manipulation ${n.id===e?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:o.jsx("div",{className:"text-xs text-center font-medium text-gray-700",children:n.name})},n.id))})]})}function ig({template:e,stateManager:t,onZoneClick:n}){const r=y.useRef(null),[l,s]=y.useState(new Map);y.useEffect(()=>{i()},[t]),y.useEffect(()=>{a()},[e,l]);const i=async()=>{const c=new Map,m=t.getState();for(let d=0;d<m.photos.length;d++){const p=m.photos[d],v=new Image,x=URL.createObjectURL(p);await new Promise(S=>{v.onload=()=>{c.set(d,v),S()},v.src=x})}s(c)},a=()=>{const c=r.current;if(!c)return;const m=c.getContext("2d");if(!m)return;const d=c.width,p=c.height;m.fillStyle="#f3f4f6",m.fillRect(0,0,d,p);const v=t.getState();e.zones.forEach((x,S)=>{const k=v.zoneStates[S],h=l.get(k.photoIndex),f=x.x/100*d,g=x.y/100*p,j=x.width/100*d,w=x.height/100*p;if(m.strokeStyle="#d1d5db",m.lineWidth=2,m.strokeRect(f,g,j,w),h){m.save(),m.beginPath(),m.rect(f,g,j,w),m.clip();const E=k.zoom,C=h.width*E,b=h.height*E,U=f+k.x+(j-C)/2,z=g+k.y+(w-b)/2;m.drawImage(h,U,z,C,b),m.restore()}else m.fillStyle="#e5e7eb",m.fillRect(f+2,g+2,j-4,w-4),m.fillStyle="#9ca3af",m.textAlign="center",m.textBaseline="middle",m.font="14px sans-serif",m.fillText("+",f+j/2,g+w/2)})},u=c=>{const m=r.current;if(!m)return;const d=m.getBoundingClientRect(),p=(c.clientX-d.left)/d.width*100,v=(c.clientY-d.top)/d.height*100,x=e.zones.findIndex(S=>p>=S.x&&p<=S.x+S.width&&v>=S.y&&v<=S.y+S.height);x>=0&&n(x)};return o.jsx("div",{className:"w-full bg-gray-100 rounded-lg overflow-hidden",children:o.jsx("canvas",{ref:r,width:pn.TARGET_IMAGE_WIDTH_PX,height:pn.TARGET_IMAGE_WIDTH_PX,onClick:u,className:"w-full h-auto cursor-pointer touch-manipulation"})})}function ag({zoneIndex:e,stateManager:t,onUpdate:n,onClose:r}){const s=t.getState().zoneStates[e],[i,a]=y.useState(s.zoom),u=m=>{a(m),t.updateZoneTransform(e,{zoom:m}),n()},c=()=>{t.updateZoneTransform(e,{zoom:1,x:0,y:0}),a(1),n()};return o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg z-20",children:o.jsxs("div",{className:"max-w-mobile mx-auto space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Zone ",e+1]}),o.jsx("button",{onClick:r,className:"text-gray-600 hover:text-gray-900",children:""})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-600 mb-2",children:["Zoom: ",i.toFixed(1),"x"]}),o.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:i,onChange:m=>u(parseFloat(m.target.value)),className:"w-full"})]}),o.jsx("button",{onClick:c,className:"w-full px-4 py-2 bg-gray-200 text-gray-900 rounded-lg hover:bg-gray-300",children:"Reset Zone"})]})})}function ug({onAddPhoto:e,onValidate:t,onCancel:n,isValid:r}){return o.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2",children:[o.jsx(Y,{onClick:e,variant:"secondary",fullWidth:!0,children:"Add Photo"}),o.jsx(Y,{onClick:t,disabled:!r,fullWidth:!0,children:"Validate Assembly"}),o.jsx(Y,{onClick:n,variant:"secondary",fullWidth:!0,children:"Cancel"})]})}function cg({onComplete:e,onCancel:t}){Ue();const{showToast:n}=Kr(),r=y.useRef(null),[l,s]=y.useState(El[0]),[i,a]=y.useState(()=>new bu(El[0].id,El[0].zones.length)),[u,c]=y.useState(null),[m,d]=y.useState(0),p=f=>{s(f),a(new bu(f.id,f.zones.length)),c(null),d(g=>g+1)},v=()=>{var f;(f=r.current)==null||f.click()},x=f=>{const g=Array.from(f.target.files||[]);if(g.length===0)return;const j=g[0],w=i.addPhoto(j),C=i.getState().zoneStates.findIndex(b=>b.photoIndex===-1);C>=0&&(i.assignPhotoToZone(w,C),d(b=>b+1)),f.target.value=""},S=f=>{c(f)},k=()=>{d(f=>f+1)},h=async()=>{if(!i.isComplete()){n("Please fill all zones","error");return}try{const f=document.querySelector("canvas");if(!f){n("Failed to generate image","error");return}const g=await b0(f,.9),j=i.serialize();e(g,j)}catch{n("Failed to create assembly","error")}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center sticky top-0 z-10",children:[o.jsx("button",{onClick:t,className:"text-gray-600 touch-manipulation",children:" Back"}),o.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Photo Assembly"})]}),o.jsxs("div",{className:"flex-1 pb-32",children:[o.jsx(og,{selectedTemplateId:l.id,onSelect:p}),o.jsx("div",{className:"p-4",children:o.jsx(ig,{template:l,stateManager:i,onZoneClick:S},m)})]}),u!==null&&o.jsx(ag,{zoneIndex:u,stateManager:i,onUpdate:k,onClose:()=>c(null)}),o.jsx(ug,{onAddPhoto:v,onValidate:h,onCancel:t,isValid:i.isComplete()}),o.jsx("input",{ref:r,type:"file",accept:"image/*",capture:"environment",onChange:x,className:"hidden"})]})}function dg(){var d,p,v,x;const e=Ue(),t=Yr(),{user:n}=vt(),{updateArticle:r}=lt(),{showToast:l}=Kr(),s=((d=t.state)==null?void 0:d.editMode)||!1,i=(p=t.state)==null?void 0:p.articleId,a=((v=t.state)==null?void 0:v.texte)||"",u=((x=t.state)==null?void 0:x.dateModification)||new Date().toISOString(),c=async(S,k)=>{if(n)try{const h=`data:image/jpeg;base64,${S}`,g=await(await fetch(h)).blob(),j=new File([g],"assembled.jpg",{type:"image/jpeg"});if(s&&i){const w=await Nt.updateArticle(i,a,j,u,k);r(w),l("Article updated","success")}else await Nt.createArticle(n.name,a,j,u,void 0,k),l("Article created","success");e("/")}catch(h){l(h instanceof Error?h.message:"Failed to save article","error")}},m=()=>{e(s&&i?`/editor/${i}`:"/editor")};return o.jsx(cg,{onComplete:c,onCancel:m})}function fg(e){if(!e||e.startsWith("blob:")||e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w2000`}return e}function mg(){const e=Ue(),{user:t,logout:n}=vt(),{showToast:r}=Kr(),{profile:l,isLoading:s,saveProfile:i,avatarBlobUrl:a}=Qi(),[u,c]=y.useState(""),[m,d]=y.useState(null),[p,v]=y.useState(""),[x,S]=y.useState(!1);y.useEffect(()=>{l?(c(l.pseudo),v(a||l.avatar_url)):t&&c(t.name)},[l,t,a]);const k=g=>{var E;const j=(E=g.target.files)==null?void 0:E[0];if(!j)return;d(j);const w=URL.createObjectURL(j);v(w)},h=async()=>{if(!u.trim()){r("Please enter a pseudo","error");return}S(!0);try{await i(u.trim(),m||void 0),r("Profile saved","success"),e("/")}catch{r("Failed to save profile","error")}finally{S(!1)}},f=()=>{n()};return s?o.jsx(xn,{message:"Loading profile..."}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(wn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile"})]})}),o.jsxs("div",{className:"flex-1 p-4 space-y-6 pb-32 max-w-md mx-auto w-full",children:[o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsxs("div",{className:"relative",children:[p?o.jsx("img",{src:fg(p),alt:"Avatar",className:"w-32 h-32 rounded-full object-cover border-4 border-primary-200"}):o.jsx("div",{className:"w-32 h-32 rounded-full bg-primary-100 flex items-center justify-center border-4 border-primary-200",children:o.jsx("span",{className:"text-4xl font-semibold text-primary-600",children:u.charAt(0).toUpperCase()||"?"})}),o.jsx("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:o.jsxs("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o.jsx("path",{d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),o.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:k,className:"hidden"})]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Click to change avatar"})]}),o.jsx("div",{children:o.jsx(Ur,{label:"Pseudo",value:u,onChange:g=>c(g.target.value),placeholder:"Enter your pseudo"})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backend URL"}),o.jsx("input",{type:"text",value:"https://script.google.com/macros/s/AKfycbyBK-9iXQ7bXvd26EN4qCz6DT2V_Z9pniGS2qrLaBP7pqXIQ29hGtmnQj2PP2LYCPHf/exec",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600 text-xs"})]})]}),o.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2 sticky bottom-0",children:[o.jsx(Y,{onClick:h,disabled:x||!u.trim(),fullWidth:!0,children:x?"Saving...":"Save Profile"}),o.jsx(Y,{variant:"danger",onClick:f,disabled:x,fullWidth:!0,children:"Logout"})]})]})}const jn={status:()=>se.get("famileo/status"),posts:e=>se.get("famileo/posts",e),image:e=>se.get("famileo/image",{url:encodeURIComponent(e)}),triggerRefresh:()=>se.get("famileo/trigger-refresh"),families:()=>se.get("famileo/families"),importedIds:()=>se.get("famileo/imported-ids")};function hg({post:e,selected:t,onSelectionChange:n,onImageLoaded:r,cachedImage:l,alreadyImported:s}){const[i,a]=y.useState(!1),[u,c]=y.useState(null),[m,d]=y.useState(!1);y.useEffect(()=>{if(l){c(`data:${l.mimeType};base64,${l.base64}`);return}(async()=>{if(!(u||i||m)){a(!0);try{const x=await jn.image(e.image_url);c(`data:${x.mimeType};base64,${x.base64}`),r(e.id,x.base64,x.mimeType)}catch{d(!0)}finally{a(!1)}}})()},[e.id,e.image_url,l]);const p=e.author_pseudo.split(" ").map(v=>v[0]).join("").toUpperCase().substring(0,2);return o.jsx("div",{className:"px-4",children:o.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border-2 transition-colors ${t?"border-primary-500 bg-primary-50":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("input",{type:"checkbox",checked:t,onChange:v=>n(v.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 flex-shrink-0"}),o.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-sm font-semibold text-orange-700",children:p})}),o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:e.author_pseudo}),o.jsx("span",{className:"text-sm text-gray-500",children:gf(e.date)})]})]}),s&&o.jsx("div",{className:"flex-shrink-0 ml-2",children:o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[o.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Imported"]})})]}),o.jsxs("div",{className:"w-full bg-gray-100 relative min-h-[200px]",children:[i&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),m&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:o.jsx("p",{className:"text-sm",children:"Failed to load image"})}),u&&o.jsx("img",{src:u,alt:"",className:"w-full h-auto object-contain"})]}),e.text&&o.jsx("div",{className:"p-4",children:o.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:e.text})}),o.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-100 text-xs text-gray-500",children:[o.jsxs("span",{children:["ID: ",e.id]}),o.jsx("span",{className:"mx-2",children:"|"}),o.jsx("span",{children:e.image_orientation})]})]})})}function pg(){const e=Ue(),{user:t}=vt(),[n,r]=y.useState(""),[l,s]=y.useState(""),[i,a]=y.useState([]),[u,c]=y.useState(!1),[m,d]=y.useState(null),[p,v]=y.useState(new Set),[x,S]=y.useState({}),[k,h]=y.useState(!1),[f,g]=y.useState(null),[j,w]=y.useState(!1),[E,C]=y.useState(null),[b,U]=y.useState([]),[z,Q]=y.useState(""),[H,te]=y.useState(!0),[B,O]=y.useState(new Set),[A,me]=y.useState(!1);y.useEffect(()=>{(async()=>{try{const[W,Z]=await Promise.all([jn.families(),jn.importedIds()]);U(W.families),W.families.length>0&&Q(W.families[0].famileo_id),O(new Set(Z.ids))}catch(W){console.error("Failed to load initial data:",W)}finally{te(!1)}})()},[]);const P=async()=>{if(!n||!l){d("Please select both start and end dates");return}c(!0),d(null),C(null),a([]),v(new Set),S({});try{const I=[];let W=!0;const Z=new Date(n+"T00:00:00").getTime(),ve=new Date(l+"T23:59:59").getTime();let Qe=new Date(l+"T23:59:59.999Z").toISOString();for(console.log("Famileo fetch - startDate:",n,"endDate:",l),console.log("Famileo fetch - startTs:",new Date(Z).toISOString(),"endTs:",new Date(ve).toISOString()),console.log("Famileo fetch - initial timestamp:",Qe);W;){console.log("Famileo fetch - calling API with timestamp:",Qe);const D=await jn.posts({limit:"50",timestamp:Qe,family_id:z||void 0});console.log("Famileo fetch - got",D.posts.length,"posts, has_more:",D.has_more,"next_timestamp:",D.next_timestamp);for(const F of D.posts){const Se=new Date(F.date).getTime();Se>=Z&&Se<=ve&&I.push(F)}if(D.next_timestamp){const F=new Date(D.next_timestamp).getTime();console.log("Famileo fetch - nextTs:",new Date(F).toISOString(),"startTs:",new Date(Z).toISOString(),"continue?",F>=Z),F>=Z?Qe=D.next_timestamp:(console.log("Famileo fetch - stopping, next page before start date"),W=!1)}else console.log("Famileo fetch - stopping, no next_timestamp"),W=!1}a(I),I.length===0&&d("No posts found in this date range")}catch(I){d(I instanceof Error?I.message:"Failed to fetch posts")}finally{c(!1)}},T=()=>{e("/")},M=(I,W)=>{v(Z=>{const ve=new Set(Z);return W?ve.add(I):ve.delete(I),ve})},$=(I,W,Z)=>{S(ve=>({...ve,[I]:{base64:W,mimeType:Z}}))},X=()=>{p.size===i.length?v(new Set):v(new Set(i.map(I=>I.id)))},ct=async()=>{if(!t||p.size===0)return;const I=i.filter(W=>p.has(W.id));I.sort((W,Z)=>new Date(W.date).getTime()-new Date(Z.date).getTime()),h(!0),g({current:0,total:I.length,currentPostText:""});try{for(let W=0;W<I.length;W++){const Z=I[W];g({current:W+1,total:I.length,currentPostText:Z.text.substring(0,50)+(Z.text.length>50?"...":"")});let ve="",Qe="image/jpeg";const D=await jn.image(Z.full_image_url);ve=D.base64,Qe=D.mimeType;const F=`data:${Qe};base64,${ve}`,Se=await fetch(F).then(R=>R.blob()),tt=new File([Se],"famileo-import.jpg",{type:Qe}),qt=new Date(Z.date.replace(" ","T")),N=isNaN(qt.getTime())?new Date().toISOString():qt.toISOString();await Nt.createArticle(Z.author_email,Z.text,tt,N,String(Z.id)),O(R=>new Set([...R,String(Z.id)])),W<I.length-1&&await new Promise(R=>setTimeout(R,500))}v(new Set),C(`Successfully created ${I.length} article${I.length>1?"s":""}`)}catch(W){d(W instanceof Error?W.message:"Failed to create articles")}finally{h(!1),g(null)}},we=async()=>{w(!0),C(null),d(null);try{const I=await jn.triggerRefresh();C(I.message)}catch(I){d(I instanceof Error?I.message:"Failed to trigger refresh")}finally{w(!1)}},ue=p.size;return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(wn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:T,className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",disabled:k,children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Famileo Scraper"})]}),o.jsxs("button",{onClick:we,disabled:j||k,className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation disabled:opacity-50",title:"Refresh Famileo session",children:[o.jsx("svg",{className:`w-4 h-4 ${j?"animate-spin":""}`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),o.jsx("span",{children:j?"Refreshing...":"Refresh Session"})]})]})}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[b.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Family"}),o.jsx("select",{value:z,onChange:I=>Q(I.target.value),disabled:u||k||H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white",children:b.map(I=>o.jsx("option",{value:I.famileo_id,children:I.name},I.id))})]}),H&&o.jsx("div",{className:"text-sm text-gray-500",children:"Loading families..."}),!H&&b.length===0&&o.jsx("div",{className:"text-sm text-amber-600",children:'No family configured. Add families in the "families" sheet.'}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),o.jsx("input",{type:"date",value:n,onChange:I=>r(I.target.value),disabled:u||k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white appearance-none"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),o.jsx("input",{type:"date",value:l,onChange:I=>s(I.target.value),disabled:u||k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white appearance-none"})]})]}),o.jsx("button",{onClick:P,disabled:u||k||H||!n||!l||!z&&b.length>0,className:"w-full py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors touch-manipulation",children:H?"Loading families...":u?"Loading...":"Get Posts"})]})}),k&&f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 mx-4 max-w-sm w-full shadow-xl",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Creating Articles"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[f.current," / ",f.total]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:o.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all duration-300",style:{width:`${f.current/f.total*100}%`}})})]}),o.jsx("p",{className:"text-sm text-gray-500 truncate",children:f.currentPostText})]})}),E&&o.jsx("div",{className:"mx-4 mt-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:E}),m&&o.jsx("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:m}),u&&o.jsx("div",{className:"flex-1 flex items-center justify-center py-12",children:o.jsx("div",{className:"w-10 h-10 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),!u&&i.length>0&&o.jsxs("div",{className:"flex-1 py-4 pb-24",children:[o.jsxs("div",{className:"px-4 mb-3 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-500",children:[i.length," post",i.length>1?"s":""," found",ue>0&&o.jsxs("span",{className:"ml-2 text-primary-600 font-medium",children:["(",ue," selected)"]})]}),o.jsx("button",{onClick:X,disabled:k,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:p.size===i.length?"Deselect All":"Select All"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"hideImported",checked:A,onChange:I=>me(I.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("label",{htmlFor:"hideImported",className:"text-sm text-gray-600",children:["Hide already imported posts (",i.filter(I=>B.has(String(I.id))).length,")"]})]})]}),o.jsx("div",{className:"space-y-4",children:i.filter(I=>!A||!B.has(String(I.id))).map(I=>o.jsx(hg,{post:I,selected:p.has(I.id),onSelectionChange:W=>M(I.id,W),onImageLoaded:$,cachedImage:x[I.id],alreadyImported:B.has(String(I.id))},I.id))})]}),!u&&i.length>0&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-20",children:o.jsx("div",{className:"max-w-content mx-auto",children:o.jsxs("button",{onClick:ct,disabled:ue===0||k,className:"w-full py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors touch-manipulation flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 4v16m8-8H4"})}),ue>0?`Bulk Create (${ue})`:"Select posts to create"]})})})]})}const zt={create:e=>se.post("pdf/create",e),process:e=>se.get("pdf/process",{job_id:e}),status:e=>se.get("pdf/status",{job_id:e}),list:e=>{const t=e?{date_from:e.date_from,date_to:e.date_to,author:e.author,include_in_progress:e.include_in_progress?"true":void 0}:void 0;return se.get("pdf/list",t)},delete:e=>se.post("pdf/delete",{job_id:e}),cancel:e=>se.post("pdf/cancel",{job_id:e})},gg=()=>{try{const e=localStorage.getItem("user");return e&&JSON.parse(e).email||"me"}catch{return"me"}},vg=()=>{try{const e=localStorage.getItem("user");return e&&JSON.parse(e).name||null}catch{return null}},yg=e=>e==="PENDING"||e==="RUNNING"||e==="DONE"||e==="ERROR"||e==="CANCELLED"?e:"PENDING",Ki=Yi((e,t)=>({isGenerating:!1,jobId:null,progress:0,progressMessage:"",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:null,startGeneration:async(n,r,l,s)=>{e({isGenerating:!0,jobId:null,progress:0,progressMessage:"Starting...",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:s||null});try{const i=await zt.create({from:n,to:r,options:l}),a=new Date().toISOString(),u=gg(),c=vg()||u.split("@")[0],m=new Date(n).getFullYear(),d={job_id:i.job_id,created_at:a,created_by:u,created_by_pseudo:c,year:m,date_from:n,date_to:r,status:yg(i.status),progress:i.progress,progress_message:i.progress_message,pdf_url:i.pdf_url,pdf_file_id:i.pdf_file_id};return i.status==="DONE"&&i.pdf_url?(e({isGenerating:!1,progress:100,progressMessage:"Done!",pdfUrl:i.pdf_url,showSuccess:!0}),s&&s(),d):i.status==="ERROR"?(e({isGenerating:!1,error:"PDF generation failed",progressMessage:""}),null):(e({isGenerating:!1,jobId:i.job_id}),zt.process(i.job_id).catch(()=>{}),s&&s(),d)}catch(i){return e({isGenerating:!1,error:i instanceof Error?i.message:"Error while generating PDF",progressMessage:""}),null}},pollJobStatus:async n=>{try{const r=await zt.status(n);if(e({progress:r.progress||0,progressMessage:r.progress_message||""}),r.status==="DONE"){const l=t().onCompleteCallback;e({isGenerating:!1,pdfUrl:r.pdf_url||null,showSuccess:!0}),l&&l()}else r.status==="ERROR"?e({isGenerating:!1,error:r.error_message||"PDF generation failed"}):setTimeout(()=>t().pollJobStatus(n),1e3)}catch(r){e({isGenerating:!1,error:r instanceof Error?r.message:"Error while tracking job"})}},setLastCompletedJob:n=>{e({lastCompletedJob:n,showSuccess:n!==null,pdfUrl:(n==null?void 0:n.pdf_url)||null})},dismissSuccess:()=>{e({showSuccess:!1,pdfUrl:null,lastCompletedJob:null})},dismissError:()=>{e({error:null})},reset:()=>{e({isGenerating:!1,jobId:null,progress:0,progressMessage:"",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:null})}}));function xg({isOpen:e,onClose:t,onComplete:n}){const{startGeneration:r,isGenerating:l}=Ki(),[s,i]=y.useState("dates"),[a,u]=y.useState(""),[c,m]=y.useState(""),[d,p]=y.useState(!1),[v,x]=y.useState(null),[S,k]=y.useState([]),[h,f]=y.useState(0),[g,j]=y.useState("full"),[w,E]=y.useState(!0),[C,b]=y.useState(0),[U,z]=y.useState(!1),Q=()=>{i("dates"),u(""),m(""),k([]),f(0),x(null),j("full"),E(!0),b(0),z(!1)},H=()=>{Q(),t()},te=async()=>{if(!a||!c){x("Please select a start and end date");return}if(c<a){x("End date cannot be earlier than start date");return}p(!0),x(null);try{const O=[];let A=null;do{const T=await ht.list({from:a,to:c,limit:"100",cursor:A||void 0,status_filter:"active"});O.push(...T.items),A=T.next_cursor}while(A);const me=new Map;for(const T of O){const M=T.date.substring(0,7),$=vf(T.date);me.has(M)?me.get(M).count++:me.set(M,{label:$,count:1})}const P=Array.from(me.entries()).sort((T,M)=>T[0].localeCompare(M[0])).map(([T,M])=>({key:T,label:M.label,count:M.count}));k(P),f(O.length),b(O.length),O.length===0?x("No articles found for this period"):i("preview")}catch(O){x(O instanceof Error?O.message:"Error while loading")}finally{p(!1)}},B=async()=>{const O=await r(a,c,{mosaic_layout:g,show_seasonal_fruits:w,max_mosaic_photos:C>0?C:void 0,keep_temp:U});Q(),t(),n(O)};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:H}),o.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[s==="dates"&&"Select date range",s==="preview"&&"Article preview",s==="options"&&"Generation options"]}),o.jsx("button",{onClick:H,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[v&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:v}),s==="dates"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start date"}),o.jsx("input",{type:"date",value:a,onChange:O=>{const A=O.target.value;u(A),c&&A&&c<A&&m(A),v&&x(null)},disabled:d,max:c||void 0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End date"}),o.jsx("input",{type:"date",value:c,onChange:O=>{const A=O.target.value;m(A),a&&A&&A<a&&u(A),v&&x(null)},disabled:d,min:a||void 0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100"})]})]}),s==="preview"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-primary-50 rounded-lg p-4",children:o.jsxs("p",{className:"text-primary-800",children:[o.jsx("span",{className:"font-semibold text-primary-900",children:h})," article",h>1?"s":""," ","sur"," ",o.jsx("span",{className:"font-semibold text-primary-900",children:S.length})," mois"]})}),o.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-3 py-2 border-b border-gray-200",children:o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Monthly breakdown"})}),o.jsx("ul",{className:"divide-y divide-gray-100 max-h-48 overflow-y-auto",children:S.map(O=>o.jsxs("li",{className:"px-3 py-2 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:O.label}),o.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded text-xs font-medium",children:O.count})]},O.key))})]})]}),s==="options"&&o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover photos"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"range",min:1,max:h,value:C||h,onChange:O=>b(parseInt(O.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-12 text-right",children:C||h})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Number of photos in the cover mosaic"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month divider style"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>j("full"),className:`flex-1 py-2.5 px-3 rounded-lg border text-sm transition-colors ${g==="full"?"border-primary-500 bg-primary-50 text-primary-700 font-medium":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:"Full mosaic"}),o.jsx("button",{onClick:()=>j("centered"),className:`flex-1 py-2.5 px-3 rounded-lg border text-sm transition-colors ${g==="centered"?"border-primary-500 bg-primary-50 text-primary-700 font-medium":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:"Centered mosaic"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:w,onChange:O=>E(O.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Seasonal fruits & vegetables"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Decorations around month dividers"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:U,onChange:O=>z(O.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Keep temporary PDF files"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Preserve intermediate PDFs and show a folder link"})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm text-gray-600",children:[o.jsx("strong",{children:h})," articles from"," ",o.jsx("strong",{children:new Date(a).toLocaleDateString("fr-FR")})," to"," ",o.jsx("strong",{children:new Date(c).toLocaleDateString("fr-FR")})]})]})]}),o.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex gap-3",children:[s==="dates"&&o.jsxs(o.Fragment,{children:[o.jsx(Y,{variant:"secondary",onClick:H,fullWidth:!0,children:"Cancel"}),o.jsx(Y,{onClick:te,disabled:!a||!c||d,fullWidth:!0,children:d?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Searching..."]}):"Next"})]}),s==="preview"&&o.jsxs(o.Fragment,{children:[o.jsx(Y,{variant:"secondary",onClick:()=>i("dates"),fullWidth:!0,children:"Back"}),o.jsx(Y,{onClick:()=>i("options"),fullWidth:!0,children:"Next"})]}),s==="options"&&o.jsxs(o.Fragment,{children:[o.jsx(Y,{variant:"secondary",onClick:()=>i("preview"),fullWidth:!0,children:"Back"}),o.jsxs(Y,{onClick:B,disabled:l,fullWidth:!0,children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Generate PDF"]})]})]})]})]}):null}const wg=vt;function Sg(){const e=Ue(),{user:t}=wg(),{profile:n}=Qi(),[r,l]=y.useState([]),[s,i]=y.useState(!0),[a,u]=y.useState(null),[c,m]=y.useState(""),[d,p]=y.useState(""),[v,x]=y.useState("created_at"),[S,k]=y.useState("desc"),[h,f]=y.useState([]),[g,j]=y.useState(!1),[w,E]=y.useState(new Set),[C,b]=y.useState(null),[U,z]=y.useState(!1),[Q,H]=y.useState(!1),[te,B]=y.useState(null),[O,A]=y.useState(!1),me=y.useCallback(async()=>{i(!0),u(null);try{const N=await zt.list({include_in_progress:!0});l(N.items||[]),f(N.authors||[])}catch(N){u(N instanceof Error?N.message:"Failed to load PDF list")}finally{i(!1)}},[]);y.useEffect(()=>{me()},[me]);const[P,T]=y.useState(new Map),{setLastCompletedJob:M}=Ki(),$=r.filter(N=>N.status==="PENDING"||N.status==="RUNNING"),X=r.filter(N=>N.status==="DONE"||N.status==="ERROR"||N.status==="CANCELLED");y.useEffect(()=>{if($.length===0)return;const N=setInterval(async()=>{const R=await Promise.all($.map(async ne=>{try{return{...await zt.status(ne.job_id),job_id:ne.job_id}}catch{return null}}));l(ne=>ne.map(Le=>{const Ce=R.find(Zr=>Zr&&Zr.job_id===Le.job_id);return Ce?{...Le,status:Ce.status,progress:Ce.progress,progress_message:Ce.progress_message,pdf_url:Ce.pdf_url,error_message:Ce.error_message}:Le}))},2e3);return()=>clearInterval(N)},[$.length]),y.useEffect(()=>{const N=new Map(r.map(R=>[R.job_id,R.status]));for(const[R,ne]of P){const Le=N.get(R);if((ne==="PENDING"||ne==="RUNNING")&&Le==="DONE"){const Ce=r.find(Zr=>Zr.job_id===R);Ce&&M(Ce)}}T(N)},[r,P,M]);const ct=Array.from(new Set(r.map(N=>N.year).filter(Boolean))).sort((N,R)=>R-N),we=N=>{if(!N)return 0;const R=new Date(N);return isNaN(R.getTime())?0:R.getTime()},ue=X.filter(N=>!c||N.year===parseInt(c)).filter(N=>!d||N.created_by===d).sort((N,R)=>{let ne=0;return v==="created_at"?ne=we(N.created_at)-we(R.created_at):v==="date_from"?ne=we(N.date_from)-we(R.date_from):v==="created_by"&&(ne=(N.created_by||"").localeCompare(R.created_by||"")),S==="desc"?-ne:ne}),I=()=>{e("/")},W=N=>{try{return new Date(N).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return N}},Z=(N,R)=>{try{const ne=new Date(N),Le=new Date(R),Ce={day:"2-digit",month:"short",year:"numeric"};return`${ne.toLocaleDateString("fr-FR",Ce)}  ${Le.toLocaleDateString("fr-FR",Ce)}`}catch{return`${N}  ${R}`}},ve=y.useCallback((N,R)=>{var Le;return R||(N?t!=null&&t.email&&(n!=null&&n.pseudo)&&N===t.email?n.pseudo:((Le=r.find(Ce=>Ce.created_by===N))==null?void 0:Le.created_by_pseudo)||N.split("@")[0]:"Unknown")},[r,n==null?void 0:n.pseudo,t==null?void 0:t.email]),Qe=N=>{const R=new Set(w);R.has(N)?R.delete(N):R.add(N),E(R)},D=()=>{w.size===ue.length?E(new Set):E(new Set(ue.map(N=>N.job_id)))},F=async()=>{if(C){H(!0);try{await zt.delete(C),l(N=>N.filter(R=>R.job_id!==C)),b(null)}catch(N){u(N instanceof Error?N.message:"Failed to delete PDF")}finally{H(!1)}}},Se=async()=>{if(w.size!==0){H(!0);try{for(const N of w)await zt.delete(N);l(N=>N.filter(R=>!w.has(R.job_id))),E(new Set),j(!1),z(!1)}catch(N){u(N instanceof Error?N.message:"Failed to delete PDFs")}finally{H(!1)}}},tt=N=>{A(!1),N&&(l(R=>{const ne=R.findIndex(Ce=>Ce.job_id===N.job_id);if(ne===-1)return[N,...R];const Le=[...R];return Le[ne]={...Le[ne],...N},Le}),f(R=>N.created_by&&!R.includes(N.created_by)?[...R,N.created_by]:R))},qt=async N=>{B(N);try{await zt.cancel(N),l(R=>R.map(ne=>ne.job_id===N?{...ne,status:"CANCELLED",progress_message:"Cancelled"}:ne))}catch(R){u(R instanceof Error?R.message:"Failed to cancel PDF generation")}finally{B(null)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(wn,{}),o.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[g?o.jsx("div",{className:"w-9 h-9"}):o.jsx("button",{onClick:I,className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 flex-1",children:g?`${w.size} selected`:"Generated PDFs"}),o.jsxs("div",{className:"flex items-center gap-4",children:[g&&o.jsx("button",{onClick:D,className:"text-primary-600 hover:text-primary-700 touch-manipulation text-sm font-medium",children:w.size===ue.length?"Deselect all":"Select all"}),ue.length>0&&o.jsx(yf,{checked:g,onChange:N=>{j(N),N||E(new Set)},label:"Select"})]})]}),o.jsx("div",{className:"flex items-center gap-2 mt-3 h-11 overflow-x-auto",children:g?o.jsx("span",{className:"text-sm text-gray-500",children:"Select PDFs to delete"}):o.jsxs(o.Fragment,{children:[o.jsxs("select",{value:c,onChange:N=>m(N.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[o.jsx("option",{value:"",children:"Year"}),ct.map(N=>o.jsx("option",{value:N,children:N},N))]}),h.length>1&&o.jsxs("select",{value:d,onChange:N=>p(N.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 max-w-32 truncate",children:[o.jsx("option",{value:"",children:"Author"}),h.map(N=>o.jsx("option",{value:N,children:ve(N)},N))]}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden text-xs",children:[o.jsxs("button",{onClick:()=>{v==="created_at"?k(S==="desc"?"asc":"desc"):(x("created_at"),k("desc"))},className:`px-3 py-2.5 font-medium transition-colors flex items-center gap-1 ${v==="created_at"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Created",v==="created_at"&&o.jsx("span",{className:"text-[10px]",children:S==="desc"?"":""})]}),o.jsxs("button",{onClick:()=>{v==="date_from"?k(S==="desc"?"asc":"desc"):(x("date_from"),k("desc"))},className:`px-3 py-2.5 font-medium border-l border-gray-300 transition-colors flex items-center gap-1 ${v==="date_from"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Period",v==="date_from"&&o.jsx("span",{className:"text-[10px]",children:S==="desc"?"":""})]}),o.jsxs("button",{onClick:()=>{v==="created_by"?k(S==="desc"?"asc":"desc"):(x("created_by"),k("asc"))},className:`px-3 py-2.5 font-medium border-l border-gray-300 transition-colors flex items-center gap-1 ${v==="created_by"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Author",v==="created_by"&&o.jsx("span",{className:"text-[10px]",children:S==="desc"?"":""})]})]}),o.jsxs("span",{className:"text-sm text-gray-500 ml-auto",children:[ue.length," PDF",ue.length>1?"s":""]})]})})]}),a&&o.jsxs("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[a,o.jsx("button",{onClick:()=>u(null),className:"ml-2 text-red-500 hover:text-red-700",children:""})]}),o.jsx("div",{className:"flex-1 p-4 pb-24",children:s?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):$.length===0&&ue.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("p",{className:"text-gray-500 mb-2",children:c?"No PDFs for this year":"No PDFs generated"}),o.jsx(Y,{onClick:()=>A(!0),variant:"primary",children:"Create my first PDF"})]}):o.jsxs(o.Fragment,{children:[$.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Generating"}),o.jsx("div",{className:"space-y-3",children:$.map(N=>o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:o.jsxs("svg",{className:"w-5 h-5 text-blue-600 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-gray-900",children:Z(N.date_from,N.date_to)}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("div",{className:"flex-1 h-1.5 bg-blue-200 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300",style:{width:`${N.progress||0}%`}})}),o.jsxs("span",{className:"text-xs text-blue-600 font-medium w-8",children:[N.progress||0,"%"]})]}),o.jsx("p",{className:"text-xs text-blue-500 mt-0.5",children:N.progress_message||"Pending..."}),o.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["by ",ve(N.created_by,N.created_by_pseudo)]}),N.temp_folder_url&&o.jsx("a",{href:N.temp_folder_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 mt-0.5 inline-flex",onClick:R=>R.stopPropagation(),children:"Temporary folder"})]}),o.jsx("button",{onClick:()=>qt(N.job_id),disabled:te===N.job_id,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Cancel",children:te===N.job_id?o.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})},N.job_id))})]}),ue.length>0&&o.jsxs("div",{children:[$.length>0&&o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Generated"}),o.jsx("div",{className:"space-y-3",children:ue.map(N=>o.jsx("div",{onClick:()=>g&&Qe(N.job_id),className:`bg-white rounded-lg shadow-sm border transition-colors ${g?w.has(N.job_id)?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300":"border-gray-200"} p-4 ${g?"cursor-pointer":""}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[g&&o.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 mt-0.5 ${w.has(N.job_id)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:w.has(N.job_id)&&o.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M5 13l4 4L19 7"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-medium text-gray-900",children:Z(N.date_from,N.date_to)}),N.status==="ERROR"&&o.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-red-100 text-red-700 rounded",children:"Error"}),N.status==="CANCELLED"&&o.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded",children:"Cancelled"})]}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Created on ",W(N.created_at)]}),N.status==="ERROR"&&N.error_message&&o.jsx("p",{className:"text-xs text-red-500 mt-0.5 truncate",title:N.error_message,children:N.error_message}),o.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["by ",ve(N.created_by,N.created_by_pseudo)]}),N.temp_folder_url&&o.jsx("a",{href:N.temp_folder_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 mt-0.5 inline-flex",onClick:R=>R.stopPropagation(),children:"Temporary folder"})]}),!g&&o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[N.pdf_url&&o.jsx("a",{href:N.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Voir le PDF",onClick:R=>R.stopPropagation(),children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),o.jsx("button",{onClick:R=>{R.stopPropagation(),b(N.job_id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},N.job_id))})]})]})}),g&&w.size>0&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 z-50 shadow-lg",children:o.jsxs("div",{className:"max-w-content mx-auto flex items-center justify-between gap-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[w.size," PDF",w.size>1?"s":""," selected"]}),o.jsx("button",{onClick:()=>z(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Delete"})]})}),!g&&o.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-30",children:o.jsx("div",{className:"max-w-content mx-auto px-4 flex justify-end",children:o.jsx(hf,{onClick:()=>A(!0),className:"bg-primary-600 hover:bg-primary-700 active:bg-primary-800 transition-all hover:scale-105 active:scale-95",icon:o.jsx("svg",{className:"w-8 h-8",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 4v16m8-8H4"})})})})}),o.jsx(xg,{isOpen:O,onClose:()=>A(!1),onComplete:tt}),o.jsx(gn,{isOpen:!!C,title:"Delete PDF?",message:"The PDF will be permanently deleted from Google Drive.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:F,onCancel:()=>b(null),variant:"danger",isLoading:Q}),o.jsx(gn,{isOpen:U,title:`Delete ${w.size} PDF${w.size>1?"s":""}?`,message:"Selected PDFs will be permanently deleted from Google Drive.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:Se,onCancel:()=>z(!1),variant:"danger",isLoading:Q})]})}const Pu={get:e=>se.get("config/get",{key:e}),set:(e,t)=>se.post("config/set",{key:e,value:t})};function jg(){const e=Ue(),{showToast:t}=Kr(),[n,r]=y.useState(""),[l,s]=y.useState(!0),[i,a]=y.useState(!1);y.useEffect(()=>{u()},[]);const u=async()=>{try{const m=await Pu.get("family_name");r(m.value||"")}catch{t("Error while loading","error")}finally{s(!1)}},c=async()=>{a(!0);try{await Pu.set("family_name",n.trim()),t("Configuration saved","success"),e("/")}catch{t("Error while saving","error")}finally{a(!1)}};return l?o.jsx(xn,{message:"Loading..."}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(wn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Settings"})]})}),o.jsx("div",{className:"flex-1 p-4 space-y-6 pb-32 max-w-md mx-auto w-full",children:o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"PDF cover page"}),o.jsx(Ur,{label:"Family name",value:n,onChange:m=>r(m.target.value),placeholder:"e.g., Dupont family"}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Appears on the PDF cover title."})]})}),o.jsx("div",{className:"bg-white border-t border-gray-200 p-4 sticky bottom-0",children:o.jsx(Y,{onClick:c,disabled:i,fullWidth:!0,children:i?"Saving...":"Save"})})]})}const kg="modulepreload",Ng=function(e){return"/"+e},Lu={},Cg=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));l=Promise.allSettled(n.map(u=>{if(u=Ng(u),u in Lu)return;Lu[u]=!0;const c=u.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":kg,c||(d.as="script"),d.crossOrigin="",d.href=u,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((p,v)=>{d.addEventListener("load",p),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return l.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function Eg(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:l,onRegisteredSW:s,onRegisterError:i}=e;let a,u,c;const m=async(p=!0)=>{await u,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(a=await Cg(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:p}},[]).then(({Workbox:p})=>new p("/sw.js",{scope:"/",type:"classic"})).catch(p=>{i==null||i(p)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let p=!1;const v=()=>{p=!0,a==null||a.addEventListener("controlling",x=>{x.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",x=>{typeof x.isUpdate>"u"?typeof x.isExternal<"u"?x.isExternal?v():!p&&(r==null||r()):x.isExternal?window.location.reload():!p&&(r==null||r()):x.isUpdate||r==null||r()}),a.addEventListener("waiting",v),a.addEventListener("externalwaiting",v)}a.register({immediate:t}).then(p=>{s?s("/sw.js",p):l==null||l(p)}).catch(p=>{i==null||i(p)})}}return u=d(),m}function _g(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:l,onRegisteredSW:s,onRegisterError:i}=e,[a,u]=y.useState(!1),[c,m]=y.useState(!1),[d]=y.useState(()=>Eg({immediate:t,onOfflineReady(){m(!0),r==null||r()},onNeedRefresh(){u(!0),n==null||n()},onRegistered:l,onRegisteredSW:s,onRegisterError:i}));return{needRefresh:[a,u],offlineReady:[c,m],updateServiceWorker:d}}function bg(){const{needRefresh:[e],updateServiceWorker:t}=_g({onRegistered(n){console.log("SW Registered:",n),n&&setInterval(()=>{n.update()},3e4)},onRegisterError(n){console.log("SW registration error",n)}});return e?o.jsxs("div",{className:"fixed bottom-20 left-4 right-4 z-50 bg-primary-600 text-white p-4 rounded-lg shadow-lg flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"New version available"}),o.jsx("button",{onClick:()=>t(!0),className:"bg-white text-primary-600 px-4 py-2 rounded-md text-sm font-semibold",children:"Update"})]}):null}function Pg(){const{error:e,pdfUrl:t,showSuccess:n,lastCompletedJob:r,dismissSuccess:l,dismissError:s}=Ki();if(!n&&!e)return null;const i=(a,u)=>{try{const c=new Date(a),m=new Date(u),d={day:"2-digit",month:"short",year:"numeric"};return`${c.toLocaleDateString("fr-FR",d)} - ${m.toLocaleDateString("fr-FR",d)}`}catch{return`${a} - ${u}`}};return o.jsxs("div",{className:"fixed bottom-20 left-4 right-4 z-50 max-w-md mx-auto",children:[n&&t&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg shadow-lg p-4 animate-slide-up",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-green-800",children:"PDF generated successfully!"}),r&&o.jsx("p",{className:"text-xs text-green-600 mt-0.5",children:i(r.date_from,r.date_to)}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View"]}),o.jsx("button",{onClick:l,className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-green-700 hover:bg-green-100 rounded-lg transition-colors",children:"Close"})]})]}),o.jsx("button",{onClick:l,className:"text-green-400 hover:text-green-600",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})}),e&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 animate-slide-up",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:"Generation error"}),o.jsx("p",{className:"text-xs text-red-600 mt-0.5",children:e})]}),o.jsx("button",{onClick:s,className:"text-red-400 hover:text-red-600",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})]})}function Lg(){return o.jsx(Hp,{children:o.jsxs(Kp,{children:[o.jsx(bg,{}),o.jsx(Pg,{}),o.jsx("div",{className:"min-h-screen max-w-content mx-auto bg-white",children:o.jsxs(Bp,{children:[o.jsx(Ye,{path:"/auth",element:o.jsx(Xp,{})}),o.jsx(Ye,{path:"/",element:o.jsx(yt,{children:o.jsx(A0,{})})}),o.jsx(Ye,{path:"/editor",element:o.jsx(yt,{children:o.jsx(_u,{})})}),o.jsx(Ye,{path:"/editor/:id",element:o.jsx(yt,{children:o.jsx(_u,{})})}),o.jsx(Ye,{path:"/stats",element:o.jsx(yt,{children:o.jsx(sg,{})})}),o.jsx(Ye,{path:"/photo-assembly",element:o.jsx(yt,{children:o.jsx(dg,{})})}),o.jsx(Ye,{path:"/profile",element:o.jsx(yt,{children:o.jsx(mg,{})})}),o.jsx(Ye,{path:"/famileo",element:o.jsx(yt,{children:o.jsx(pg,{})})}),o.jsx(Ye,{path:"/pdf-export",element:o.jsx(yt,{children:o.jsx(Sg,{})})}),o.jsx(Ye,{path:"/settings",element:o.jsx(yt,{children:o.jsx(jg,{})})}),o.jsx(Ye,{path:"*",element:o.jsx(rf,{to:"/",replace:!0})})]})})]})})}Ys.createRoot(document.getElementById("root")).render(o.jsx(ei.StrictMode,{children:o.jsx(Vp,{children:o.jsx(Lg,{})})}));
