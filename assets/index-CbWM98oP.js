var Cf=Object.defineProperty;var Ef=(e,t,n)=>t in e?Cf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ys=(e,t,n)=>Ef(e,typeof t!="symbol"?t+"":t,n);function _f(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function zu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mu={exports:{}},es={},Fu={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hr=Symbol.for("react.element"),bf=Symbol.for("react.portal"),Pf=Symbol.for("react.fragment"),Lf=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),Tf=Symbol.for("react.provider"),If=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),zf=Symbol.for("react.suspense"),Mf=Symbol.for("react.memo"),Ff=Symbol.for("react.lazy"),ea=Symbol.iterator;function Af(e){return e===null||typeof e!="object"?null:(e=ea&&e[ea]||e["@@iterator"],typeof e=="function"?e:null)}var Au={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ou=Object.assign,Uu={};function Jn(e,t,n){this.props=e,this.context=t,this.refs=Uu,this.updater=n||Au}Jn.prototype.isReactComponent={};Jn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bu(){}Bu.prototype=Jn.prototype;function qo(e,t,n){this.props=e,this.context=t,this.refs=Uu,this.updater=n||Au}var ei=qo.prototype=new Bu;ei.constructor=qo;Ou(ei,Jn.prototype);ei.isPureReactComponent=!0;var ta=Array.isArray,$u=Object.prototype.hasOwnProperty,ti={current:null},Wu={key:!0,ref:!0,__self:!0,__source:!0};function Vu(e,t,n){var r,l={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)$u.call(t,r)&&!Wu.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:Hr,type:e,key:s,ref:i,props:l,_owner:ti.current}}function Of(e,t){return{$$typeof:Hr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ni(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hr}function Uf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var na=/\/+/g;function ws(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Uf(""+e.key):t.toString(36)}function xl(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Hr:case bf:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+ws(i,0):r,ta(l)?(n="",e!=null&&(n=e.replace(na,"$&/")+"/"),xl(l,t,n,"",function(c){return c})):l!=null&&(ni(l)&&(l=Of(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(na,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",ta(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+ws(s,a);i+=xl(s,t,n,u,l)}else if(u=Af(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+ws(s,a++),i+=xl(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function el(e,t,n){if(e==null)return e;var r=[],l=0;return xl(e,r,"","",function(s){return t.call(n,s,l++)}),r}function Bf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},vl={transition:null},$f={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:vl,ReactCurrentOwner:ti};function Hu(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:el,forEach:function(e,t,n){el(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return el(e,function(){t++}),t},toArray:function(e){return el(e,function(t){return t})||[]},only:function(e){if(!ni(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Jn;V.Fragment=Pf;V.Profiler=Df;V.PureComponent=qo;V.StrictMode=Lf;V.Suspense=zf;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$f;V.act=Hu;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ou({},e.props),l=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=ti.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)$u.call(t,u)&&!Wu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Hr,type:e.type,key:l,ref:s,props:r,_owner:i}};V.createContext=function(e){return e={$$typeof:If,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Tf,_context:e},e.Consumer=e};V.createElement=Vu;V.createFactory=function(e){var t=Vu.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:Rf,render:e}};V.isValidElement=ni;V.lazy=function(e){return{$$typeof:Ff,_payload:{_status:-1,_result:e},_init:Bf}};V.memo=function(e,t){return{$$typeof:Mf,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=vl.transition;vl.transition={};try{e()}finally{vl.transition=t}};V.unstable_act=Hu;V.useCallback=function(e,t){return Re.current.useCallback(e,t)};V.useContext=function(e){return Re.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};V.useEffect=function(e,t){return Re.current.useEffect(e,t)};V.useId=function(){return Re.current.useId()};V.useImperativeHandle=function(e,t,n){return Re.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return Re.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Re.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Re.current.useMemo(e,t)};V.useReducer=function(e,t,n){return Re.current.useReducer(e,t,n)};V.useRef=function(e){return Re.current.useRef(e)};V.useState=function(e){return Re.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return Re.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return Re.current.useTransition()};V.version="18.3.1";Fu.exports=V;var v=Fu.exports;const ri=zu(v),Wf=_f({__proto__:null,default:ri},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf=v,Hf=Symbol.for("react.element"),Gf=Symbol.for("react.fragment"),Qf=Object.prototype.hasOwnProperty,Yf=Vf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kf={key:!0,ref:!0,__self:!0,__source:!0};function Gu(e,t,n){var r,l={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Qf.call(t,r)&&!Kf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Hf,type:e,key:s,ref:i,props:l,_owner:Yf.current}}es.Fragment=Gf;es.jsx=Gu;es.jsxs=Gu;Mu.exports=es;var o=Mu.exports,Xs={},Qu={exports:{}},Ge={},Yu={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,D){var R=P.length;P.push(D);e:for(;0<R;){var B=R-1>>>1,K=P[B];if(0<l(K,D))P[B]=D,P[R]=K,R=B;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var D=P[0],R=P.pop();if(R!==D){P[0]=R;e:for(var B=0,K=P.length,rt=K>>>1;B<rt;){var je=2*(B+1)-1,ce=P[je],T=je+1,W=P[T];if(0>l(ce,R))T<K&&0>l(W,ce)?(P[B]=W,P[T]=R,B=T):(P[B]=ce,P[je]=R,B=je);else if(T<K&&0>l(W,R))P[B]=W,P[T]=R,B=T;else break e}}return D}function l(P,D){var R=P.sortIndex-D.sortIndex;return R!==0?R:P.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var u=[],c=[],m=1,d=null,p=3,x=!1,y=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=P)r(c),D.sortIndex=D.expirationTime,t(u,D);else break;D=n(c)}}function S(P){if(j=!1,g(P),!y)if(n(u)!==null)y=!0,F(w);else{var D=n(c);D!==null&&he(S,D.startTime-P)}}function w(P,D){y=!1,j&&(j=!1,h(E),E=-1),x=!0;var R=p;try{for(g(D),d=n(u);d!==null&&(!(d.expirationTime>D)||P&&!Q());){var B=d.callback;if(typeof B=="function"){d.callback=null,p=d.priorityLevel;var K=B(d.expirationTime<=D);D=e.unstable_now(),typeof K=="function"?d.callback=K:d===n(u)&&r(u),g(D)}else r(u);d=n(u)}if(d!==null)var rt=!0;else{var je=n(c);je!==null&&he(S,je.startTime-D),rt=!1}return rt}finally{d=null,p=R,x=!1}}var _=!1,C=null,E=-1,A=5,M=-1;function Q(){return!(e.unstable_now()-M<A)}function H(){if(C!==null){var P=e.unstable_now();M=P;var D=!0;try{D=C(!0,P)}finally{D?ne():(_=!1,C=null)}}else _=!1}var ne;if(typeof f=="function")ne=function(){f(H)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,O=$.port2;$.port1.onmessage=H,ne=function(){O.postMessage(null)}}else ne=function(){k(H,0)};function F(P){C=P,_||(_=!0,ne())}function he(P,D){E=k(function(){P(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,F(w))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var R=p;p=D;try{return P()}finally{p=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var R=p;p=P;try{return D()}finally{p=R}},e.unstable_scheduleCallback=function(P,D,R){var B=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?B+R:B):R=B,P){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=R+K,P={id:m++,callback:D,priorityLevel:P,startTime:R,expirationTime:K,sortIndex:-1},R>B?(P.sortIndex=R,t(c,P),n(u)===null&&P===n(c)&&(j?(h(E),E=-1):j=!0,he(S,R-B))):(P.sortIndex=K,t(u,P),y||x||(y=!0,F(w))),P},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(P){var D=p;return function(){var R=p;p=D;try{return P.apply(this,arguments)}finally{p=R}}}})(Ku);Yu.exports=Ku;var Zf=Yu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf=v,He=Zf;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zu=new Set,Cr={};function yn(e,t){Vn(e,t),Vn(e+"Capture",t)}function Vn(e,t){for(Cr[e]=t,e=0;e<t.length;e++)Zu.add(t[e])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Js=Object.prototype.hasOwnProperty,Jf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ra={},la={};function qf(e){return Js.call(la,e)?!0:Js.call(ra,e)?!1:Jf.test(e)?la[e]=!0:(ra[e]=!0,!1)}function em(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tm(e,t,n,r){if(t===null||typeof t>"u"||em(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,r,l,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var li=/[\-:]([a-z])/g;function si(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(li,si);Ce[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(li,si);Ce[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(li,si);Ce[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function oi(e,t,n,r){var l=Ce.hasOwnProperty(t)?Ce[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tm(t,n,l,r)&&(n=null),r||l===null?qf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dt=Xf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tl=Symbol.for("react.element"),En=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),ii=Symbol.for("react.strict_mode"),qs=Symbol.for("react.profiler"),Xu=Symbol.for("react.provider"),Ju=Symbol.for("react.context"),ai=Symbol.for("react.forward_ref"),eo=Symbol.for("react.suspense"),to=Symbol.for("react.suspense_list"),ui=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),qu=Symbol.for("react.offscreen"),sa=Symbol.iterator;function rr(e){return e===null||typeof e!="object"?null:(e=sa&&e[sa]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,js;function fr(e){if(js===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);js=t&&t[1]||""}return`
`+js+e}var Ss=!1;function ks(e,t){if(!e||Ss)return"";Ss=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),i=l.length-1,a=s.length-1;1<=i&&0<=a&&l[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(l[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||l[i]!==s[a]){var u=`
`+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=a);break}}}finally{Ss=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fr(e):""}function nm(e){switch(e.tag){case 5:return fr(e.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 2:case 15:return e=ks(e.type,!1),e;case 11:return e=ks(e.type.render,!1),e;case 1:return e=ks(e.type,!0),e;default:return""}}function no(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _n:return"Fragment";case En:return"Portal";case qs:return"Profiler";case ii:return"StrictMode";case eo:return"Suspense";case to:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ju:return(e.displayName||"Context")+".Consumer";case Xu:return(e._context.displayName||"Context")+".Provider";case ai:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ui:return t=e.displayName||null,t!==null?t:no(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return no(e(t))}catch{}}return null}function rm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return no(t);case 8:return t===ii?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ec(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lm(e){var t=ec(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nl(e){e._valueTracker||(e._valueTracker=lm(e))}function tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ec(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ro(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function oa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nc(e,t){t=t.checked,t!=null&&oi(e,"checked",t,!1)}function lo(e,t){nc(e,t);var n=Zt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?so(e,t.type,n):t.hasOwnProperty("defaultValue")&&so(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ia(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function so(e,t,n){(t!=="number"||Ll(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mr=Array.isArray;function An(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function oo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function aa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(b(92));if(mr(n)){if(1<n.length)throw Error(b(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zt(n)}}function rc(e,t){var n=Zt(t.value),r=Zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ua(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function io(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rl,sc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rl=rl||document.createElement("div"),rl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sm=["Webkit","ms","Moz","O"];Object.keys(gr).forEach(function(e){sm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gr[t]=gr[e]})});function oc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gr.hasOwnProperty(e)&&gr[e]?(""+t).trim():t+"px"}function ic(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=oc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var om=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ao(e,t){if(t){if(om[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function uo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=null;function ci(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fo=null,On=null,Un=null;function ca(e){if(e=Yr(e)){if(typeof fo!="function")throw Error(b(280));var t=e.stateNode;t&&(t=ss(t),fo(e.stateNode,e.type,t))}}function ac(e){On?Un?Un.push(e):Un=[e]:On=e}function uc(){if(On){var e=On,t=Un;if(Un=On=null,ca(e),t)for(e=0;e<t.length;e++)ca(t[e])}}function cc(e,t){return e(t)}function dc(){}var Ns=!1;function fc(e,t,n){if(Ns)return e(t,n);Ns=!0;try{return cc(e,t,n)}finally{Ns=!1,(On!==null||Un!==null)&&(dc(),uc())}}function _r(e,t){var n=e.stateNode;if(n===null)return null;var r=ss(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(b(231,t,typeof n));return n}var mo=!1;if(_t)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){mo=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{mo=!1}function im(e,t,n,r,l,s,i,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var xr=!1,Dl=null,Tl=!1,ho=null,am={onError:function(e){xr=!0,Dl=e}};function um(e,t,n,r,l,s,i,a,u){xr=!1,Dl=null,im.apply(am,arguments)}function cm(e,t,n,r,l,s,i,a,u){if(um.apply(this,arguments),xr){if(xr){var c=Dl;xr=!1,Dl=null}else throw Error(b(198));Tl||(Tl=!0,ho=c)}}function wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function da(e){if(wn(e)!==e)throw Error(b(188))}function dm(e){var t=e.alternate;if(!t){if(t=wn(e),t===null)throw Error(b(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return da(l),e;if(s===r)return da(l),t;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=l,r=s;else{for(var i=!1,a=l.child;a;){if(a===n){i=!0,n=l,r=s;break}if(a===r){i=!0,r=l,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=l;break}if(a===r){i=!0,r=s,n=l;break}a=a.sibling}if(!i)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?e:t}function hc(e){return e=dm(e),e!==null?pc(e):null}function pc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pc(e);if(t!==null)return t;e=e.sibling}return null}var gc=He.unstable_scheduleCallback,fa=He.unstable_cancelCallback,fm=He.unstable_shouldYield,mm=He.unstable_requestPaint,de=He.unstable_now,hm=He.unstable_getCurrentPriorityLevel,di=He.unstable_ImmediatePriority,xc=He.unstable_UserBlockingPriority,Il=He.unstable_NormalPriority,pm=He.unstable_LowPriority,vc=He.unstable_IdlePriority,ts=null,xt=null;function gm(e){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(ts,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:ym,xm=Math.log,vm=Math.LN2;function ym(e){return e>>>=0,e===0?32:31-(xm(e)/vm|0)|0}var ll=64,sl=4194304;function hr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~l;a!==0?r=hr(a):(s&=i,s!==0&&(r=hr(s)))}else i=n&~l,i!==0?r=hr(i):s!==0&&(r=hr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ct(t),l=1<<n,r|=e[n],t&=~l;return r}function wm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-ct(s),a=1<<i,u=l[i];u===-1?(!(a&n)||a&r)&&(l[i]=wm(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function po(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=ll;return ll<<=1,!(ll&4194240)&&(ll=64),e}function Cs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=n}function Sm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-ct(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function fi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ct(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Z=0;function wc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jc,mi,Sc,kc,Nc,go=!1,ol=[],$t=null,Wt=null,Vt=null,br=new Map,Pr=new Map,Mt=[],km="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ma(e,t){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":br.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(t.pointerId)}}function sr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Yr(t),t!==null&&mi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Nm(e,t,n,r,l){switch(t){case"focusin":return $t=sr($t,e,t,n,r,l),!0;case"dragenter":return Wt=sr(Wt,e,t,n,r,l),!0;case"mouseover":return Vt=sr(Vt,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return br.set(s,sr(br.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,Pr.set(s,sr(Pr.get(s)||null,e,t,n,r,l)),!0}return!1}function Cc(e){var t=ln(e.target);if(t!==null){var n=wn(t);if(n!==null){if(t=n.tag,t===13){if(t=mc(n),t!==null){e.blockedOn=t,Nc(e.priority,function(){Sc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);co=r,n.target.dispatchEvent(r),co=null}else return t=Yr(n),t!==null&&mi(t),e.blockedOn=n,!1;t.shift()}return!0}function ha(e,t,n){yl(e)&&n.delete(t)}function Cm(){go=!1,$t!==null&&yl($t)&&($t=null),Wt!==null&&yl(Wt)&&(Wt=null),Vt!==null&&yl(Vt)&&(Vt=null),br.forEach(ha),Pr.forEach(ha)}function or(e,t){e.blockedOn===t&&(e.blockedOn=null,go||(go=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Cm)))}function Lr(e){function t(l){return or(l,e)}if(0<ol.length){or(ol[0],e);for(var n=1;n<ol.length;n++){var r=ol[n];r.blockedOn===e&&(r.blockedOn=null)}}for($t!==null&&or($t,e),Wt!==null&&or(Wt,e),Vt!==null&&or(Vt,e),br.forEach(t),Pr.forEach(t),n=0;n<Mt.length;n++)r=Mt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&(n=Mt[0],n.blockedOn===null);)Cc(n),n.blockedOn===null&&Mt.shift()}var Bn=Dt.ReactCurrentBatchConfig,zl=!0;function Em(e,t,n,r){var l=Z,s=Bn.transition;Bn.transition=null;try{Z=1,hi(e,t,n,r)}finally{Z=l,Bn.transition=s}}function _m(e,t,n,r){var l=Z,s=Bn.transition;Bn.transition=null;try{Z=4,hi(e,t,n,r)}finally{Z=l,Bn.transition=s}}function hi(e,t,n,r){if(zl){var l=xo(e,t,n,r);if(l===null)zs(e,t,r,Ml,n),ma(e,r);else if(Nm(l,e,t,n,r))r.stopPropagation();else if(ma(e,r),t&4&&-1<km.indexOf(e)){for(;l!==null;){var s=Yr(l);if(s!==null&&jc(s),s=xo(e,t,n,r),s===null&&zs(e,t,r,Ml,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else zs(e,t,r,null,n)}}var Ml=null;function xo(e,t,n,r){if(Ml=null,e=ci(r),e=ln(e),e!==null)if(t=wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ml=e,null}function Ec(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hm()){case di:return 1;case xc:return 4;case Il:case pm:return 16;case vc:return 536870912;default:return 16}default:return 16}}var Ot=null,pi=null,wl=null;function _c(){if(wl)return wl;var e,t=pi,n=t.length,r,l="value"in Ot?Ot.value:Ot.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[s-r];r++);return wl=l.slice(e,1<r?1-r:void 0)}function jl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function il(){return!0}function pa(){return!1}function Qe(e){function t(n,r,l,s,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?il:pa,this.isPropagationStopped=pa,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),t}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Qe(qn),Qr=ie({},qn,{view:0,detail:0}),bm=Qe(Qr),Es,_s,ir,ns=ie({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&e.type==="mousemove"?(Es=e.screenX-ir.screenX,_s=e.screenY-ir.screenY):_s=Es=0,ir=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:_s}}),ga=Qe(ns),Pm=ie({},ns,{dataTransfer:0}),Lm=Qe(Pm),Dm=ie({},Qr,{relatedTarget:0}),bs=Qe(Dm),Tm=ie({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Im=Qe(Tm),Rm=ie({},qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zm=Qe(Rm),Mm=ie({},qn,{data:0}),xa=Qe(Mm),Fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Um(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Om[e])?!!t[e]:!1}function xi(){return Um}var Bm=ie({},Qr,{key:function(e){if(e.key){var t=Fm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Am[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function(e){return e.type==="keypress"?jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$m=Qe(Bm),Wm=ie({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),va=Qe(Wm),Vm=ie({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),Hm=Qe(Vm),Gm=ie({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qm=Qe(Gm),Ym=ie({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Km=Qe(Ym),Zm=[9,13,27,32],vi=_t&&"CompositionEvent"in window,vr=null;_t&&"documentMode"in document&&(vr=document.documentMode);var Xm=_t&&"TextEvent"in window&&!vr,bc=_t&&(!vi||vr&&8<vr&&11>=vr),ya=" ",wa=!1;function Pc(e,t){switch(e){case"keyup":return Zm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bn=!1;function Jm(e,t){switch(e){case"compositionend":return Lc(t);case"keypress":return t.which!==32?null:(wa=!0,ya);case"textInput":return e=t.data,e===ya&&wa?null:e;default:return null}}function qm(e,t){if(bn)return e==="compositionend"||!vi&&Pc(e,t)?(e=_c(),wl=pi=Ot=null,bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bc&&t.locale!=="ko"?null:t.data;default:return null}}var eh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eh[e.type]:t==="textarea"}function Dc(e,t,n,r){ac(r),t=Fl(t,"onChange"),0<t.length&&(n=new gi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yr=null,Dr=null;function th(e){$c(e,0)}function rs(e){var t=Dn(e);if(tc(t))return e}function nh(e,t){if(e==="change")return t}var Tc=!1;if(_t){var Ps;if(_t){var Ls="oninput"in document;if(!Ls){var Sa=document.createElement("div");Sa.setAttribute("oninput","return;"),Ls=typeof Sa.oninput=="function"}Ps=Ls}else Ps=!1;Tc=Ps&&(!document.documentMode||9<document.documentMode)}function ka(){yr&&(yr.detachEvent("onpropertychange",Ic),Dr=yr=null)}function Ic(e){if(e.propertyName==="value"&&rs(Dr)){var t=[];Dc(t,Dr,e,ci(e)),fc(th,t)}}function rh(e,t,n){e==="focusin"?(ka(),yr=t,Dr=n,yr.attachEvent("onpropertychange",Ic)):e==="focusout"&&ka()}function lh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rs(Dr)}function sh(e,t){if(e==="click")return rs(t)}function oh(e,t){if(e==="input"||e==="change")return rs(t)}function ih(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:ih;function Tr(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Js.call(t,l)||!ft(e[l],t[l]))return!1}return!0}function Na(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ca(e,t){var n=Na(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Na(n)}}function Rc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zc(){for(var e=window,t=Ll();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ll(e.document)}return t}function yi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ah(e){var t=zc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rc(n.ownerDocument.documentElement,n)){if(r!==null&&yi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=Ca(n,s);var i=Ca(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uh=_t&&"documentMode"in document&&11>=document.documentMode,Pn=null,vo=null,wr=null,yo=!1;function Ea(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yo||Pn==null||Pn!==Ll(r)||(r=Pn,"selectionStart"in r&&yi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wr&&Tr(wr,r)||(wr=r,r=Fl(vo,"onSelect"),0<r.length&&(t=new gi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pn)))}function al(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ln={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionend:al("Transition","TransitionEnd")},Ds={},Mc={};_t&&(Mc=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function ls(e){if(Ds[e])return Ds[e];if(!Ln[e])return e;var t=Ln[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mc)return Ds[e]=t[n];return e}var Fc=ls("animationend"),Ac=ls("animationiteration"),Oc=ls("animationstart"),Uc=ls("transitionend"),Bc=new Map,_a="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){Bc.set(e,t),yn(t,[e])}for(var Ts=0;Ts<_a.length;Ts++){var Is=_a[Ts],ch=Is.toLowerCase(),dh=Is[0].toUpperCase()+Is.slice(1);Jt(ch,"on"+dh)}Jt(Fc,"onAnimationEnd");Jt(Ac,"onAnimationIteration");Jt(Oc,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(Uc,"onTransitionEnd");Vn("onMouseEnter",["mouseout","mouseover"]);Vn("onMouseLeave",["mouseout","mouseover"]);Vn("onPointerEnter",["pointerout","pointerover"]);Vn("onPointerLeave",["pointerout","pointerover"]);yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fh=new Set("cancel close invalid load scroll toggle".split(" ").concat(pr));function ba(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,cm(r,t,void 0,e),e.currentTarget=null}function $c(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&l.isPropagationStopped())break e;ba(l,a,c),s=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&l.isPropagationStopped())break e;ba(l,a,c),s=u}}}if(Tl)throw e=ho,Tl=!1,ho=null,e}function ee(e,t){var n=t[No];n===void 0&&(n=t[No]=new Set);var r=e+"__bubble";n.has(r)||(Wc(t,e,2,!1),n.add(r))}function Rs(e,t,n){var r=0;t&&(r|=4),Wc(n,e,r,t)}var ul="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){if(!e[ul]){e[ul]=!0,Zu.forEach(function(n){n!=="selectionchange"&&(fh.has(n)||Rs(n,!1,e),Rs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ul]||(t[ul]=!0,Rs("selectionchange",!1,t))}}function Wc(e,t,n,r){switch(Ec(t)){case 1:var l=Em;break;case 4:l=_m;break;default:l=hi}n=l.bind(null,t,n,e),l=void 0,!mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function zs(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;i=i.return}for(;a!==null;){if(i=ln(a),i===null)return;if(u=i.tag,u===5||u===6){r=s=i;continue e}a=a.parentNode}}r=r.return}fc(function(){var c=s,m=ci(n),d=[];e:{var p=Bc.get(e);if(p!==void 0){var x=gi,y=e;switch(e){case"keypress":if(jl(n)===0)break e;case"keydown":case"keyup":x=$m;break;case"focusin":y="focus",x=bs;break;case"focusout":y="blur",x=bs;break;case"beforeblur":case"afterblur":x=bs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Hm;break;case Fc:case Ac:case Oc:x=Im;break;case Uc:x=Qm;break;case"scroll":x=bm;break;case"wheel":x=Km;break;case"copy":case"cut":case"paste":x=zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=va}var j=(t&4)!==0,k=!j&&e==="scroll",h=j?p!==null?p+"Capture":null:p;j=[];for(var f=c,g;f!==null;){g=f;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,h!==null&&(S=_r(f,h),S!=null&&j.push(Rr(f,S,g)))),k)break;f=f.return}0<j.length&&(p=new x(p,y,null,n,m),d.push({event:p,listeners:j}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",p&&n!==co&&(y=n.relatedTarget||n.fromElement)&&(ln(y)||y[bt]))break e;if((x||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=c,y=y?ln(y):null,y!==null&&(k=wn(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=c),x!==y)){if(j=ga,S="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(j=va,S="onPointerLeave",h="onPointerEnter",f="pointer"),k=x==null?p:Dn(x),g=y==null?p:Dn(y),p=new j(S,f+"leave",x,n,m),p.target=k,p.relatedTarget=g,S=null,ln(m)===c&&(j=new j(h,f+"enter",y,n,m),j.target=g,j.relatedTarget=k,S=j),k=S,x&&y)t:{for(j=x,h=y,f=0,g=j;g;g=Nn(g))f++;for(g=0,S=h;S;S=Nn(S))g++;for(;0<f-g;)j=Nn(j),f--;for(;0<g-f;)h=Nn(h),g--;for(;f--;){if(j===h||h!==null&&j===h.alternate)break t;j=Nn(j),h=Nn(h)}j=null}else j=null;x!==null&&Pa(d,p,x,j,!1),y!==null&&k!==null&&Pa(d,k,y,j,!0)}}e:{if(p=c?Dn(c):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var w=nh;else if(ja(p))if(Tc)w=oh;else{w=lh;var _=rh}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=sh);if(w&&(w=w(e,c))){Dc(d,w,n,m);break e}_&&_(e,p,c),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&so(p,"number",p.value)}switch(_=c?Dn(c):window,e){case"focusin":(ja(_)||_.contentEditable==="true")&&(Pn=_,vo=c,wr=null);break;case"focusout":wr=vo=Pn=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":yo=!1,Ea(d,n,m);break;case"selectionchange":if(uh)break;case"keydown":case"keyup":Ea(d,n,m)}var C;if(vi)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else bn?Pc(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(bc&&n.locale!=="ko"&&(bn||E!=="onCompositionStart"?E==="onCompositionEnd"&&bn&&(C=_c()):(Ot=m,pi="value"in Ot?Ot.value:Ot.textContent,bn=!0)),_=Fl(c,E),0<_.length&&(E=new xa(E,e,null,n,m),d.push({event:E,listeners:_}),C?E.data=C:(C=Lc(n),C!==null&&(E.data=C)))),(C=Xm?Jm(e,n):qm(e,n))&&(c=Fl(c,"onBeforeInput"),0<c.length&&(m=new xa("onBeforeInput","beforeinput",null,n,m),d.push({event:m,listeners:c}),m.data=C))}$c(d,t)})}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=_r(e,n),s!=null&&r.unshift(Rr(e,s,l)),s=_r(e,t),s!=null&&r.push(Rr(e,s,l))),e=e.return}return r}function Nn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pa(e,t,n,r,l){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,l?(u=_r(n,s),u!=null&&i.unshift(Rr(n,u,a))):l||(u=_r(n,s),u!=null&&i.push(Rr(n,u,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var mh=/\r\n?/g,hh=/\u0000|\uFFFD/g;function La(e){return(typeof e=="string"?e:""+e).replace(mh,`
`).replace(hh,"")}function cl(e,t,n){if(t=La(t),La(e)!==t&&n)throw Error(b(425))}function Al(){}var wo=null,jo=null;function So(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ko=typeof setTimeout=="function"?setTimeout:void 0,ph=typeof clearTimeout=="function"?clearTimeout:void 0,Da=typeof Promise=="function"?Promise:void 0,gh=typeof queueMicrotask=="function"?queueMicrotask:typeof Da<"u"?function(e){return Da.resolve(null).then(e).catch(xh)}:ko;function xh(e){setTimeout(function(){throw e})}function Ms(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Lr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Lr(t)}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ta(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var er=Math.random().toString(36).slice(2),gt="__reactFiber$"+er,zr="__reactProps$"+er,bt="__reactContainer$"+er,No="__reactEvents$"+er,vh="__reactListeners$"+er,yh="__reactHandles$"+er;function ln(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bt]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ta(e);e!==null;){if(n=e[gt])return n;e=Ta(e)}return t}e=n,n=e.parentNode}return null}function Yr(e){return e=e[gt]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function ss(e){return e[zr]||null}var Co=[],Tn=-1;function qt(e){return{current:e}}function te(e){0>Tn||(e.current=Co[Tn],Co[Tn]=null,Tn--)}function q(e,t){Tn++,Co[Tn]=e.current,e.current=t}var Xt={},Le=qt(Xt),Ae=qt(!1),fn=Xt;function Hn(e,t){var n=e.type.contextTypes;if(!n)return Xt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Oe(e){return e=e.childContextTypes,e!=null}function Ol(){te(Ae),te(Le)}function Ia(e,t,n){if(Le.current!==Xt)throw Error(b(168));q(Le,t),q(Ae,n)}function Vc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(b(108,rm(e)||"Unknown",l));return ie({},n,r)}function Ul(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,fn=Le.current,q(Le,e),q(Ae,Ae.current),!0}function Ra(e,t,n){var r=e.stateNode;if(!r)throw Error(b(169));n?(e=Vc(e,t,fn),r.__reactInternalMemoizedMergedChildContext=e,te(Ae),te(Le),q(Le,e)):te(Ae),q(Ae,n)}var St=null,os=!1,Fs=!1;function Hc(e){St===null?St=[e]:St.push(e)}function wh(e){os=!0,Hc(e)}function en(){if(!Fs&&St!==null){Fs=!0;var e=0,t=Z;try{var n=St;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}St=null,os=!1}catch(l){throw St!==null&&(St=St.slice(e+1)),gc(di,en),l}finally{Z=t,Fs=!1}}return null}var In=[],Rn=0,Bl=null,$l=0,Xe=[],Je=0,mn=null,kt=1,Nt="";function nn(e,t){In[Rn++]=$l,In[Rn++]=Bl,Bl=e,$l=t}function Gc(e,t,n){Xe[Je++]=kt,Xe[Je++]=Nt,Xe[Je++]=mn,mn=e;var r=kt;e=Nt;var l=32-ct(r)-1;r&=~(1<<l),n+=1;var s=32-ct(t)+l;if(30<s){var i=l-l%5;s=(r&(1<<i)-1).toString(32),r>>=i,l-=i,kt=1<<32-ct(t)+l|n<<l|r,Nt=s+e}else kt=1<<s|n<<l|r,Nt=e}function wi(e){e.return!==null&&(nn(e,1),Gc(e,1,0))}function ji(e){for(;e===Bl;)Bl=In[--Rn],In[Rn]=null,$l=In[--Rn],In[Rn]=null;for(;e===mn;)mn=Xe[--Je],Xe[Je]=null,Nt=Xe[--Je],Xe[Je]=null,kt=Xe[--Je],Xe[Je]=null}var Ve=null,We=null,le=!1,at=null;function Qc(e,t){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function za(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,We=Ht(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mn!==null?{id:kt,overflow:Nt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ve=e,We=null,!0):!1;default:return!1}}function Eo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _o(e){if(le){var t=We;if(t){var n=t;if(!za(e,t)){if(Eo(e))throw Error(b(418));t=Ht(n.nextSibling);var r=Ve;t&&za(e,t)?Qc(r,n):(e.flags=e.flags&-4097|2,le=!1,Ve=e)}}else{if(Eo(e))throw Error(b(418));e.flags=e.flags&-4097|2,le=!1,Ve=e}}}function Ma(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function dl(e){if(e!==Ve)return!1;if(!le)return Ma(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!So(e.type,e.memoizedProps)),t&&(t=We)){if(Eo(e))throw Yc(),Error(b(418));for(;t;)Qc(e,t),t=Ht(t.nextSibling)}if(Ma(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){We=Ht(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}We=null}}else We=Ve?Ht(e.stateNode.nextSibling):null;return!0}function Yc(){for(var e=We;e;)e=Ht(e.nextSibling)}function Gn(){We=Ve=null,le=!1}function Si(e){at===null?at=[e]:at.push(e)}var jh=Dt.ReactCurrentBatchConfig;function ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=l.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function fl(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fa(e){var t=e._init;return t(e._payload)}function Kc(e){function t(h,f){if(e){var g=h.deletions;g===null?(h.deletions=[f],h.flags|=16):g.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function l(h,f){return h=Kt(h,f),h.index=0,h.sibling=null,h}function s(h,f,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<f?(h.flags|=2,f):g):(h.flags|=2,f)):(h.flags|=1048576,f)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,f,g,S){return f===null||f.tag!==6?(f=Vs(g,h.mode,S),f.return=h,f):(f=l(f,g),f.return=h,f)}function u(h,f,g,S){var w=g.type;return w===_n?m(h,f,g.props.children,S,g.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rt&&Fa(w)===f.type)?(S=l(f,g.props),S.ref=ar(h,f,g),S.return=h,S):(S=bl(g.type,g.key,g.props,null,h.mode,S),S.ref=ar(h,f,g),S.return=h,S)}function c(h,f,g,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Hs(g,h.mode,S),f.return=h,f):(f=l(f,g.children||[]),f.return=h,f)}function m(h,f,g,S,w){return f===null||f.tag!==7?(f=un(g,h.mode,S,w),f.return=h,f):(f=l(f,g),f.return=h,f)}function d(h,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Vs(""+f,h.mode,g),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case tl:return g=bl(f.type,f.key,f.props,null,h.mode,g),g.ref=ar(h,null,f),g.return=h,g;case En:return f=Hs(f,h.mode,g),f.return=h,f;case Rt:var S=f._init;return d(h,S(f._payload),g)}if(mr(f)||rr(f))return f=un(f,h.mode,g,null),f.return=h,f;fl(h,f)}return null}function p(h,f,g,S){var w=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:a(h,f,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case tl:return g.key===w?u(h,f,g,S):null;case En:return g.key===w?c(h,f,g,S):null;case Rt:return w=g._init,p(h,f,w(g._payload),S)}if(mr(g)||rr(g))return w!==null?null:m(h,f,g,S,null);fl(h,g)}return null}function x(h,f,g,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(g)||null,a(f,h,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case tl:return h=h.get(S.key===null?g:S.key)||null,u(f,h,S,w);case En:return h=h.get(S.key===null?g:S.key)||null,c(f,h,S,w);case Rt:var _=S._init;return x(h,f,g,_(S._payload),w)}if(mr(S)||rr(S))return h=h.get(g)||null,m(f,h,S,w,null);fl(f,S)}return null}function y(h,f,g,S){for(var w=null,_=null,C=f,E=f=0,A=null;C!==null&&E<g.length;E++){C.index>E?(A=C,C=null):A=C.sibling;var M=p(h,C,g[E],S);if(M===null){C===null&&(C=A);break}e&&C&&M.alternate===null&&t(h,C),f=s(M,f,E),_===null?w=M:_.sibling=M,_=M,C=A}if(E===g.length)return n(h,C),le&&nn(h,E),w;if(C===null){for(;E<g.length;E++)C=d(h,g[E],S),C!==null&&(f=s(C,f,E),_===null?w=C:_.sibling=C,_=C);return le&&nn(h,E),w}for(C=r(h,C);E<g.length;E++)A=x(C,h,E,g[E],S),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),f=s(A,f,E),_===null?w=A:_.sibling=A,_=A);return e&&C.forEach(function(Q){return t(h,Q)}),le&&nn(h,E),w}function j(h,f,g,S){var w=rr(g);if(typeof w!="function")throw Error(b(150));if(g=w.call(g),g==null)throw Error(b(151));for(var _=w=null,C=f,E=f=0,A=null,M=g.next();C!==null&&!M.done;E++,M=g.next()){C.index>E?(A=C,C=null):A=C.sibling;var Q=p(h,C,M.value,S);if(Q===null){C===null&&(C=A);break}e&&C&&Q.alternate===null&&t(h,C),f=s(Q,f,E),_===null?w=Q:_.sibling=Q,_=Q,C=A}if(M.done)return n(h,C),le&&nn(h,E),w;if(C===null){for(;!M.done;E++,M=g.next())M=d(h,M.value,S),M!==null&&(f=s(M,f,E),_===null?w=M:_.sibling=M,_=M);return le&&nn(h,E),w}for(C=r(h,C);!M.done;E++,M=g.next())M=x(C,h,E,M.value,S),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?E:M.key),f=s(M,f,E),_===null?w=M:_.sibling=M,_=M);return e&&C.forEach(function(H){return t(h,H)}),le&&nn(h,E),w}function k(h,f,g,S){if(typeof g=="object"&&g!==null&&g.type===_n&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case tl:e:{for(var w=g.key,_=f;_!==null;){if(_.key===w){if(w=g.type,w===_n){if(_.tag===7){n(h,_.sibling),f=l(_,g.props.children),f.return=h,h=f;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rt&&Fa(w)===_.type){n(h,_.sibling),f=l(_,g.props),f.ref=ar(h,_,g),f.return=h,h=f;break e}n(h,_);break}else t(h,_);_=_.sibling}g.type===_n?(f=un(g.props.children,h.mode,S,g.key),f.return=h,h=f):(S=bl(g.type,g.key,g.props,null,h.mode,S),S.ref=ar(h,f,g),S.return=h,h=S)}return i(h);case En:e:{for(_=g.key;f!==null;){if(f.key===_)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(h,f.sibling),f=l(f,g.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=Hs(g,h.mode,S),f.return=h,h=f}return i(h);case Rt:return _=g._init,k(h,f,_(g._payload),S)}if(mr(g))return y(h,f,g,S);if(rr(g))return j(h,f,g,S);fl(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(h,f.sibling),f=l(f,g),f.return=h,h=f):(n(h,f),f=Vs(g,h.mode,S),f.return=h,h=f),i(h)):n(h,f)}return k}var Qn=Kc(!0),Zc=Kc(!1),Wl=qt(null),Vl=null,zn=null,ki=null;function Ni(){ki=zn=Vl=null}function Ci(e){var t=Wl.current;te(Wl),e._currentValue=t}function bo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $n(e,t){Vl=e,ki=zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fe=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},zn===null){if(Vl===null)throw Error(b(308));zn=e,Vl.dependencies={lanes:0,firstContext:e}}else zn=zn.next=e;return t}var sn=null;function Ei(e){sn===null?sn=[e]:sn.push(e)}function Xc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ei(t)):(n.next=l.next,l.next=n),t.interleaved=n,Pt(e,r)}function Pt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zt=!1;function _i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Pt(e,n)}return l=r.interleaved,l===null?(t.next=t,Ei(r)):(t.next=l.next,l.next=t),r.interleaved=t,Pt(e,n)}function Sl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fi(e,n)}}function Aa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hl(e,t,n,r){var l=e.updateQueue;zt=!1;var s=l.firstBaseUpdate,i=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,c=u.next;u.next=null,i===null?s=c:i.next=c,i=u;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==i&&(a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=u))}if(s!==null){var d=l.baseState;i=0,m=c=u=null,a=s;do{var p=a.lane,x=a.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,j=a;switch(p=t,x=n,j.tag){case 1:if(y=j.payload,typeof y=="function"){d=y.call(x,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=j.payload,p=typeof y=="function"?y.call(x,d,p):y,p==null)break e;d=ie({},d,p);break e;case 2:zt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=l.effects,p===null?l.effects=[a]:p.push(a))}else x={eventTime:x,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(c=m=x,u=d):m=m.next=x,i|=p;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;p=a,a=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);if(m===null&&(u=d),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);pn|=i,e.lanes=i,e.memoizedState=d}}function Oa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(b(191,l));l.call(r)}}}var Kr={},vt=qt(Kr),Mr=qt(Kr),Fr=qt(Kr);function on(e){if(e===Kr)throw Error(b(174));return e}function bi(e,t){switch(q(Fr,t),q(Mr,e),q(vt,Kr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:io(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=io(t,e)}te(vt),q(vt,t)}function Yn(){te(vt),te(Mr),te(Fr)}function qc(e){on(Fr.current);var t=on(vt.current),n=io(t,e.type);t!==n&&(q(Mr,e),q(vt,n))}function Pi(e){Mr.current===e&&(te(vt),te(Mr))}var se=qt(0);function Gl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var As=[];function Li(){for(var e=0;e<As.length;e++)As[e]._workInProgressVersionPrimary=null;As.length=0}var kl=Dt.ReactCurrentDispatcher,Os=Dt.ReactCurrentBatchConfig,hn=0,oe=null,pe=null,ye=null,Ql=!1,jr=!1,Ar=0,Sh=0;function _e(){throw Error(b(321))}function Di(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ft(e[n],t[n]))return!1;return!0}function Ti(e,t,n,r,l,s){if(hn=s,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,kl.current=e===null||e.memoizedState===null?Eh:_h,e=n(r,l),jr){s=0;do{if(jr=!1,Ar=0,25<=s)throw Error(b(301));s+=1,ye=pe=null,t.updateQueue=null,kl.current=bh,e=n(r,l)}while(jr)}if(kl.current=Yl,t=pe!==null&&pe.next!==null,hn=0,ye=pe=oe=null,Ql=!1,t)throw Error(b(300));return e}function Ii(){var e=Ar!==0;return Ar=0,e}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?oe.memoizedState=ye=e:ye=ye.next=e,ye}function nt(){if(pe===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ye===null?oe.memoizedState:ye.next;if(t!==null)ye=t,pe=e;else{if(e===null)throw Error(b(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ye===null?oe.memoizedState=ye=e:ye=ye.next=e}return ye}function Or(e,t){return typeof t=="function"?t(e):t}function Us(e){var t=nt(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=pe,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var i=l.next;l.next=s.next,s.next=i}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var a=i=null,u=null,c=s;do{var m=c.lane;if((hn&m)===m)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,i=r):u=u.next=d,oe.lanes|=m,pn|=m}c=c.next}while(c!==null&&c!==s);u===null?i=r:u.next=a,ft(r,t.memoizedState)||(Fe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,oe.lanes|=s,pn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bs(e){var t=nt(),n=t.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do s=e(s,i.action),i=i.next;while(i!==l);ft(s,t.memoizedState)||(Fe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ed(){}function td(e,t){var n=oe,r=nt(),l=t(),s=!ft(r.memoizedState,l);if(s&&(r.memoizedState=l,Fe=!0),r=r.queue,Ri(ld.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,Ur(9,rd.bind(null,n,r,l,t),void 0,null),we===null)throw Error(b(349));hn&30||nd(n,t,l)}return l}function nd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rd(e,t,n,r){t.value=n,t.getSnapshot=r,sd(t)&&od(e)}function ld(e,t,n){return n(function(){sd(t)&&od(e)})}function sd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ft(e,n)}catch{return!0}}function od(e){var t=Pt(e,1);t!==null&&dt(t,e,1,-1)}function Ua(e){var t=pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:e},t.queue=e,e=e.dispatch=Ch.bind(null,oe,e),[t.memoizedState,e]}function Ur(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function id(){return nt().memoizedState}function Nl(e,t,n,r){var l=pt();oe.flags|=e,l.memoizedState=Ur(1|t,n,void 0,r===void 0?null:r)}function is(e,t,n,r){var l=nt();r=r===void 0?null:r;var s=void 0;if(pe!==null){var i=pe.memoizedState;if(s=i.destroy,r!==null&&Di(r,i.deps)){l.memoizedState=Ur(t,n,s,r);return}}oe.flags|=e,l.memoizedState=Ur(1|t,n,s,r)}function Ba(e,t){return Nl(8390656,8,e,t)}function Ri(e,t){return is(2048,8,e,t)}function ad(e,t){return is(4,2,e,t)}function ud(e,t){return is(4,4,e,t)}function cd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dd(e,t,n){return n=n!=null?n.concat([e]):null,is(4,4,cd.bind(null,t,e),n)}function zi(){}function fd(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Di(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function md(e,t){var n=nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Di(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hd(e,t,n){return hn&21?(ft(n,t)||(n=yc(),oe.lanes|=n,pn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fe=!0),e.memoizedState=n)}function kh(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=Os.transition;Os.transition={};try{e(!1),t()}finally{Z=n,Os.transition=r}}function pd(){return nt().memoizedState}function Nh(e,t,n){var r=Yt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gd(e))xd(t,n);else if(n=Xc(e,t,n,r),n!==null){var l=Ie();dt(n,e,r,l),vd(n,t,r)}}function Ch(e,t,n){var r=Yt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gd(e))xd(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(l.hasEagerState=!0,l.eagerState=a,ft(a,i)){var u=t.interleaved;u===null?(l.next=l,Ei(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=Xc(e,t,l,r),n!==null&&(l=Ie(),dt(n,e,r,l),vd(n,t,r))}}function gd(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function xd(e,t){jr=Ql=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fi(e,n)}}var Yl={readContext:tt,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},Eh={readContext:tt,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:Ba,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Nl(4194308,4,cd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nl(4,2,e,t)},useMemo:function(e,t){var n=pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Nh.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:Ua,useDebugValue:zi,useDeferredValue:function(e){return pt().memoizedState=e},useTransition:function(){var e=Ua(!1),t=e[0];return e=kh.bind(null,e[1]),pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,l=pt();if(le){if(n===void 0)throw Error(b(407));n=n()}else{if(n=t(),we===null)throw Error(b(349));hn&30||nd(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,Ba(ld.bind(null,r,s,e),[e]),r.flags|=2048,Ur(9,rd.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=pt(),t=we.identifierPrefix;if(le){var n=Nt,r=kt;n=(r&~(1<<32-ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ar++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_h={readContext:tt,useCallback:fd,useContext:tt,useEffect:Ri,useImperativeHandle:dd,useInsertionEffect:ad,useLayoutEffect:ud,useMemo:md,useReducer:Us,useRef:id,useState:function(){return Us(Or)},useDebugValue:zi,useDeferredValue:function(e){var t=nt();return hd(t,pe.memoizedState,e)},useTransition:function(){var e=Us(Or)[0],t=nt().memoizedState;return[e,t]},useMutableSource:ed,useSyncExternalStore:td,useId:pd,unstable_isNewReconciler:!1},bh={readContext:tt,useCallback:fd,useContext:tt,useEffect:Ri,useImperativeHandle:dd,useInsertionEffect:ad,useLayoutEffect:ud,useMemo:md,useReducer:Bs,useRef:id,useState:function(){return Bs(Or)},useDebugValue:zi,useDeferredValue:function(e){var t=nt();return pe===null?t.memoizedState=e:hd(t,pe.memoizedState,e)},useTransition:function(){var e=Bs(Or)[0],t=nt().memoizedState;return[e,t]},useMutableSource:ed,useSyncExternalStore:td,useId:pd,unstable_isNewReconciler:!1};function st(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Po(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return(e=e._reactInternals)?wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),l=Yt(e),s=Ct(r,l);s.payload=t,n!=null&&(s.callback=n),t=Gt(e,s,l),t!==null&&(dt(t,e,l,r),Sl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),l=Yt(e),s=Ct(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Gt(e,s,l),t!==null&&(dt(t,e,l,r),Sl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=Yt(e),l=Ct(n,r);l.tag=2,t!=null&&(l.callback=t),t=Gt(e,l,r),t!==null&&(dt(t,e,r,n),Sl(t,e,r))}};function $a(e,t,n,r,l,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Tr(n,r)||!Tr(l,s):!0}function yd(e,t,n){var r=!1,l=Xt,s=t.contextType;return typeof s=="object"&&s!==null?s=tt(s):(l=Oe(t)?fn:Le.current,r=t.contextTypes,s=(r=r!=null)?Hn(e,l):Xt),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function Wa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function Lo(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},_i(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=tt(s):(s=Oe(t)?fn:Le.current,l.context=Hn(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Po(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&as.enqueueReplaceState(l,l.state,null),Hl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Kn(e,t){try{var n="",r=t;do n+=nm(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function $s(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Do(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ph=typeof WeakMap=="function"?WeakMap:Map;function wd(e,t,n){n=Ct(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zl||(Zl=!0,Bo=r),Do(e,t)},n}function jd(e,t,n){n=Ct(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Do(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Do(e,t),typeof r!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Va(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ph;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Wh.bind(null,e,t,n),t.then(e,e))}function Ha(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ga(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ct(-1,1),t.tag=2,Gt(n,t,1))),n.lanes|=1),e)}var Lh=Dt.ReactCurrentOwner,Fe=!1;function Te(e,t,n,r){t.child=e===null?Zc(t,null,n,r):Qn(t,e.child,n,r)}function Qa(e,t,n,r,l){n=n.render;var s=t.ref;return $n(t,l),r=Ti(e,t,n,r,s,l),n=Ii(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(le&&n&&wi(t),t.flags|=1,Te(e,t,r,l),t.child)}function Ya(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!Wi(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Sd(e,t,s,r,l)):(e=bl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Tr,n(i,r)&&e.ref===t.ref)return Lt(e,t,l)}return t.flags|=1,e=Kt(s,r),e.ref=t.ref,e.return=t,t.child=e}function Sd(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(Tr(s,r)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(Fe=!0);else return t.lanes=e.lanes,Lt(e,t,l)}return To(e,t,n,r,l)}function kd(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Fn,$e),$e|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(Fn,$e),$e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,q(Fn,$e),$e|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,q(Fn,$e),$e|=r;return Te(e,t,l,n),t.child}function Nd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,l){var s=Oe(n)?fn:Le.current;return s=Hn(t,s),$n(t,l),n=Ti(e,t,n,r,s,l),r=Ii(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(le&&r&&wi(t),t.flags|=1,Te(e,t,n,l),t.child)}function Ka(e,t,n,r,l){if(Oe(n)){var s=!0;Ul(t)}else s=!1;if($n(t,l),t.stateNode===null)Cl(e,t),yd(t,n,r),Lo(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=tt(c):(c=Oe(n)?fn:Le.current,c=Hn(t,c));var m=n.getDerivedStateFromProps,d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Wa(t,i,r,c),zt=!1;var p=t.memoizedState;i.state=p,Hl(t,r,i,l),u=t.memoizedState,a!==r||p!==u||Ae.current||zt?(typeof m=="function"&&(Po(t,n,m,r),u=t.memoizedState),(a=zt||$a(t,n,a,r,p,u,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Jc(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:st(t.type,a),i.props=c,d=t.pendingProps,p=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=tt(u):(u=Oe(n)?fn:Le.current,u=Hn(t,u));var x=n.getDerivedStateFromProps;(m=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||p!==u)&&Wa(t,i,r,u),zt=!1,p=t.memoizedState,i.state=p,Hl(t,r,i,l);var y=t.memoizedState;a!==d||p!==y||Ae.current||zt?(typeof x=="function"&&(Po(t,n,x,r),y=t.memoizedState),(c=zt||$a(t,n,c,r,p,y,u)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,s,l)}function Io(e,t,n,r,l,s){Nd(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&Ra(t,n,!1),Lt(e,t,s);r=t.stateNode,Lh.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Qn(t,e.child,null,s),t.child=Qn(t,null,a,s)):Te(e,t,a,s),t.memoizedState=r.state,l&&Ra(t,n,!0),t.child}function Cd(e){var t=e.stateNode;t.pendingContext?Ia(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(e,t.context,!1),bi(e,t.containerInfo)}function Za(e,t,n,r,l){return Gn(),Si(l),t.flags|=256,Te(e,t,n,r),t.child}var Ro={dehydrated:null,treeContext:null,retryLane:0};function zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ed(e,t,n){var r=t.pendingProps,l=se.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),q(se,l&1),e===null)return _o(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=ds(i,r,0,null),e=un(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=zo(n),t.memoizedState=Ro,e):Mi(t,i));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Dh(e,t,i,r,a,l,n);if(s){s=r.fallback,i=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Kt(l,u),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?s=Kt(a,s):(s=un(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?zo(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=Ro,r}return s=e.child,e=s.sibling,r=Kt(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mi(e,t){return t=ds({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ml(e,t,n,r){return r!==null&&Si(r),Qn(t,e.child,null,n),e=Mi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dh(e,t,n,r,l,s,i){if(n)return t.flags&256?(t.flags&=-257,r=$s(Error(b(422))),ml(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=ds({mode:"visible",children:r.children},l,0,null),s=un(s,l,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Qn(t,e.child,null,i),t.child.memoizedState=zo(i),t.memoizedState=Ro,s);if(!(t.mode&1))return ml(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(b(419)),r=$s(s,r,void 0),ml(e,t,i,r)}if(a=(i&e.childLanes)!==0,Fe||a){if(r=we,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,Pt(e,l),dt(r,e,l,-1))}return $i(),r=$s(Error(b(421))),ml(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Vh.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,We=Ht(l.nextSibling),Ve=t,le=!0,at=null,e!==null&&(Xe[Je++]=kt,Xe[Je++]=Nt,Xe[Je++]=mn,kt=e.id,Nt=e.overflow,mn=t),t=Mi(t,r.children),t.flags|=4096,t)}function Xa(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bo(e.return,t,n)}function Ws(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function _d(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(Te(e,t,r.children,n),r=se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xa(e,n,t);else if(e.tag===19)Xa(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(se,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Gl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ws(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Gl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ws(t,!0,n,null,s);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,n=Kt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Th(e,t,n){switch(t.tag){case 3:Cd(t),Gn();break;case 5:qc(t);break;case 1:Oe(t.type)&&Ul(t);break;case 4:bi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;q(Wl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?Ed(e,t,n):(q(se,se.current&1),e=Lt(e,t,n),e!==null?e.sibling:null);q(se,se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _d(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),q(se,se.current),r)break;return null;case 22:case 23:return t.lanes=0,kd(e,t,n)}return Lt(e,t,n)}var bd,Mo,Pd,Ld;bd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mo=function(){};Pd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,on(vt.current);var s=null;switch(n){case"input":l=ro(e,l),r=ro(e,r),s=[];break;case"select":l=ie({},l,{value:void 0}),r=ie({},r,{value:void 0}),s=[];break;case"textarea":l=oo(e,l),r=oo(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Al)}ao(n,r);var i;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var a=l[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cr.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ee("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Ld=function(e,t,n,r){n!==r&&(t.flags|=4)};function ur(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ih(e,t,n){var r=t.pendingProps;switch(ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(t),null;case 1:return Oe(t.type)&&Ol(),be(t),null;case 3:return r=t.stateNode,Yn(),te(Ae),te(Le),Li(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(dl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,at!==null&&(Vo(at),at=null))),Mo(e,t),be(t),null;case 5:Pi(t);var l=on(Fr.current);if(n=t.type,e!==null&&t.stateNode!=null)Pd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(b(166));return be(t),null}if(e=on(vt.current),dl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[gt]=t,r[zr]=s,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(l=0;l<pr.length;l++)ee(pr[l],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":oa(r,s),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ee("invalid",r);break;case"textarea":aa(r,s),ee("invalid",r)}ao(n,s),l=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&cl(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cl(r.textContent,a,e),l=["children",""+a]):Cr.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ee("scroll",r)}switch(n){case"input":nl(r),ia(r,s,!0);break;case"textarea":nl(r),ua(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Al)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[gt]=t,e[zr]=r,bd(e,t,!1,!1),t.stateNode=e;e:{switch(i=uo(n,r),n){case"dialog":ee("cancel",e),ee("close",e),l=r;break;case"iframe":case"object":case"embed":ee("load",e),l=r;break;case"video":case"audio":for(l=0;l<pr.length;l++)ee(pr[l],e);l=r;break;case"source":ee("error",e),l=r;break;case"img":case"image":case"link":ee("error",e),ee("load",e),l=r;break;case"details":ee("toggle",e),l=r;break;case"input":oa(e,r),l=ro(e,r),ee("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ie({},r,{value:void 0}),ee("invalid",e);break;case"textarea":aa(e,r),l=oo(e,r),ee("invalid",e);break;default:l=r}ao(n,l),a=l;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?ic(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&sc(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Er(e,u):typeof u=="number"&&Er(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cr.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ee("scroll",e):u!=null&&oi(e,s,u,i))}switch(n){case"input":nl(e),ia(e,r,!1);break;case"textarea":nl(e),ua(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zt(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?An(e,!!r.multiple,s,!1):r.defaultValue!=null&&An(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return be(t),null;case 6:if(e&&t.stateNode!=null)Ld(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(b(166));if(n=on(Fr.current),on(vt.current),dl(t)){if(r=t.stateNode,n=t.memoizedProps,r[gt]=t,(s=r.nodeValue!==n)&&(e=Ve,e!==null))switch(e.tag){case 3:cl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gt]=t,t.stateNode=r}return be(t),null;case 13:if(te(se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&We!==null&&t.mode&1&&!(t.flags&128))Yc(),Gn(),t.flags|=98560,s=!1;else if(s=dl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(b(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[gt]=t}else Gn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;be(t),s=!1}else at!==null&&(Vo(at),at=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?ge===0&&(ge=3):$i())),t.updateQueue!==null&&(t.flags|=4),be(t),null);case 4:return Yn(),Mo(e,t),e===null&&Ir(t.stateNode.containerInfo),be(t),null;case 10:return Ci(t.type._context),be(t),null;case 17:return Oe(t.type)&&Ol(),be(t),null;case 19:if(te(se),s=t.memoizedState,s===null)return be(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)ur(s,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Gl(e),i!==null){for(t.flags|=128,ur(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(se,se.current&1|2),t.child}e=e.sibling}s.tail!==null&&de()>Zn&&(t.flags|=128,r=!0,ur(s,!1),t.lanes=4194304)}else{if(!r)if(e=Gl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ur(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!le)return be(t),null}else 2*de()-s.renderingStartTime>Zn&&n!==1073741824&&(t.flags|=128,r=!0,ur(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=de(),t.sibling=null,n=se.current,q(se,r?n&1|2:n&1),t):(be(t),null);case 22:case 23:return Bi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$e&1073741824&&(be(t),t.subtreeFlags&6&&(t.flags|=8192)):be(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function Rh(e,t){switch(ji(t),t.tag){case 1:return Oe(t.type)&&Ol(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yn(),te(Ae),te(Le),Li(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pi(t),null;case 13:if(te(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));Gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(se),null;case 4:return Yn(),null;case 10:return Ci(t.type._context),null;case 22:case 23:return Bi(),null;case 24:return null;default:return null}}var hl=!1,Pe=!1,zh=typeof WeakSet=="function"?WeakSet:Set,L=null;function Mn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function Fo(e,t,n){try{n()}catch(r){ue(e,t,r)}}var Ja=!1;function Mh(e,t){if(wo=zl,e=zc(),yi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,c=0,m=0,d=e,p=null;t:for(;;){for(var x;d!==n||l!==0&&d.nodeType!==3||(a=i+l),d!==s||r!==0&&d.nodeType!==3||(u=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(x=d.firstChild)!==null;)p=d,d=x;for(;;){if(d===e)break t;if(p===n&&++c===l&&(a=i),p===s&&++m===r&&(u=i),(x=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=x}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(jo={focusedElem:e,selectionRange:n},zl=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var j=y.memoizedProps,k=y.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?j:st(t.type,j),k);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(S){ue(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return y=Ja,Ja=!1,y}function Sr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&Fo(t,n,s)}l=l.next}while(l!==r)}}function us(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ao(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Dd(e){var t=e.alternate;t!==null&&(e.alternate=null,Dd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gt],delete t[zr],delete t[No],delete t[vh],delete t[yh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Td(e){return e.tag===5||e.tag===3||e.tag===4}function qa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Td(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Al));else if(r!==4&&(e=e.child,e!==null))for(Oo(e,t,n),e=e.sibling;e!==null;)Oo(e,t,n),e=e.sibling}function Uo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Uo(e,t,n),e=e.sibling;e!==null;)Uo(e,t,n),e=e.sibling}var ke=null,it=!1;function It(e,t,n){for(n=n.child;n!==null;)Id(e,t,n),n=n.sibling}function Id(e,t,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(ts,n)}catch{}switch(n.tag){case 5:Pe||Mn(n,t);case 6:var r=ke,l=it;ke=null,It(e,t,n),ke=r,it=l,ke!==null&&(it?(e=ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(it?(e=ke,n=n.stateNode,e.nodeType===8?Ms(e.parentNode,n):e.nodeType===1&&Ms(e,n),Lr(e)):Ms(ke,n.stateNode));break;case 4:r=ke,l=it,ke=n.stateNode.containerInfo,it=!0,It(e,t,n),ke=r,it=l;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Fo(n,t,i),l=l.next}while(l!==r)}It(e,t,n);break;case 1:if(!Pe&&(Mn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,t,a)}It(e,t,n);break;case 21:It(e,t,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,It(e,t,n),Pe=r):It(e,t,n);break;default:It(e,t,n)}}function eu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zh),t.forEach(function(r){var l=Hh.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:ke=a.stateNode,it=!1;break e;case 3:ke=a.stateNode.containerInfo,it=!0;break e;case 4:ke=a.stateNode.containerInfo,it=!0;break e}a=a.return}if(ke===null)throw Error(b(160));Id(s,i,l),ke=null,it=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){ue(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rd(t,e),t=t.sibling}function Rd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),ht(e),r&4){try{Sr(3,e,e.return),us(3,e)}catch(j){ue(e,e.return,j)}try{Sr(5,e,e.return)}catch(j){ue(e,e.return,j)}}break;case 1:lt(t,e),ht(e),r&512&&n!==null&&Mn(n,n.return);break;case 5:if(lt(t,e),ht(e),r&512&&n!==null&&Mn(n,n.return),e.flags&32){var l=e.stateNode;try{Er(l,"")}catch(j){ue(e,e.return,j)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nc(l,s),uo(a,i);var c=uo(a,s);for(i=0;i<u.length;i+=2){var m=u[i],d=u[i+1];m==="style"?ic(l,d):m==="dangerouslySetInnerHTML"?sc(l,d):m==="children"?Er(l,d):oi(l,m,d,c)}switch(a){case"input":lo(l,s);break;case"textarea":rc(l,s);break;case"select":var p=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?An(l,!!s.multiple,x,!1):p!==!!s.multiple&&(s.defaultValue!=null?An(l,!!s.multiple,s.defaultValue,!0):An(l,!!s.multiple,s.multiple?[]:"",!1))}l[zr]=s}catch(j){ue(e,e.return,j)}}break;case 6:if(lt(t,e),ht(e),r&4){if(e.stateNode===null)throw Error(b(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(j){ue(e,e.return,j)}}break;case 3:if(lt(t,e),ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lr(t.containerInfo)}catch(j){ue(e,e.return,j)}break;case 4:lt(t,e),ht(e);break;case 13:lt(t,e),ht(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Oi=de())),r&4&&eu(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Pe=(c=Pe)||m,lt(t,e),Pe=c):lt(t,e),ht(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for(L=e,m=e.child;m!==null;){for(d=L=m;L!==null;){switch(p=L,x=p.child,p.tag){case 0:case 11:case 14:case 15:Sr(4,p,p.return);break;case 1:Mn(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(j){ue(r,n,j)}}break;case 5:Mn(p,p.return);break;case 22:if(p.memoizedState!==null){nu(d);continue}}x!==null?(x.return=p,L=x):nu(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{l=d.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=oc("display",i))}catch(j){ue(e,e.return,j)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(j){ue(e,e.return,j)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:lt(t,e),ht(e),r&4&&eu(e);break;case 21:break;default:lt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Td(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Er(l,""),r.flags&=-33);var s=qa(e);Uo(e,s,l);break;case 3:case 4:var i=r.stateNode.containerInfo,a=qa(e);Oo(e,a,i);break;default:throw Error(b(161))}}catch(u){ue(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fh(e,t,n){L=e,zd(e)}function zd(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var l=L,s=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||hl;if(!i){var a=l.alternate,u=a!==null&&a.memoizedState!==null||Pe;a=hl;var c=Pe;if(hl=i,(Pe=u)&&!c)for(L=l;L!==null;)i=L,u=i.child,i.tag===22&&i.memoizedState!==null?ru(l):u!==null?(u.return=i,L=u):ru(l);for(;s!==null;)L=s,zd(s),s=s.sibling;L=l,hl=a,Pe=c}tu(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,L=s):tu(e)}}function tu(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||us(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:st(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Oa(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Oa(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&Lr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Pe||t.flags&512&&Ao(t)}catch(p){ue(t,t.return,p)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function nu(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function ru(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{us(4,t)}catch(u){ue(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){ue(t,l,u)}}var s=t.return;try{Ao(t)}catch(u){ue(t,s,u)}break;case 5:var i=t.return;try{Ao(t)}catch(u){ue(t,i,u)}}}catch(u){ue(t,t.return,u)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var Ah=Math.ceil,Kl=Dt.ReactCurrentDispatcher,Fi=Dt.ReactCurrentOwner,et=Dt.ReactCurrentBatchConfig,G=0,we=null,fe=null,Ne=0,$e=0,Fn=qt(0),ge=0,Br=null,pn=0,cs=0,Ai=0,kr=null,Me=null,Oi=0,Zn=1/0,jt=null,Zl=!1,Bo=null,Qt=null,pl=!1,Ut=null,Xl=0,Nr=0,$o=null,El=-1,_l=0;function Ie(){return G&6?de():El!==-1?El:El=de()}function Yt(e){return e.mode&1?G&2&&Ne!==0?Ne&-Ne:jh.transition!==null?(_l===0&&(_l=yc()),_l):(e=Z,e!==0||(e=window.event,e=e===void 0?16:Ec(e.type)),e):1}function dt(e,t,n,r){if(50<Nr)throw Nr=0,$o=null,Error(b(185));Gr(e,n,r),(!(G&2)||e!==we)&&(e===we&&(!(G&2)&&(cs|=n),ge===4&&Ft(e,Ne)),Ue(e,r),n===1&&G===0&&!(t.mode&1)&&(Zn=de()+500,os&&en()))}function Ue(e,t){var n=e.callbackNode;jm(e,t);var r=Rl(e,e===we?Ne:0);if(r===0)n!==null&&fa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fa(n),t===1)e.tag===0?wh(lu.bind(null,e)):Hc(lu.bind(null,e)),gh(function(){!(G&6)&&en()}),n=null;else{switch(wc(r)){case 1:n=di;break;case 4:n=xc;break;case 16:n=Il;break;case 536870912:n=vc;break;default:n=Il}n=Wd(n,Md.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Md(e,t){if(El=-1,_l=0,G&6)throw Error(b(327));var n=e.callbackNode;if(Wn()&&e.callbackNode!==n)return null;var r=Rl(e,e===we?Ne:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Jl(e,r);else{t=r;var l=G;G|=2;var s=Ad();(we!==e||Ne!==t)&&(jt=null,Zn=de()+500,an(e,t));do try{Bh();break}catch(a){Fd(e,a)}while(!0);Ni(),Kl.current=s,G=l,fe!==null?t=0:(we=null,Ne=0,t=ge)}if(t!==0){if(t===2&&(l=po(e),l!==0&&(r=l,t=Wo(e,l))),t===1)throw n=Br,an(e,0),Ft(e,r),Ue(e,de()),n;if(t===6)Ft(e,r);else{if(l=e.current.alternate,!(r&30)&&!Oh(l)&&(t=Jl(e,r),t===2&&(s=po(e),s!==0&&(r=s,t=Wo(e,s))),t===1))throw n=Br,an(e,0),Ft(e,r),Ue(e,de()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(b(345));case 2:rn(e,Me,jt);break;case 3:if(Ft(e,r),(r&130023424)===r&&(t=Oi+500-de(),10<t)){if(Rl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ko(rn.bind(null,e,Me,jt),t);break}rn(e,Me,jt);break;case 4:if(Ft(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-ct(r);s=1<<i,i=t[i],i>l&&(l=i),r&=~s}if(r=l,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ah(r/1960))-r,10<r){e.timeoutHandle=ko(rn.bind(null,e,Me,jt),r);break}rn(e,Me,jt);break;case 5:rn(e,Me,jt);break;default:throw Error(b(329))}}}return Ue(e,de()),e.callbackNode===n?Md.bind(null,e):null}function Wo(e,t){var n=kr;return e.current.memoizedState.isDehydrated&&(an(e,t).flags|=256),e=Jl(e,t),e!==2&&(t=Me,Me=n,t!==null&&Vo(t)),e}function Vo(e){Me===null?Me=e:Me.push.apply(Me,e)}function Oh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!ft(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ft(e,t){for(t&=~Ai,t&=~cs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ct(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(G&6)throw Error(b(327));Wn();var t=Rl(e,0);if(!(t&1))return Ue(e,de()),null;var n=Jl(e,t);if(e.tag!==0&&n===2){var r=po(e);r!==0&&(t=r,n=Wo(e,r))}if(n===1)throw n=Br,an(e,0),Ft(e,t),Ue(e,de()),n;if(n===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rn(e,Me,jt),Ue(e,de()),null}function Ui(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(Zn=de()+500,os&&en())}}function gn(e){Ut!==null&&Ut.tag===0&&!(G&6)&&Wn();var t=G;G|=1;var n=et.transition,r=Z;try{if(et.transition=null,Z=1,e)return e()}finally{Z=r,et.transition=n,G=t,!(G&6)&&en()}}function Bi(){$e=Fn.current,te(Fn)}function an(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ph(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(ji(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ol();break;case 3:Yn(),te(Ae),te(Le),Li();break;case 5:Pi(r);break;case 4:Yn();break;case 13:te(se);break;case 19:te(se);break;case 10:Ci(r.type._context);break;case 22:case 23:Bi()}n=n.return}if(we=e,fe=e=Kt(e.current,null),Ne=$e=t,ge=0,Br=null,Ai=cs=pn=0,Me=kr=null,sn!==null){for(t=0;t<sn.length;t++)if(n=sn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=l,r.next=i}n.pending=r}sn=null}return e}function Fd(e,t){do{var n=fe;try{if(Ni(),kl.current=Yl,Ql){for(var r=oe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Ql=!1}if(hn=0,ye=pe=oe=null,jr=!1,Ar=0,Fi.current=null,n===null||n.return===null){ge=1,Br=t,fe=null;break}e:{var s=e,i=n.return,a=n,u=t;if(t=Ne,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,m=a,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=Ha(i);if(x!==null){x.flags&=-257,Ga(x,i,a,s,t),x.mode&1&&Va(s,c,t),t=x,u=c;var y=t.updateQueue;if(y===null){var j=new Set;j.add(u),t.updateQueue=j}else y.add(u);break e}else{if(!(t&1)){Va(s,c,t),$i();break e}u=Error(b(426))}}else if(le&&a.mode&1){var k=Ha(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ga(k,i,a,s,t),Si(Kn(u,a));break e}}s=u=Kn(u,a),ge!==4&&(ge=2),kr===null?kr=[s]:kr.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=wd(s,u,t);Aa(s,h);break e;case 1:a=u;var f=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qt===null||!Qt.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=jd(s,a,t);Aa(s,S);break e}}s=s.return}while(s!==null)}Ud(n)}catch(w){t=w,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function Ad(){var e=Kl.current;return Kl.current=Yl,e===null?Yl:e}function $i(){(ge===0||ge===3||ge===2)&&(ge=4),we===null||!(pn&268435455)&&!(cs&268435455)||Ft(we,Ne)}function Jl(e,t){var n=G;G|=2;var r=Ad();(we!==e||Ne!==t)&&(jt=null,an(e,t));do try{Uh();break}catch(l){Fd(e,l)}while(!0);if(Ni(),G=n,Kl.current=r,fe!==null)throw Error(b(261));return we=null,Ne=0,ge}function Uh(){for(;fe!==null;)Od(fe)}function Bh(){for(;fe!==null&&!fm();)Od(fe)}function Od(e){var t=$d(e.alternate,e,$e);e.memoizedProps=e.pendingProps,t===null?Ud(e):fe=t,Fi.current=null}function Ud(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Rh(n,t),n!==null){n.flags&=32767,fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,fe=null;return}}else if(n=Ih(n,t,$e),n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);ge===0&&(ge=5)}function rn(e,t,n){var r=Z,l=et.transition;try{et.transition=null,Z=1,$h(e,t,n,r)}finally{et.transition=l,Z=r}return null}function $h(e,t,n,r){do Wn();while(Ut!==null);if(G&6)throw Error(b(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Sm(e,s),e===we&&(fe=we=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pl||(pl=!0,Wd(Il,function(){return Wn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=et.transition,et.transition=null;var i=Z;Z=1;var a=G;G|=4,Fi.current=null,Mh(e,n),Rd(n,e),ah(jo),zl=!!wo,jo=wo=null,e.current=n,Fh(n),mm(),G=a,Z=i,et.transition=s}else e.current=n;if(pl&&(pl=!1,Ut=e,Xl=l),s=e.pendingLanes,s===0&&(Qt=null),gm(n.stateNode),Ue(e,de()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Zl)throw Zl=!1,e=Bo,Bo=null,e;return Xl&1&&e.tag!==0&&Wn(),s=e.pendingLanes,s&1?e===$o?Nr++:(Nr=0,$o=e):Nr=0,en(),null}function Wn(){if(Ut!==null){var e=wc(Xl),t=et.transition,n=Z;try{if(et.transition=null,Z=16>e?16:e,Ut===null)var r=!1;else{if(e=Ut,Ut=null,Xl=0,G&6)throw Error(b(331));var l=G;for(G|=4,L=e.current;L!==null;){var s=L,i=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(L=c;L!==null;){var m=L;switch(m.tag){case 0:case 11:case 15:Sr(8,m,s)}var d=m.child;if(d!==null)d.return=m,L=d;else for(;L!==null;){m=L;var p=m.sibling,x=m.return;if(Dd(m),m===c){L=null;break}if(p!==null){p.return=x,L=p;break}L=x}}}var y=s.alternate;if(y!==null){var j=y.child;if(j!==null){y.child=null;do{var k=j.sibling;j.sibling=null,j=k}while(j!==null)}}L=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,L=i;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sr(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,L=h;break e}L=s.return}}var f=e.current;for(L=f;L!==null;){i=L;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,L=g;else e:for(i=f;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:us(9,a)}}catch(w){ue(a,a.return,w)}if(a===i){L=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,L=S;break e}L=a.return}}if(G=l,en(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(ts,e)}catch{}r=!0}return r}finally{Z=n,et.transition=t}}return!1}function su(e,t,n){t=Kn(n,t),t=wd(e,t,1),e=Gt(e,t,1),t=Ie(),e!==null&&(Gr(e,1,t),Ue(e,t))}function ue(e,t,n){if(e.tag===3)su(e,e,n);else for(;t!==null;){if(t.tag===3){su(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qt===null||!Qt.has(r))){e=Kn(n,e),e=jd(t,e,1),t=Gt(t,e,1),e=Ie(),t!==null&&(Gr(t,1,e),Ue(t,e));break}}t=t.return}}function Wh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,we===e&&(Ne&n)===n&&(ge===4||ge===3&&(Ne&130023424)===Ne&&500>de()-Oi?an(e,0):Ai|=n),Ue(e,t)}function Bd(e,t){t===0&&(e.mode&1?(t=sl,sl<<=1,!(sl&130023424)&&(sl=4194304)):t=1);var n=Ie();e=Pt(e,t),e!==null&&(Gr(e,t,n),Ue(e,n))}function Vh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bd(e,n)}function Hh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(t),Bd(e,n)}var $d;$d=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)Fe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Fe=!1,Th(e,t,n);Fe=!!(e.flags&131072)}else Fe=!1,le&&t.flags&1048576&&Gc(t,$l,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Cl(e,t),e=t.pendingProps;var l=Hn(t,Le.current);$n(t,n),l=Ti(null,t,r,e,l,n);var s=Ii();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oe(r)?(s=!0,Ul(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,_i(t),l.updater=as,t.stateNode=l,l._reactInternals=t,Lo(t,r,e,n),t=Io(null,t,r,!0,s,n)):(t.tag=0,le&&s&&wi(t),Te(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Cl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Qh(r),e=st(r,e),l){case 0:t=To(null,t,r,e,n);break e;case 1:t=Ka(null,t,r,e,n);break e;case 11:t=Qa(null,t,r,e,n);break e;case 14:t=Ya(null,t,r,st(r.type,e),n);break e}throw Error(b(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:st(r,l),To(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:st(r,l),Ka(e,t,r,l,n);case 3:e:{if(Cd(t),e===null)throw Error(b(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Jc(e,t),Hl(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Kn(Error(b(423)),t),t=Za(e,t,r,n,l);break e}else if(r!==l){l=Kn(Error(b(424)),t),t=Za(e,t,r,n,l);break e}else for(We=Ht(t.stateNode.containerInfo.firstChild),Ve=t,le=!0,at=null,n=Zc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gn(),r===l){t=Lt(e,t,n);break e}Te(e,t,r,n)}t=t.child}return t;case 5:return qc(t),e===null&&_o(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,So(r,l)?i=null:s!==null&&So(r,s)&&(t.flags|=32),Nd(e,t),Te(e,t,i,n),t.child;case 6:return e===null&&_o(t),null;case 13:return Ed(e,t,n);case 4:return bi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qn(t,null,r,n):Te(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:st(r,l),Qa(e,t,r,l,n);case 7:return Te(e,t,t.pendingProps,n),t.child;case 8:return Te(e,t,t.pendingProps.children,n),t.child;case 12:return Te(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,i=l.value,q(Wl,r._currentValue),r._currentValue=i,s!==null)if(ft(s.value,i)){if(s.children===l.children&&!Ae.current){t=Lt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Ct(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),bo(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(b(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),bo(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Te(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,$n(t,n),l=tt(l),r=r(l),t.flags|=1,Te(e,t,r,n),t.child;case 14:return r=t.type,l=st(r,t.pendingProps),l=st(r.type,l),Ya(e,t,r,l,n);case 15:return Sd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:st(r,l),Cl(e,t),t.tag=1,Oe(r)?(e=!0,Ul(t)):e=!1,$n(t,n),yd(t,r,l),Lo(t,r,l,n),Io(null,t,r,!0,e,n);case 19:return _d(e,t,n);case 22:return kd(e,t,n)}throw Error(b(156,t.tag))};function Wd(e,t){return gc(e,t)}function Gh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(e,t,n,r){return new Gh(e,t,n,r)}function Wi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qh(e){if(typeof e=="function")return Wi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ai)return 11;if(e===ui)return 14}return 2}function Kt(e,t){var n=e.alternate;return n===null?(n=qe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bl(e,t,n,r,l,s){var i=2;if(r=e,typeof e=="function")Wi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case _n:return un(n.children,l,s,t);case ii:i=8,l|=8;break;case qs:return e=qe(12,n,t,l|2),e.elementType=qs,e.lanes=s,e;case eo:return e=qe(13,n,t,l),e.elementType=eo,e.lanes=s,e;case to:return e=qe(19,n,t,l),e.elementType=to,e.lanes=s,e;case qu:return ds(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xu:i=10;break e;case Ju:i=9;break e;case ai:i=11;break e;case ui:i=14;break e;case Rt:i=16,r=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=qe(i,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function un(e,t,n,r){return e=qe(7,e,r,t),e.lanes=n,e}function ds(e,t,n,r){return e=qe(22,e,r,t),e.elementType=qu,e.lanes=n,e.stateNode={isHidden:!1},e}function Vs(e,t,n){return e=qe(6,e,null,t),e.lanes=n,e}function Hs(e,t,n){return t=qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yh(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cs(0),this.expirationTimes=Cs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Vi(e,t,n,r,l,s,i,a,u){return e=new Yh(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=qe(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_i(s),e}function Kh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:En,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Vd(e){if(!e)return Xt;e=e._reactInternals;e:{if(wn(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var n=e.type;if(Oe(n))return Vc(e,n,t)}return t}function Hd(e,t,n,r,l,s,i,a,u){return e=Vi(n,r,!0,e,l,s,i,a,u),e.context=Vd(null),n=e.current,r=Ie(),l=Yt(n),s=Ct(r,l),s.callback=t??null,Gt(n,s,l),e.current.lanes=l,Gr(e,l,r),Ue(e,r),e}function fs(e,t,n,r){var l=t.current,s=Ie(),i=Yt(l);return n=Vd(n),t.context===null?t.context=n:t.pendingContext=n,t=Ct(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gt(l,t,i),e!==null&&(dt(e,l,i,s),Sl(e,l,i)),i}function ql(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ou(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hi(e,t){ou(e,t),(e=e.alternate)&&ou(e,t)}function Zh(){return null}var Gd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gi(e){this._internalRoot=e}ms.prototype.render=Gi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));fs(e,t,null,null)};ms.prototype.unmount=Gi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gn(function(){fs(null,e,null,null)}),t[bt]=null}};function ms(e){this._internalRoot=e}ms.prototype.unstable_scheduleHydration=function(e){if(e){var t=kc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&t!==0&&t<Mt[n].priority;n++);Mt.splice(n,0,e),n===0&&Cc(e)}};function Qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iu(){}function Xh(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=ql(i);s.call(c)}}var i=Hd(t,r,e,0,null,!1,!1,"",iu);return e._reactRootContainer=i,e[bt]=i.current,Ir(e.nodeType===8?e.parentNode:e),gn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var c=ql(u);a.call(c)}}var u=Vi(e,0,!1,null,null,!1,!1,"",iu);return e._reactRootContainer=u,e[bt]=u.current,Ir(e.nodeType===8?e.parentNode:e),gn(function(){fs(t,u,n,r)}),u}function ps(e,t,n,r,l){var s=n._reactRootContainer;if(s){var i=s;if(typeof l=="function"){var a=l;l=function(){var u=ql(i);a.call(u)}}fs(t,i,e,l)}else i=Xh(n,t,e,l,r);return ql(i)}jc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hr(t.pendingLanes);n!==0&&(fi(t,n|1),Ue(t,de()),!(G&6)&&(Zn=de()+500,en()))}break;case 13:gn(function(){var r=Pt(e,1);if(r!==null){var l=Ie();dt(r,e,1,l)}}),Hi(e,1)}};mi=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var n=Ie();dt(t,e,134217728,n)}Hi(e,134217728)}};Sc=function(e){if(e.tag===13){var t=Yt(e),n=Pt(e,t);if(n!==null){var r=Ie();dt(n,e,t,r)}Hi(e,t)}};kc=function(){return Z};Nc=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};fo=function(e,t,n){switch(t){case"input":if(lo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ss(r);if(!l)throw Error(b(90));tc(r),lo(r,l)}}}break;case"textarea":rc(e,n);break;case"select":t=n.value,t!=null&&An(e,!!n.multiple,t,!1)}};cc=Ui;dc=gn;var Jh={usingClientEntryPoint:!1,Events:[Yr,Dn,ss,ac,uc,Ui]},cr={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qh={bundleType:cr.bundleType,version:cr.version,rendererPackageName:cr.rendererPackageName,rendererConfig:cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hc(e),e===null?null:e.stateNode},findFiberByHostInstance:cr.findFiberByHostInstance||Zh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gl.isDisabled&&gl.supportsFiber)try{ts=gl.inject(qh),xt=gl}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jh;Ge.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qi(t))throw Error(b(200));return Kh(e,t,null,n)};Ge.createRoot=function(e,t){if(!Qi(e))throw Error(b(299));var n=!1,r="",l=Gd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Vi(e,1,!1,null,null,n,!1,r,l),e[bt]=t.current,Ir(e.nodeType===8?e.parentNode:e),new Gi(t)};Ge.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=hc(t),e=e===null?null:e.stateNode,e};Ge.flushSync=function(e){return gn(e)};Ge.hydrate=function(e,t,n){if(!hs(t))throw Error(b(200));return ps(null,e,t,!0,n)};Ge.hydrateRoot=function(e,t,n){if(!Qi(e))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",i=Gd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Hd(t,null,e,1,n??null,l,!1,s,i),e[bt]=t.current,Ir(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ms(t)};Ge.render=function(e,t,n){if(!hs(t))throw Error(b(200));return ps(null,e,t,!1,n)};Ge.unmountComponentAtNode=function(e){if(!hs(e))throw Error(b(40));return e._reactRootContainer?(gn(function(){ps(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1};Ge.unstable_batchedUpdates=Ui;Ge.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hs(n))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return ps(e,t,n,!1,r)};Ge.version="18.3.1-next-f1338f8080-20240426";function Qd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qd)}catch(e){console.error(e)}}Qd(),Qu.exports=Ge;var Yd=Qu.exports,au=Yd;Xs.createRoot=au.createRoot,Xs.hydrateRoot=au.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $r(){return $r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$r.apply(this,arguments)}var Bt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bt||(Bt={}));const uu="popstate";function ep(e){e===void 0&&(e={});function t(r,l){let{pathname:s,search:i,hash:a}=r.location;return Ho("",{pathname:s,search:i,hash:a},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Kd(l)}return np(t,n,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Yi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tp(){return Math.random().toString(36).substr(2,8)}function cu(e,t){return{usr:e.state,key:e.key,idx:t}}function Ho(e,t,n,r){return n===void 0&&(n=null),$r({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tr(t):t,{state:n,key:t&&t.key||r||tp()})}function Kd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function tr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function np(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,i=l.history,a=Bt.Pop,u=null,c=m();c==null&&(c=0,i.replaceState($r({},i.state,{idx:c}),""));function m(){return(i.state||{idx:null}).idx}function d(){a=Bt.Pop;let k=m(),h=k==null?null:k-c;c=k,u&&u({action:a,location:j.location,delta:h})}function p(k,h){a=Bt.Push;let f=Ho(j.location,k,h);c=m()+1;let g=cu(f,c),S=j.createHref(f);try{i.pushState(g,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;l.location.assign(S)}s&&u&&u({action:a,location:j.location,delta:1})}function x(k,h){a=Bt.Replace;let f=Ho(j.location,k,h);c=m();let g=cu(f,c),S=j.createHref(f);i.replaceState(g,"",S),s&&u&&u({action:a,location:j.location,delta:0})}function y(k){let h=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof k=="string"?k:Kd(k);return f=f.replace(/ $/,"%20"),me(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let j={get action(){return a},get location(){return e(l,i)},listen(k){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(uu,d),u=k,()=>{l.removeEventListener(uu,d),u=null}},createHref(k){return t(l,k)},createURL:y,encodeLocation(k){let h=y(k);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:x,go(k){return i.go(k)}};return j}var du;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(du||(du={}));function rp(e,t,n){return n===void 0&&(n="/"),lp(e,t,n)}function lp(e,t,n,r){let l=typeof t=="string"?tr(t):t,s=Jd(l.pathname||"/",n);if(s==null)return null;let i=Zd(e);sp(i);let a=null;for(let u=0;a==null&&u<i.length;++u){let c=xp(s);a=hp(i[u],c)}return a}function Zd(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,i,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};u.relativePath.startsWith("/")&&(me(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=cn([r,u.relativePath]),m=n.concat(u);s.children&&s.children.length>0&&(me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Zd(s.children,t,m,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:fp(c,s.index),routesMeta:m})};return e.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))l(s,i);else for(let u of Xd(s.path))l(s,i,u)}),t}function Xd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let i=Xd(r.join("/")),a=[];return a.push(...i.map(u=>u===""?s:[s,u].join("/"))),l&&a.push(...i),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function sp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mp(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const op=/^:[\w-]+$/,ip=3,ap=2,up=1,cp=10,dp=-2,fu=e=>e==="*";function fp(e,t){let n=e.split("/"),r=n.length;return n.some(fu)&&(r+=dp),t&&(r+=ap),n.filter(l=>!fu(l)).reduce((l,s)=>l+(op.test(s)?ip:s===""?up:cp),r)}function mp(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function hp(e,t,n){let{routesMeta:r}=e,l={},s="/",i=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,m=s==="/"?t:t.slice(s.length)||"/",d=pp({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},m),p=u.route;if(!d)return null;Object.assign(l,d.params),i.push({params:l,pathname:cn([s,d.pathname]),pathnameBase:Sp(cn([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=cn([s,d.pathnameBase]))}return i}function pp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=gp(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],i=s.replace(/(.)\/+$/,"$1"),a=l.slice(1);return{params:r.reduce((c,m,d)=>{let{paramName:p,isOptional:x}=m;if(p==="*"){let j=a[d]||"";i=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const y=a[d];return x&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:i,pattern:e}}function gp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Yi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function xp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const vp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yp=e=>vp.test(e);function wp(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?tr(e):e,s;if(n)if(yp(n))s=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),Yi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?s=mu(n.substring(1),"/"):s=mu(n,t)}else s=t;return{pathname:s,search:kp(r),hash:Np(l)}}function mu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Gs(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function qd(e,t){let n=jp(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ef(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=tr(e):(l=$r({},e),me(!l.pathname||!l.pathname.includes("?"),Gs("?","pathname","search",l)),me(!l.pathname||!l.pathname.includes("#"),Gs("#","pathname","hash",l)),me(!l.search||!l.search.includes("#"),Gs("#","search","hash",l)));let s=e===""||l.pathname==="",i=s?"/":l.pathname,a;if(i==null)a=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),d-=1;l.pathname=p.join("/")}a=d>=0?t[d]:"/"}let u=wp(l,a),c=i&&i!=="/"&&i.endsWith("/"),m=(s||i===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||m)&&(u.pathname+="/"),u}const cn=e=>e.join("/").replace(/\/\/+/g,"/"),Sp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Np=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tf=["post","put","patch","delete"];new Set(tf);const Ep=["get",...tf];new Set(Ep);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wr.apply(this,arguments)}const Ki=v.createContext(null),_p=v.createContext(null),Zr=v.createContext(null),gs=v.createContext(null),tn=v.createContext({outlet:null,matches:[],isDataRoute:!1}),nf=v.createContext(null);function Xr(){return v.useContext(gs)!=null}function Jr(){return Xr()||me(!1),v.useContext(gs).location}function rf(e){v.useContext(Zr).static||v.useLayoutEffect(e)}function Be(){let{isDataRoute:e}=v.useContext(tn);return e?Bp():bp()}function bp(){Xr()||me(!1);let e=v.useContext(Ki),{basename:t,future:n,navigator:r}=v.useContext(Zr),{matches:l}=v.useContext(tn),{pathname:s}=Jr(),i=JSON.stringify(qd(l,n.v7_relativeSplatPath)),a=v.useRef(!1);return rf(()=>{a.current=!0}),v.useCallback(function(c,m){if(m===void 0&&(m={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=ef(c,JSON.parse(i),s,m.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:cn([t,d.pathname])),(m.replace?r.replace:r.push)(d,m.state,m)},[t,r,i,s,e])}function Pp(){let{matches:e}=v.useContext(tn),t=e[e.length-1];return t?t.params:{}}function Lp(e,t){return Dp(e,t)}function Dp(e,t,n,r){Xr()||me(!1);let{navigator:l}=v.useContext(Zr),{matches:s}=v.useContext(tn),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let c=Jr(),m;if(t){var d;let k=typeof t=="string"?tr(t):t;u==="/"||(d=k.pathname)!=null&&d.startsWith(u)||me(!1),m=k}else m=c;let p=m.pathname||"/",x=p;if(u!=="/"){let k=u.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=rp(e,{pathname:x}),j=Mp(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:cn([u,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:cn([u,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return t&&j?v.createElement(gs.Provider,{value:{location:Wr({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Bt.Pop}},j):j}function Tp(){let e=Up(),t=Cp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:l},n):null,null)}const Ip=v.createElement(Tp,null);class Rp extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(tn.Provider,{value:this.props.routeContext},v.createElement(nf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zp(e){let{routeContext:t,match:n,children:r}=e,l=v.useContext(Ki);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(tn.Provider,{value:t},r)}function Mp(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(l=n)==null?void 0:l.errors;if(a!=null){let m=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);m>=0||me(!1),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<i.length;m++){let d=i[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=m),d.route.id){let{loaderData:p,errors:x}=n,y=d.route.loader&&p[d.route.id]===void 0&&(!x||x[d.route.id]===void 0);if(d.route.lazy||y){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((m,d,p)=>{let x,y=!1,j=null,k=null;n&&(x=a&&d.route.id?a[d.route.id]:void 0,j=d.route.errorElement||Ip,u&&(c<0&&p===0?($p("route-fallback"),y=!0,k=null):c===p&&(y=!0,k=d.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,p+1)),f=()=>{let g;return x?g=j:y?g=k:d.route.Component?g=v.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=m,v.createElement(zp,{match:d,routeContext:{outlet:m,matches:h,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?v.createElement(Rp,{location:n.location,revalidation:n.revalidation,component:j,error:x,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var lf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lf||{}),sf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sf||{});function Fp(e){let t=v.useContext(Ki);return t||me(!1),t}function Ap(e){let t=v.useContext(_p);return t||me(!1),t}function Op(e){let t=v.useContext(tn);return t||me(!1),t}function of(e){let t=Op(),n=t.matches[t.matches.length-1];return n.route.id||me(!1),n.route.id}function Up(){var e;let t=v.useContext(nf),n=Ap(),r=of();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Bp(){let{router:e}=Fp(lf.UseNavigateStable),t=of(sf.UseNavigateStable),n=v.useRef(!1);return rf(()=>{n.current=!0}),v.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Wr({fromRouteId:t},s)))},[e,t])}const hu={};function $p(e,t,n){hu[e]||(hu[e]=!0)}function Wp(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function af(e){let{to:t,replace:n,state:r,relative:l}=e;Xr()||me(!1);let{future:s,static:i}=v.useContext(Zr),{matches:a}=v.useContext(tn),{pathname:u}=Jr(),c=Be(),m=ef(t,qd(a,s.v7_relativeSplatPath),u,l==="path"),d=JSON.stringify(m);return v.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:l}),[c,d,l,n,r]),null}function Ze(e){me(!1)}function Vp(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Bt.Pop,navigator:s,static:i=!1,future:a}=e;Xr()&&me(!1);let u=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:u,navigator:s,static:i,future:Wr({v7_relativeSplatPath:!1},a)}),[u,a,s,i]);typeof r=="string"&&(r=tr(r));let{pathname:m="/",search:d="",hash:p="",state:x=null,key:y="default"}=r,j=v.useMemo(()=>{let k=Jd(m,u);return k==null?null:{location:{pathname:k,search:d,hash:p,state:x,key:y},navigationType:l}},[u,m,d,p,x,y,l]);return j==null?null:v.createElement(Zr.Provider,{value:c},v.createElement(gs.Provider,{children:n,value:j}))}function Hp(e){let{children:t,location:n}=e;return Lp(Go(t),n)}new Promise(()=>{});function Go(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,l)=>{if(!v.isValidElement(r))return;let s=[...t,l];if(r.type===v.Fragment){n.push.apply(n,Go(r.props.children,s));return}r.type!==Ze&&me(!1),!r.props.index||!r.props.children||me(!1);let i={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Go(r.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Gp="6";try{window.__reactRouterVersion=Gp}catch{}const Qp="startTransition",pu=Wf[Qp];function Yp(e){let{basename:t,children:n,future:r,window:l}=e,s=v.useRef();s.current==null&&(s.current=ep({window:l,v5Compat:!0}));let i=s.current,[a,u]=v.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},m=v.useCallback(d=>{c&&pu?pu(()=>u(d)):u(d)},[u,c]);return v.useLayoutEffect(()=>i.listen(m),[i,m]),v.useEffect(()=>Wp(r),[r]),v.createElement(Vp,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var gu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gu||(gu={}));var xu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xu||(xu={}));const uf=v.createContext(void 0);function Kp({children:e}){const[t,n]=v.useState(null),[r,l]=v.useState(!0),s=Be();v.useEffect(()=>{const u=localStorage.getItem("user");if(u)try{n(JSON.parse(u))}catch{localStorage.removeItem("user")}l(!1)},[]);const i=(u,c)=>{localStorage.setItem("user",JSON.stringify(c)),n(c),s("/")},a=()=>{localStorage.removeItem("user"),n(null),s("/auth")};return o.jsx(uf.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:r,login:i,logout:a},children:e})}function yt(){const e=v.useContext(uf);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const Zp="https://script.google.com/macros/s/AKfycbyBK-9iXQ7bXvd26EN4qCz6DT2V_Z9pniGS2qrLaBP7pqXIQ29hGtmnQj2PP2LYCPHf/exec";class Xp{getUserEmail(){const t=localStorage.getItem("user");if(!t)return null;try{return JSON.parse(t).email||null}catch{return null}}async request(t,n={}){var i,a,u,c,m;const r=this.getUserEmail(),l={...n.headers||{}},s=r?`&auth=${encodeURIComponent("Email "+r)}`:"";try{const p=await(await fetch(`${Zp}?path=${t}${s}`,{...n,headers:l})).json();if(!p.ok){if(((i=p.error)==null?void 0:i.code)==="INVALID_TOKEN"||((a=p.error)==null?void 0:a.code)==="AUTH_REQUIRED"||((u=p.error)==null?void 0:u.code)==="FORBIDDEN"){localStorage.removeItem("user");const x=((c=p.error)==null?void 0:c.message)||"Your account is not authorized to access this application.";throw localStorage.setItem("auth_error",x),window.location.href="/auth",new Error(x)}throw new Error(((m=p.error)==null?void 0:m.message)||"An error occurred")}return p.data}catch(d){throw d instanceof Error?d:new Error("Network error")}}async get(t,n){const r=n?Object.fromEntries(Object.entries(n).filter(([s,i])=>i!==void 0)):void 0,l=r?"&"+new URLSearchParams(r).toString():"";return this.request(`${t}${l}`,{method:"POST"})}async post(t,n){return this.request(t,{method:"POST",body:JSON.stringify(n)})}async put(t,n){return this.request(t,{method:"PUT",body:JSON.stringify(n)})}}const re=new Xp,vu={async get(){return re.get("profile/get")},async save(e){return re.post("profile/save",e)}};function Jp(e){return new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{const s=r.result.split(",")[1];t(s)},r.onerror=n})}const cf=v.createContext(void 0);let dr=null,Qs=null;function qp({children:e}){const{isAuthenticated:t,isLoading:n}=yt(),[r,l]=v.useState(null),[s,i]=v.useState(!1),[a,u]=v.useState(null),c=async()=>{if(t){i(!0);try{const d=await vu.get();if(l({pseudo:d.pseudo,avatar_url:d.avatar_url}),d.avatar_base64&&d.avatar_url!==Qs)try{const p=`data:image/jpeg;base64,${d.avatar_base64}`;dr&&URL.revokeObjectURL(dr),dr=p,Qs=d.avatar_url,u(p)}catch(p){console.error("Failed to convert avatar to data URL:",p),u(null)}else d.avatar_url===Qs&&dr?u(dr):d.avatar_base64||u(null)}catch(d){console.error("Failed to load profile:",d)}finally{i(!1)}}};v.useEffect(()=>{!n&&t&&c()},[t,n]);const m=async(d,p)=>{try{const x={pseudo:d};if(p){const j=await Jp(p);x.avatar=j}const y=await vu.save(x);l({pseudo:y.pseudo,avatar_url:y.avatar_url}),await c()}catch(x){throw console.error("Failed to save profile:",x),x}};return o.jsx(cf.Provider,{value:{profile:r,isLoading:s,saveProfile:m,reloadProfile:c,avatarBlobUrl:a},children:e})}function Zi(){const e=v.useContext(cf);if(!e)throw new Error("useProfile must be used within ProfileProvider");return e}function df({size:e="md",className:t=""}){const r={sm:{width:16,height:16,border:2},md:{width:32,height:32,border:3},lg:{width:48,height:48,border:4}}[e];return o.jsx("div",{className:`rounded-full animate-spin ${t}`,style:{width:r.width,height:r.height,borderWidth:r.border,borderStyle:"solid",borderColor:"#2563eb",borderTopColor:"transparent"}})}function jn({message:e="Loading..."}){return o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[o.jsx(df,{size:"lg"}),o.jsx("p",{className:"mt-4 text-gray-600",children:e})]})}function wt({children:e}){const{isAuthenticated:t,isLoading:n}=yt();return n?o.jsx(jn,{message:"Checking authentication..."}):t?o.jsx(o.Fragment,{children:e}):o.jsx(af,{to:"/auth",replace:!0})}function Y({variant:e="primary",fullWidth:t=!1,className:n="",children:r,...l}){const s="px-6 py-3 rounded-lg font-medium transition-colors touch-manipulation flex items-center justify-center",i={primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 disabled:bg-gray-300",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 active:bg-gray-400 disabled:bg-gray-100",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800 disabled:bg-gray-300"},a=t?"w-full":"";return o.jsx("button",{className:`${s} ${i[e]} ${a} ${n}`,...l,children:r})}const xn={MAX_TEXT_LENGTH:300,MAX_PHOTOS_IN_ASSEMBLY:10,IMAGE_MAX_SIZE_MB:2,TIMEZONE:"Europe/Paris",PDF_POLL_INTERVAL_MS:3e3,INFINITE_SCROLL_THRESHOLD:.8,TARGET_IMAGE_WIDTH_PX:2480,ARTICLES_PER_PAGE:5},ff=["January","February","March","April","May","June","July","August","September","October","November","December"];function e0(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function t0(){const{login:e,isAuthenticated:t}=yt(),n=Be(),[r,l]=v.useState(!1),[s,i]=v.useState(null),[a]=v.useState(e0()),[u,c]=v.useState(!1);v.useEffect(()=>{t&&n("/")},[t,n]),v.useEffect(()=>{const d=localStorage.getItem("auth_error");d&&(i(d),localStorage.removeItem("auth_error"))},[]),v.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,document.body.appendChild(d),()=>{document.body.removeChild(d)}},[]);const m=()=>{var p,x,y;l(!0),i(null);const d=(y=(x=(p=window.google)==null?void 0:p.accounts)==null?void 0:x.oauth2)==null?void 0:y.initTokenClient({client_id:"175845978100-rqclosiat622f3b7ijpg17t2fnrnb522.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",callback:j=>{j.access_token?fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${j.access_token}`}}).then(k=>k.json()).then(k=>{e(j.access_token,{email:k.email,name:k.name}),l(!1)}).catch(()=>{i("Failed to get user information"),l(!1),a&&c(!0)}):(i("Failed to authenticate with Google"),l(!1),a&&c(!0))},error_callback:()=>{i("Google Sign-In failed"),l(!1),a&&c(!0)}});d==null||d.requestAccessToken()};return r?o.jsx(jn,{message:"Signing in..."}):a&&u?o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rememly"}),o.jsx("p",{className:"text-gray-600",children:"Family photo journal"})]}),o.jsx("div",{className:"mb-6 w-full max-w-md",children:o.jsxs("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Safari login required"}),o.jsx("p",{className:"text-blue-800 text-sm mb-4",children:"Google sign-in doesn't work in app mode. Please login from Safari:"}),o.jsxs("ol",{className:"text-blue-800 text-sm space-y-2 mb-4 list-decimal list-inside",children:[o.jsx("li",{children:"Open Safari on your iPhone"}),o.jsxs("li",{children:["Go to ",o.jsx("span",{className:"font-mono bg-blue-100 px-1 rounded",children:"grut505.github.io"})]}),o.jsx("li",{children:"Sign in with your Google account"}),o.jsx("li",{children:"Add the app to your home screen again"})]}),o.jsx("p",{className:"text-blue-700 text-xs italic",children:"Important: you must re-add the app to your home screen after signing in from Safari."})]})}),o.jsx(Y,{onClick:()=>{window.location.href="https://grut505.github.io/auth"},className:"w-full max-w-sm",children:"Open in Safari"}),o.jsx("button",{onClick:()=>c(!1),className:"mt-4 text-sm text-gray-600 underline",children:"Try sign-in again"})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rememly"}),o.jsx("p",{className:"text-gray-600",children:"Family photo journal"})]}),s&&o.jsx("div",{className:"mb-6 w-full max-w-sm",children:o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("div",{className:"text-red-600 text-center text-sm",children:s})})}),o.jsx(Y,{onClick:m,className:"w-full max-w-sm",children:s?"Try another account":"Sign in with Google"})]})}const n0={},yu=e=>{let t;const n=new Set,r=(m,d)=>{const p=typeof m=="function"?m(t):m;if(!Object.is(p,t)){const x=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,x))}},l=()=>t,u={setState:r,getState:l,getInitialState:()=>c,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(n0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,l,u);return u},r0=e=>e?yu(e):yu;var mf={exports:{}},hf={},pf={exports:{}},gf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xn=v;function l0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var s0=typeof Object.is=="function"?Object.is:l0,o0=Xn.useState,i0=Xn.useEffect,a0=Xn.useLayoutEffect,u0=Xn.useDebugValue;function c0(e,t){var n=t(),r=o0({inst:{value:n,getSnapshot:t}}),l=r[0].inst,s=r[1];return a0(function(){l.value=n,l.getSnapshot=t,Ys(l)&&s({inst:l})},[e,n,t]),i0(function(){return Ys(l)&&s({inst:l}),e(function(){Ys(l)&&s({inst:l})})},[e]),u0(n),n}function Ys(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!s0(e,n)}catch{return!0}}function d0(e,t){return t()}var f0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d0:c0;gf.useSyncExternalStore=Xn.useSyncExternalStore!==void 0?Xn.useSyncExternalStore:f0;pf.exports=gf;var m0=pf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xs=v,h0=m0;function p0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var g0=typeof Object.is=="function"?Object.is:p0,x0=h0.useSyncExternalStore,v0=xs.useRef,y0=xs.useEffect,w0=xs.useMemo,j0=xs.useDebugValue;hf.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var s=v0(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=w0(function(){function u(x){if(!c){if(c=!0,m=x,x=r(x),l!==void 0&&i.hasValue){var y=i.value;if(l(y,x))return d=y}return d=x}if(y=d,g0(m,x))return y;var j=r(x);return l!==void 0&&l(y,j)?(m=x,y):(m=x,d=j)}var c=!1,m,d,p=n===void 0?null:n;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,n,r,l]);var a=x0(e,s[0],s[1]);return y0(function(){i.hasValue=!0,i.value=a},[a]),j0(a),a};mf.exports=hf;var S0=mf.exports;const k0=zu(S0),xf={},{useDebugValue:N0}=ri,{useSyncExternalStoreWithSelector:C0}=k0;let wu=!1;const E0=e=>e;function _0(e,t=E0,n){(xf?"production":void 0)!=="production"&&n&&!wu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),wu=!0);const r=C0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return N0(r),r}const ju=e=>{(xf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?r0(e):e,n=(r,l)=>_0(t,r,l);return Object.assign(n,t),n},Xi=e=>e?ju(e):ju,Su={year:"",month:"",from:"",to:"",author:"",statusFilter:"active",sourceFilter:"all"},ot=Xi(e=>({articles:[],isLoading:!1,error:null,cursor:null,hasMore:!0,filters:Su,setArticles:(t,n=null)=>{const r=new Set,l=t.filter(s=>r.has(s.id)?!1:(r.add(s.id),!0));return e({articles:l,cursor:n,hasMore:n!==null})},addArticles:(t,n)=>e(r=>{const l=new Set(r.articles.map(i=>i.id)),s=t.filter(i=>!l.has(i.id));return{articles:[...r.articles,...s],cursor:n,hasMore:n!==null}}),updateArticle:t=>e(n=>({articles:n.articles.map(r=>r.id===t.id?t:r)})),deleteArticle:t=>e(n=>({articles:n.articles.filter(r=>r.id!==t)})),setLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),setFilters:t=>e({filters:t}),reset:()=>e({articles:[],isLoading:!1,error:null,cursor:null,hasMore:!0,filters:Su})})),ut={list:e=>re.get("articles/list",e),authors:e=>re.get("articles/authors",e),get:e=>re.get("articles/get",{id:e}),create:e=>re.post("articles/create",e),update:e=>re.post("articles/update",e),delete:e=>re.get("articles/delete",{id:e}),permanentDelete:e=>re.get("articles/permanent-delete",{id:e})};function vf({onClick:e,icon:t,className:n=""}){return o.jsx("button",{onClick:e,className:`w-16 h-16 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 active:bg-blue-800 flex items-center justify-center text-3xl touch-manipulation ${n}`,"aria-label":"Create new article",children:t||"+"})}function yf({message:e,onRetry:t,retryLabel:n="Retry"}){return o.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-red-50 border border-red-200 rounded-lg",children:[o.jsx("div",{className:"text-red-600 text-center mb-4",children:e}),t&&o.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:n})]})}function wf(e){return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Qo(){return new Date().getFullYear()}function jf(e){return new Date(e).toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}function ku(e){const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`}const Nu=new Map;function b0(e){if(!e)return null;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/thumbnail\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return r[1]}return null}function P0(e,t){const[n,r]=v.useState(""),[l,s]=v.useState(!0),[i,a]=v.useState(!1);return v.useEffect(()=>{if(!e){r(""),s(!1),a(!1);return}if(e.startsWith("data:")||e.startsWith("blob:")){r(e),s(!1),a(!1);return}const u=t||b0(e);if(!u){a(!0),s(!1);return}const c=Nu.get(u);if(c){r(c),s(!1),a(!1);return}s(!0),a(!1),(async()=>{try{const d=await re.get("image/fetch",{fileId:u});if(!d.base64){a(!0),s(!1);return}const p=`data:image/jpeg;base64,${d.base64}`;Nu.set(u,p),r(p),s(!1)}catch{a(!0),s(!1)}})()},[e,t]),{src:n,isLoading:l,error:i}}function vn({isOpen:e,title:t,message:n,confirmLabel:r="Confirm",cancelLabel:l="Cancel",onConfirm:s,onCancel:i,variant:a="primary",isLoading:u=!1,progress:c=null}){return e?Yd.createPortal(o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:i}),o.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-2",children:t}),o.jsx("p",{className:"text-gray-600 mb-4",children:n}),c&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[o.jsx("span",{children:"Deleting..."}),o.jsxs("span",{children:[c.current," / ",c.total]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-red-600 h-2.5 rounded-full transition-all duration-200",style:{width:`${c.current/c.total*100}%`}})})]}),!c&&o.jsx("div",{className:"mb-2"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Y,{variant:"secondary",fullWidth:!0,onClick:i,disabled:u,children:l}),o.jsx(Y,{variant:a,fullWidth:!0,onClick:s,disabled:u,children:u?"Deleting...":r})]})]})]}),document.body):null}async function L0(e,t=xn.TARGET_IMAGE_WIDTH_PX){return new Promise((n,r)=>{const l=new FileReader;l.onload=s=>{var a;const i=new Image;i.onload=()=>{const u=document.createElement("canvas");let c=i.width,m=i.height;c>t&&(m=m*t/c,c=t),u.width=c,u.height=m,u.getContext("2d").drawImage(i,0,0,c,m);const p=u.toDataURL("image/jpeg",.85);n(p.split(",")[1])},i.onerror=r,i.src=(a=s.target)==null?void 0:a.result},l.onerror=r,l.readAsDataURL(e)})}function D0(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{const l=r.result.split(",")[1];t(l)},r.onerror=n,r.readAsDataURL(e)})}async function T0(e,t=.9){return new Promise(n=>{e.toBlob(async r=>{if(r){const l=await D0(r);n(l)}},"image/jpeg",t)})}class I0{async processImage(t){const n=await L0(t);return{fileName:t.name,mimeType:"image/jpeg",base64:n}}async processMultipleImages(t){return Promise.all(t.map(n=>this.processImage(n)))}}const Cu=new I0;class R0{async createArticle(t,n,r,l,s,i,a){const u=await Cu.processImage(r),c={auteur:t,texte:n,image:u,date:l,famileo_post_id:s,assembly_state:i||null,full_page:a||!1};return ut.create(c)}async updateArticle(t,n,r,l,s,i,a){const u={id:t,texte:n,date:l,assembly_state:s,full_page:i,status:a};return r&&(u.image=await Cu.processImage(r)),ut.update(u)}async deleteArticle(t){await ut.delete(t)}async restoreArticle(t){return ut.update({id:t,status:"ACTIVE"})}}const Et=new R0;function z0(e){if(!e)return"";if(e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w200`}return e}function M0(e,t){if(t){const r=t.startsWith("blob:")||t.startsWith("data:")?t:z0(t);return o.jsx("img",{src:r,alt:e,className:"w-10 h-10 rounded-full object-cover border-2 border-primary-200 flex-shrink-0"})}const n=e.split(" ").map(r=>r[0]).join("").toUpperCase().substring(0,2);return o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-sm font-semibold text-primary-700",children:n})})}function F0({article:e,onDeleted:t,onRestored:n,selectionMode:r,selected:l,onSelectionChange:s}){const i=Be(),{user:a}=yt(),{profile:u,avatarBlobUrl:c}=Zi(),{src:m,isLoading:d,error:p}=P0(e.image_url,e.image_file_id),[x,y]=v.useState(!1),[j,k]=v.useState(!1),[h,f]=v.useState(!1),[g,S]=v.useState(!1),w=e.status==="DELETED",_=F=>{F.stopPropagation(),i(`/editor/${e.id}`)},C=()=>{i(`/editor/${e.id}`)},E=F=>{F.stopPropagation(),y(!0)},A=async()=>{k(!0);try{await Et.deleteArticle(e.id),y(!1),t==null||t(e.id)}catch(F){console.error("Failed to delete article:",F)}finally{k(!1)}},M=F=>{F.stopPropagation(),f(!0)},Q=async()=>{S(!0);try{await Et.restoreArticle(e.id),f(!1),n==null||n(e.id)}catch(F){console.error("Failed to restore article:",F)}finally{S(!1)}},H=e.author_pseudo||"Unknown",$=(a==null?void 0:a.email)===e.auteur&&c||void 0,O=F=>{F.stopPropagation(),s==null||s(e.id,F.target.checked)};return o.jsxs("div",{className:"px-4 mb-4",children:[o.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border hover:shadow-lg transition-shadow max-w-2xl mx-auto relative z-0 ${w?"border-red-300":l?"border-primary-500 ring-2 ring-primary-200":"border-gray-200"}`,onClick:r?()=>s==null?void 0:s(e.id,!l):void 0,children:[(w||e.famileo_post_id)&&o.jsxs("div",{className:"flex",children:[e.famileo_post_id&&o.jsx("div",{className:"flex-1 bg-purple-500 text-white text-xs font-semibold px-2 py-1 text-center",children:"Famileo"}),w&&o.jsx("div",{className:"flex-1 bg-red-500 text-white text-xs font-semibold px-2 py-1 text-center",children:"Deleted"})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r&&o.jsx("input",{type:"checkbox",checked:l,onChange:O,onClick:F=>F.stopPropagation(),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 flex-shrink-0"}),M0(H,$),o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:H}),o.jsx("span",{className:"text-sm text-gray-500",children:wf(e.date)})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:_,className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Edit article",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),w?o.jsx("button",{onClick:M,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Restore article",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}):o.jsx("button",{onClick:E,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Delete article",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),o.jsxs("div",{onClick:C,className:"w-full cursor-pointer bg-gray-50 relative",children:[d&&!p&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),p?o.jsxs("div",{className:"p-8 text-center text-gray-500",children:[o.jsx("p",{className:"text-sm",children:"Failed to load image"}),o.jsxs("p",{className:"text-xs mt-1",children:["FileId: ",e.image_file_id]})]}):m&&o.jsx("img",{src:m,alt:"",className:"w-full h-auto object-contain",loading:"lazy"})]}),e.texte&&o.jsx("div",{onClick:C,className:"p-4 transition-colors cursor-pointer hover:bg-gray-50",children:o.jsx("p",{className:"whitespace-pre-wrap text-gray-900",children:e.texte})})]}),o.jsx(vn,{isOpen:x,title:"Delete article?",message:"The article will be marked as deleted. You can find it later by enabling the 'Show deleted' filter.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:A,onCancel:()=>y(!1),variant:"danger",isLoading:j}),o.jsx(vn,{isOpen:h,title:"Restore article?",message:"The article will be restored and visible again in your timeline.",confirmLabel:"Restore",cancelLabel:"Cancel",onConfirm:Q,onCancel:()=>f(!1),isLoading:g})]})}function A0(){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No articles yet"}),o.jsx("p",{className:"text-gray-600",children:"Tap the + button to create your first photo article"})]})}function O0({monthYear:e}){return o.jsx("div",{className:"bg-gray-100 px-4 pt-3 pb-2 sticky top-[108px] z-10",children:o.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:e})})}function Sn({onMenuClick:e}){const t=Be(),[n,r]=v.useState(!1),l=v.useRef(null);v.useEffect(()=>{function i(a){l.current&&!l.current.contains(a.target)&&r(!1)}if(n)return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[n]);const s=i=>{r(!1),t(i)};return o.jsxs(o.Fragment,{children:[o.jsxs("header",{className:"bg-primary-600 text-white px-4 h-14 flex items-center fixed top-0 left-0 right-0 z-30 shadow-md max-w-content mx-auto",children:[o.jsx("div",{className:"w-10"}),o.jsx("h1",{className:"flex-1 text-xl font-bold leading-none text-center",children:"Rememly"}),o.jsxs("div",{className:"relative",ref:l,children:[o.jsx("button",{onClick:()=>r(!n),className:"p-2 hover:bg-primary-700 rounded-lg transition-colors touch-manipulation flex items-center justify-center","aria-label":"Menu",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})}),n&&o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-2 text-gray-800 z-30",children:[o.jsxs("button",{onClick:()=>s("/profile"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),o.jsx("span",{children:"Profile"})]}),o.jsxs("button",{onClick:()=>s("/stats"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),o.jsx("span",{children:"Statistics"})]}),o.jsxs("button",{onClick:()=>s("/famileo"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 text-orange-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),o.jsx("span",{children:"Famileo Scraper"})]}),o.jsxs("button",{onClick:()=>s("/pdf-export"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("span",{children:"PDF Export"})]}),o.jsxs("button",{onClick:()=>s("/settings"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[o.jsxs("svg",{className:"w-5 h-5 text-gray-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),o.jsx("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),o.jsx("span",{children:"Settings"})]}),o.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2 px-4 py-2",children:o.jsxs("p",{className:"text-xs text-gray-400",children:["v","1.2.0"," / backend @","94"]})})]})]})]}),o.jsx("div",{className:"h-14 flex-shrink-0"})]})}function U0({isOpen:e,onClose:t,title:n,children:r}){return v.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),o.jsxs("div",{className:"relative bg-white rounded-t-2xl sm:rounded-2xl w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] flex flex-col shadow-xl",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n}),o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 touch-manipulation p-2",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:r})]})]}):null}const Vr=v.forwardRef(({label:e,error:t,className:n="",...r},l)=>o.jsxs("div",{className:"w-full",children:[e&&o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),o.jsx("input",{ref:l,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"border-red-500":"border-gray-300"} ${n}`,...r}),t&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]}));Vr.displayName="Input";const ae={year:"",month:"",dateFrom:"",dateTo:"",author:"",statusFilter:"active",sourceFilter:"all"};function B0({initialFilters:e,onApply:t,onClose:n}){const[r,l]=v.useState((e==null?void 0:e.year)??ae.year),[s,i]=v.useState((e==null?void 0:e.month)??ae.month),[a,u]=v.useState((e==null?void 0:e.dateFrom)??ae.dateFrom),[c,m]=v.useState((e==null?void 0:e.dateTo)??ae.dateTo),[d,p]=v.useState((e==null?void 0:e.author)??ae.author),[x,y]=v.useState((e==null?void 0:e.statusFilter)??ae.statusFilter),[j,k]=v.useState((e==null?void 0:e.sourceFilter)??ae.sourceFilter),[h,f]=v.useState([]),[g,S]=v.useState(!1);v.useEffect(()=>{e&&(l(e.year??ae.year),i(e.month??ae.month),u(e.dateFrom??ae.dateFrom),m(e.dateTo??ae.dateTo),p(e.author??ae.author),y(e.statusFilter??ae.statusFilter),k(e.sourceFilter??ae.sourceFilter))},[e]),v.useEffect(()=>{let C=!0;return(async()=>{S(!0);try{const A=await ut.authors({status_filter:x,source_filter:j});C&&f(A.authors||[])}catch{C&&f([])}finally{C&&S(!1)}})(),()=>{C=!1}},[x,j]);const w=()=>{t({year:r,month:s,dateFrom:a,dateTo:c,author:d,statusFilter:x,sourceFilter:j}),n()},_=()=>{l(ae.year),i(ae.month),u(ae.dateFrom),m(ae.dateTo),p(ae.author),y(ae.statusFilter),k(ae.sourceFilter),t(ae),n()};return o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"p-4 space-y-6 overflow-y-auto overscroll-contain",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),o.jsxs("select",{value:r,onChange:C=>{l(C.target.value),C.target.value||i("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All years"}),[...Array(10)].map((C,E)=>{const A=Qo()-E;return o.jsx("option",{value:A,children:A},A)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),o.jsxs("select",{value:s,onChange:C=>i(C.target.value),disabled:!r,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[o.jsx("option",{value:"",children:"All months"}),ff.map((C,E)=>o.jsx("option",{value:(E+1).toString().padStart(2,"0"),children:C},E))]}),!r&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a year first"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Author"}),o.jsxs("select",{value:d,onChange:C=>p(C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All authors"}),h.map(C=>o.jsx("option",{value:C.email,children:C.pseudo||C.email.split("@")[0]},C.email))]}),g&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Loading authors..."})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsx(Vr,{type:"date",label:"From",value:a,onChange:C=>{const E=C.target.value;u(E),c&&E&&c<E&&m(E)},max:c||void 0,className:"min-w-0"}),o.jsx(Vr,{type:"date",label:"To",value:c,onChange:C=>{const E=C.target.value;m(E),a&&E&&E<a&&u(E)},min:a||void 0,className:"min-w-0"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[o.jsx("button",{type:"button",onClick:()=>y("active"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${x==="active"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Active"}),o.jsx("button",{type:"button",onClick:()=>y("all"),className:`flex-1 px-3 py-2 text-sm font-medium border-x border-gray-300 transition-colors ${x==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"All"}),o.jsx("button",{type:"button",onClick:()=>y("deleted"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${x==="deleted"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Deleted"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source"}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[o.jsx("button",{type:"button",onClick:()=>k("all"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${j==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"All"}),o.jsx("button",{type:"button",onClick:()=>k("famileo"),className:`flex-1 px-3 py-2 text-sm font-medium border-x border-gray-300 transition-colors ${j==="famileo"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Famileo"}),o.jsx("button",{type:"button",onClick:()=>k("local"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${j==="local"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Local"})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 p-4 bg-white sticky bottom-0",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Y,{variant:"secondary",onClick:_,fullWidth:!0,children:"Reset"}),o.jsx(Y,{onClick:w,fullWidth:!0,children:"Apply Filters"})]})})]})})}function Sf({checked:e,onChange:t,label:n,disabled:r=!1}){return o.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${r?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ${e?"bg-primary-600":"bg-gray-300"}`,onClick:()=>!r&&t(!e),children:o.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200 ${e?"translate-x-5":"translate-x-0"}`})}),n&&o.jsx("span",{className:"text-sm text-gray-700 select-none",children:n})]})}function $0(){const e=Be(),{logout:t}=yt(),[n,r]=v.useState(!1),[l,s]=v.useState(!1),[i,a]=v.useState(new Set),[u,c]=v.useState(!1),[m,d]=v.useState(!1),[p,x]=v.useState(!1),[y,j]=v.useState(null),{articles:k,isLoading:h,error:f,cursor:g,hasMore:S,filters:w,setArticles:_,addArticles:C,setLoading:E,setError:A,setFilters:M}=ot(),Q=v.useRef(),H=v.useRef(!1),ne=v.useRef(null),[$,O]=v.useState(!1),[F,he]=v.useState(!1),[P,D]=v.useState(0),R=v.useRef(null),B=60;v.useEffect(()=>{H.current=h},[h]),v.useEffect(()=>{ne.current=g},[g]);const K=async()=>{E(!0),A(null),console.log("Loading articles with filters:",w);try{const I=await ut.list({year:w.year||void 0,month:w.month,from:w.from,to:w.to,author:w.author,limit:String(xn.ARTICLES_PER_PAGE),status_filter:w.statusFilter||"active",source_filter:w.sourceFilter||"all"});console.log("Received articles:",I.items.length,"cursor:",I.next_cursor),_(I.items,I.next_cursor)}catch(I){A(I instanceof Error?I.message:"Failed to load articles")}finally{E(!1)}},rt=v.useCallback(async()=>{h||(he(!0),await K(),he(!1))},[h,K]),je=v.useCallback(async()=>{const I=ne.current;if(!(!I||H.current)){H.current=!0,O(!0),console.log("loadMore called with cursor:",I);try{const U=await ut.list({year:w.year||void 0,month:w.month,from:w.from,to:w.to,author:w.author,cursor:I,limit:String(xn.ARTICLES_PER_PAGE),status_filter:w.statusFilter||"active",source_filter:w.sourceFilter||"all"});console.log("Loaded more articles:",U.items.length,"next cursor:",U.next_cursor),ne.current=U.next_cursor,C(U.items,U.next_cursor)}catch(U){A(U instanceof Error?U.message:"Failed to load more")}finally{H.current=!1,O(!1)}}},[w.year,w.month,w.from,w.to,w.statusFilter,w.sourceFilter,C,A]),ce=v.useCallback(I=>{Q.current&&Q.current.disconnect(),I&&(Q.current=new IntersectionObserver(U=>{U[0].isIntersecting&&!H.current&&ne.current&&(console.log("Sentinel visible, loading more..."),je())},{threshold:1,rootMargin:"0px"}),Q.current.observe(I))},[je]),T=I=>{console.log("Applying filters:",I),_([]),M({year:I.year,month:I.month,from:I.dateFrom,to:I.dateTo,author:I.author,statusFilter:I.statusFilter,sourceFilter:I.sourceFilter})},W=I=>{if(w.statusFilter==="active"||!w.statusFilter)ot.getState().deleteArticle(I);else{const U=k.find(Ee=>Ee.id===I);U&&ot.getState().updateArticle({...U,status:"DELETED"})}},X=I=>{if(w.statusFilter==="deleted")ot.getState().deleteArticle(I);else{const U=k.find(Ee=>Ee.id===I);U&&ot.getState().updateArticle({...U,status:"ACTIVE"})}},Se=(I,U)=>{a(Ee=>{const mt=new Set(Ee);return U?mt.add(I):mt.delete(I),mt})},Ye=()=>{i.size===k.length?a(new Set):a(new Set(k.map(I=>I.id)))},De=()=>{s(!1),a(new Set)},Ke=I=>{s(I),I||a(new Set)},Tt=I=>{var Ee;(((Ee=document.scrollingElement)==null?void 0:Ee.scrollTop)??window.scrollY)<=0&&!F&&!h&&(R.current=I.touches[0].clientY)},nr=I=>{var mt;if(R.current===null||F||h)return;if((((mt=document.scrollingElement)==null?void 0:mt.scrollTop)??window.scrollY)>0){D(0),R.current=null;return}const Ee=I.touches[0].clientY-R.current;Ee>0?D(Math.min(Ee,80)):D(0)},kn=()=>{P>=B&&!F&&!h&&rt(),D(0),R.current=null},N=async()=>{c(!0);const I=Array.from(i);j({current:0,total:I.length});try{for(let U=0;U<I.length;U++)await Et.deleteArticle(I[U]),j({current:U+1,total:I.length});w.statusFilter==="active"||!w.statusFilter?i.forEach(U=>ot.getState().deleteArticle(U)):i.forEach(U=>{const Ee=k.find(mt=>mt.id===U);Ee&&ot.getState().updateArticle({...Ee,status:"DELETED"})}),De()}catch(U){console.error("Bulk delete failed:",U)}finally{c(!1),j(null),d(!1)}},z=async()=>{c(!0);const I=Array.from(i);j({current:0,total:I.length});try{for(let U=0;U<I.length;U++)await ut.permanentDelete(I[U]),j({current:U+1,total:I.length});i.forEach(U=>ot.getState().deleteArticle(U)),De()}catch(U){console.error("Bulk permanent delete failed:",U)}finally{c(!1),j(null),x(!1)}},J=w.statusFilter==="deleted",xe=w.year||w.month||w.from||w.to||w.author||w.statusFilter&&w.statusFilter!=="active"||w.sourceFilter&&w.sourceFilter!=="all",ve={year:w.year||"",month:w.month||"",dateFrom:w.from||"",dateTo:w.to||"",author:w.author||"",statusFilter:w.statusFilter||"active",sourceFilter:w.sourceFilter||"all"};return v.useEffect(()=>{console.log("Filters changed, reloading articles:",w),K()},[w.year,w.month,w.from,w.to,w.author,w.statusFilter,w.sourceFilter]),h&&k.length===0?o.jsx(jn,{message:"Loading articles..."}):f&&k.length===0?o.jsx("div",{className:"h-full flex items-center justify-center p-6",children:o.jsx(yf,{message:f,onRetry:K})}):o.jsxs("div",{className:"min-h-screen flex flex-col",onTouchStart:Tt,onTouchMove:nr,onTouchEnd:kn,children:[o.jsx(Sn,{}),o.jsxs("div",{className:"bg-white border-b border-gray-300 px-4 py-3 flex items-center justify-between fixed top-[56px] left-0 right-0 z-[25] max-w-content mx-auto",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:l?`${i.size} selected`:w.year||"All years"}),o.jsxs("div",{className:"flex items-center gap-4",children:[l?o.jsx("button",{onClick:Ye,className:"text-primary-600 hover:text-primary-700 touch-manipulation text-sm font-medium",children:i.size===k.length?"Deselect all":"Select all"}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:rt,className:"text-primary-600 hover:text-primary-700 touch-manipulation text-sm font-medium flex items-center gap-2 hidden sm:flex",children:[o.jsx("svg",{className:`w-4 h-4 ${F?"animate-spin":""}`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),o.jsxs("button",{onClick:()=>r(!0),className:`touch-manipulation flex items-center gap-2 ${xe?"text-white bg-primary-600 hover:bg-primary-700 px-3 py-1.5 rounded-lg font-medium":"text-primary-600 hover:text-primary-700"}`,children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filter",xe&&o.jsx("span",{className:"ml-1 bg-white text-primary-600 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:"!"})]})]}),k.length>0&&o.jsx(Sf,{checked:l,onChange:Ke,label:"Select"})]})]}),o.jsx("div",{className:"h-[36px]"}),o.jsxs("div",{className:"flex-1 pb-20",children:[(P>0||F)&&o.jsx("div",{className:"flex items-center justify-center",style:{height:`${Math.max(P,64)}px`},children:o.jsxs("div",{className:"flex items-center gap-3 bg-white/80 backdrop-blur px-3 py-2 rounded-full shadow-sm border border-gray-200",children:[o.jsxs("div",{className:"relative w-6 h-6",children:[o.jsx("svg",{className:"absolute inset-0 w-6 h-6 text-gray-200",viewBox:"0 0 36 36",children:o.jsx("path",{d:`M18 2.0845
                       a 15.9155 15.9155 0 0 1 0 31.831
                       a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"currentColor",strokeWidth:"3"})}),o.jsx("svg",{className:`absolute inset-0 w-6 h-6 ${F?"animate-spin text-primary-600":"text-primary-600"}`,viewBox:"0 0 36 36",style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%",strokeDasharray:`${Math.min(100,P/B*100)}, 100`,transition:"stroke-dasharray 120ms ease"},children:o.jsx("path",{d:`M18 2.0845
                       a 15.9155 15.9155 0 0 1 0 31.831
                       a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"})}),o.jsxs("div",{className:`absolute inset-0 flex items-center justify-center transition-transform ${P>=B?"rotate-180":""}`,children:[o.jsx("svg",{className:`w-3.5 h-3.5 ${F?"hidden":"block"} text-primary-700`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 5v14m0 0l-5-5m5 5l5-5"})}),o.jsx("svg",{className:`w-3.5 h-3.5 ${F?"block":"hidden"} text-primary-700`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})]})]}),o.jsx("span",{className:"text-xs text-gray-600",children:F?"Refreshing...":P>=B?"Release to refresh":"Pull to refresh"})]})}),k.length===0?o.jsx(A0,{}):o.jsxs(o.Fragment,{children:[k.map((I,U)=>{const Ee=ku(I.date),mt=U>0?ku(k[U-1].date):null,qi=Ee!==mt;return o.jsxs(v.Fragment,{children:[qi&&o.jsx(O0,{monthYear:jf(I.date)}),o.jsx("div",{className:`relative z-0 ${qi?"pt-8":""}`,children:o.jsx(F0,{article:I,onDeleted:W,onRestored:X,selectionMode:l,selected:i.has(I.id),onSelectionChange:Se})})]},I.id)}),S&&!$&&o.jsx("div",{ref:ce,className:"h-4"})]})]}),$&&o.jsx("div",{className:"fixed bottom-24 left-0 right-0 flex justify-center z-50",children:o.jsx("div",{className:"bg-gray-100 shadow-lg rounded-full p-3 border border-gray-200",children:o.jsx(df,{})})}),l&&i.size>0&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 z-50 shadow-lg",children:o.jsxs("div",{className:"max-w-content mx-auto flex items-center justify-between gap-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[i.size," article",i.size>1?"s":""," selected"]}),o.jsx("div",{className:"flex gap-2",children:J?o.jsx("button",{onClick:()=>x(!0),disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 font-medium",children:u?"Deleting...":"Delete permanently"}):o.jsx("button",{onClick:()=>d(!0),disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 font-medium",children:u?"Deleting...":"Delete"})})]})}),!l&&o.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-50",children:o.jsx("div",{className:"max-w-content mx-auto px-4 flex justify-end",children:o.jsx(vf,{onClick:()=>e("/editor"),className:"bg-primary-600 hover:bg-primary-700 active:bg-primary-800 transition-all hover:scale-105 active:scale-95",icon:o.jsx("svg",{className:"w-8 h-8",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 4v16m8-8H4"})})})})}),o.jsx(vn,{isOpen:m,title:"Delete articles?",message:`${i.size} article${i.size>1?"s":""} will be marked as deleted. You can find them later by enabling the 'Show deleted' filter.`,confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:N,onCancel:()=>d(!1),variant:"danger",isLoading:u,progress:y}),o.jsx(vn,{isOpen:p,title:"Permanently delete articles?",message:` WARNING: ${i.size} article${i.size>1?"s":""} will be permanently removed from the database. This action cannot be undone!`,confirmLabel:"Delete permanently",cancelLabel:"Cancel",onConfirm:z,onCancel:()=>x(!1),variant:"danger",isLoading:u,progress:y}),o.jsx(U0,{isOpen:n,onClose:()=>r(!1),title:"Filters",children:o.jsx(B0,{initialFilters:ve,onApply:T,onClose:()=>r(!1)})})]})}const Yo=(e,t)=>t.some(n=>e instanceof n);let Eu,_u;function W0(){return Eu||(Eu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V0(){return _u||(_u=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ko=new WeakMap,Ks=new WeakMap,vs=new WeakMap;function H0(e){const t=new Promise((n,r)=>{const l=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(dn(e.result)),l()},i=()=>{r(e.error),l()};e.addEventListener("success",s),e.addEventListener("error",i)});return vs.set(t,e),t}function G0(e){if(Ko.has(e))return;const t=new Promise((n,r)=>{const l=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),l()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Ko.set(e,t)}let Zo={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ko.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function kf(e){Zo=e(Zo)}function Q0(e){return V0().includes(e)?function(...t){return e.apply(Xo(this),t),dn(this.request)}:function(...t){return dn(e.apply(Xo(this),t))}}function Y0(e){return typeof e=="function"?Q0(e):(e instanceof IDBTransaction&&G0(e),Yo(e,W0())?new Proxy(e,Zo):e)}function dn(e){if(e instanceof IDBRequest)return H0(e);if(Ks.has(e))return Ks.get(e);const t=Y0(e);return t!==e&&(Ks.set(e,t),vs.set(t,e)),t}const Xo=e=>vs.get(e);function K0(e,t,{blocked:n,upgrade:r,blocking:l,terminated:s}={}){const i=indexedDB.open(e,t),a=dn(i);return r&&i.addEventListener("upgradeneeded",u=>{r(dn(i.result),u.oldVersion,u.newVersion,dn(i.transaction),u)}),n&&i.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),l&&u.addEventListener("versionchange",c=>l(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Z0=["get","getKey","getAll","getAllKeys","count"],X0=["put","add","delete","clear"],Zs=new Map;function bu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zs.get(t))return Zs.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=X0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Z0.includes(n)))return;const s=async function(i,...a){const u=this.transaction(i,l?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),l&&u.done]))[0]};return Zs.set(t,s),s}kf(e=>({...e,get:(t,n,r)=>bu(t,n)||e.get(t,n,r),has:(t,n)=>!!bu(t,n)||e.has(t,n)}));const J0=["continue","continuePrimaryKey","advance"],Pu={},Jo=new WeakMap,Nf=new WeakMap,q0={get(e,t){if(!J0.includes(t))return e[t];let n=Pu[t];return n||(n=Pu[t]=function(...r){Jo.set(this,Nf.get(this)[t](...r))}),n}};async function*eg(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,q0);for(Nf.set(n,t),vs.set(n,Xo(t));t;)yield n,t=await(Jo.get(n)||t.continue()),Jo.delete(n)}function Lu(e,t){return t===Symbol.asyncIterator&&Yo(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Yo(e,[IDBIndex,IDBObjectStore])}kf(e=>({...e,get(t,n,r){return Lu(t,n)?eg:e.get(t,n,r)},has(t,n){return Lu(t,n)||e.has(t,n)}}));class tg{constructor(){ys(this,"dbPromise");this.dbPromise=K0("rememly-db",1,{upgrade(t){t.objectStoreNames.contains("drafts")||t.createObjectStore("drafts",{keyPath:"id"}),t.objectStoreNames.contains("assemblyStates")||t.createObjectStore("assemblyStates",{keyPath:"articleId"})}})}async saveDraft(t){await(await this.dbPromise).put("drafts",{...t,timestamp:Date.now()})}async getDraft(t){return(await this.dbPromise).get("drafts",t)}async deleteDraft(t){await(await this.dbPromise).delete("drafts",t)}async saveAssemblyState(t,n){await(await this.dbPromise).put("assemblyStates",{articleId:t,state:n,timestamp:Date.now()})}async getAssemblyState(t){const r=await(await this.dbPromise).get("assemblyStates",t);return r==null?void 0:r.state}async deleteAssemblyState(t){await(await this.dbPromise).delete("assemblyStates",t)}}const ng=new tg,qr=Xi(e=>({toast:null,showToast:(t,n)=>{e({toast:{message:t,type:n}}),setTimeout(()=>e({toast:null}),3e3)},hideToast:()=>e({toast:null})}));function rg(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}async function lg(e){return new Promise(t=>{const n=new FileReader;n.onload=r=>{var l,s;try{const i=new DataView((l=r.target)==null?void 0:l.result);if(i.getUint16(0,!1)!==65496){t(null);return}let a=2;const u=i.byteLength;for(;a<u;){if(i.getUint8(a)!==255){t(null);return}if(i.getUint8(a+1)===225){const m=i.getUint16(a+2,!1),d=new DataView((s=r.target)==null?void 0:s.result,a+4,m-2);if(String.fromCharCode(d.getUint8(0),d.getUint8(1),d.getUint8(2),d.getUint8(3))!=="Exif"){t(null);return}const x=6,y=d.getUint16(x,!1)===18761,j=d.getUint32(x+4,y),k=d.getUint16(x+j,y);for(let h=0;h<k;h++){const f=x+j+2+h*12,g=d.getUint16(f,y);if(g===34665){const S=d.getUint32(f+8,y),w=d.getUint16(x+S,y);for(let _=0;_<w;_++){const C=x+S+2+_*12,E=d.getUint16(C,y);if(E===36867||E===36868){const A=d.getUint32(C+8,y);let M="";for(let ne=0;ne<19;ne++)M+=String.fromCharCode(d.getUint8(x+A+ne));const Q=M.replace(/^(\d{4}):(\d{2}):(\d{2})/,"$1-$2-$3"),H=new Date(Q);if(!isNaN(H.getTime())){t(H);return}}}}if(g===306){const S=d.getUint32(f+8,y);let w="";for(let E=0;E<19;E++)w+=String.fromCharCode(d.getUint8(x+S+E));const _=w.replace(/^(\d{4}):(\d{2}):(\d{2})/,"$1-$2-$3"),C=new Date(_);if(!isNaN(C.getTime())){t(C);return}}}t(null);return}a+=2+i.getUint16(a+2,!1)}t(null)}catch{t(null)}},n.onerror=()=>t(null),n.readAsArrayBuffer(e)})}function sg(e){if(!e)return console.warn("Empty image URL provided to PhotoPicker"),"";if(e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([^\/]+)/,/drive\.google\.com\/uc\?.*[&?]id=([^&]+)/,/drive\.google\.com\/open\?.*[&?]id=([^&]+)/,/lh3\.googleusercontent\.com\/d\/([^?&]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w2000`}return e}function og({onPhotoSelected:e,currentImage:t}){const n=v.useRef(null),r=v.useRef(null),l=v.useRef(null),s=v.useRef(null),[i,a]=v.useState(!1),[u,c]=v.useState(!1),[m,d]=v.useState(null),p=rg();v.useEffect(()=>()=>{m&&m.getTracks().forEach(f=>f.stop())},[m]);const x=async f=>{var S;const g=(S=f.target.files)==null?void 0:S[0];if(g){const w=await lg(g);e(g,w||void 0),a(!1)}f.target.value=""},y=v.useCallback(async()=>{var f,g;if(p)(f=n.current)==null||f.click();else try{const S=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:720}}});d(S),c(!0),setTimeout(()=>{l.current&&(l.current.srcObject=S)},100)}catch(S){console.error("Error accessing webcam:",S),(g=n.current)==null||g.click()}},[p]),j=v.useCallback(()=>{if(l.current&&s.current){const f=l.current,g=s.current;g.width=f.videoWidth,g.height=f.videoHeight;const S=g.getContext("2d");S&&(S.drawImage(f,0,0),g.toBlob(async w=>{if(w){const _=new File([w],`webcam-${Date.now()}.jpg`,{type:"image/jpeg"});e(_,new Date),k(),a(!1)}},"image/jpeg",.9))}},[e]),k=v.useCallback(()=>{m&&(m.getTracks().forEach(f=>f.stop()),d(null)),c(!1)},[m]),h=()=>{var f;(f=r.current)==null||f.click()};return u?o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[o.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-auto max-h-[50vh] object-contain"}),o.jsx("canvas",{ref:s,className:"hidden"})]}),o.jsxs("div",{className:"mt-4 flex gap-2",children:[o.jsx(Y,{onClick:j,fullWidth:!0,children:"Capture"}),o.jsx(Y,{variant:"secondary",onClick:k,fullWidth:!0,children:"Cancel"})]})]}):o.jsxs("div",{className:"w-full",children:[o.jsx("input",{ref:n,type:"file",accept:"image/*",capture:"environment",onChange:x,className:"hidden"}),o.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:x,className:"hidden"}),t?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:sg(t),alt:"Selected",className:"w-full h-auto rounded-lg max-h-[40vh] object-contain"}),o.jsxs("div",{className:"mt-4 flex gap-2",children:[o.jsx(Y,{variant:"secondary",fullWidth:!0,onClick:y,children:"Take Photo"}),o.jsx(Y,{variant:"secondary",fullWidth:!0,onClick:h,children:"Gallery"})]})]}):o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"text-4xl mb-2",children:""}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Add a photo"}),i?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Y,{onClick:y,fullWidth:!0,children:"Take Photo"}),o.jsx(Y,{variant:"secondary",onClick:h,fullWidth:!0,children:"Choose from Gallery"}),o.jsx("button",{onClick:()=>a(!1),className:"text-sm text-gray-500 mt-2",children:"Cancel"})]}):o.jsx(Y,{onClick:()=>a(!0),children:"Select Photo"})]})]})}function ig({value:e,onChange:t}){const n=l=>{const s=l.target.value;s.length<=xn.MAX_TEXT_LENGTH&&t(s)},r=xn.MAX_TEXT_LENGTH-e.length;return o.jsxs("div",{className:"w-full",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text (optional)"}),o.jsx("textarea",{value:e,onChange:n,placeholder:"Add a description...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4}),o.jsxs("div",{className:"mt-1 text-sm text-gray-500 text-right",children:[r," characters remaining"]})]})}function ag({value:e,onChange:t}){const n=s=>{const i=new Date(s),a=i.getFullYear(),u=String(i.getMonth()+1).padStart(2,"0"),c=String(i.getDate()).padStart(2,"0"),m=String(i.getHours()).padStart(2,"0"),d=String(i.getMinutes()).padStart(2,"0");return`${a}-${u}-${c}T${m}:${d}`},r=s=>new Date(s).toISOString(),l=s=>{t(r(s.target.value))};return o.jsxs("div",{className:"space-y-2 overflow-hidden",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date and time"}),o.jsx("input",{type:"datetime-local",value:n(e),onChange:l,className:"w-full min-w-0 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent box-border text-base",style:{maxWidth:"100%"}})]})}function Du(){const{id:e}=Pp(),t=Be(),n=Jr(),{user:r}=yt(),{updateArticle:l,deleteArticle:s}=ot(),{showToast:i}=qr(),[a,u]=v.useState(""),[c,m]=v.useState(new Date().toISOString()),[d,p]=v.useState(null),[x,y]=v.useState(""),[j,k]=v.useState(!1),[h,f]=v.useState(!1),[g,S]=v.useState(!1),[w,_]=v.useState("ACTIVE"),C=!!e,E=w==="DELETED";v.useEffect(()=>{const $=n.state;if($!=null&&$.famileoImport){const{text:O,date:F,imageBase64:he,imageMimeType:P}=$.famileoImport;u(O);const D=new Date(F.replace(" ","T"));if(isNaN(D.getTime())||m(D.toISOString()),he){const R=`data:${P};base64,${he}`;y(R),fetch(R).then(B=>B.blob()).then(B=>{const K=new File([B],"famileo-import.jpg",{type:P});p(K)})}window.history.replaceState({},document.title)}},[n.state]),v.useEffect(()=>{C&&A()},[e]);const A=async()=>{if(e){k(!0);try{const $=await ut.get(e);u($.texte),m($.date),y($.image_url),_($.status||"ACTIVE")}catch{i("Failed to load article","error"),t("/")}finally{k(!1)}}},M=($,O)=>{p($);const F=URL.createObjectURL($);y(F),O&&!C&&m(O.toISOString())},Q=async()=>{if(!d&&!C){i("Please select a photo","error");return}if(r){f(!0);try{if(C&&e){const $=E?"ACTIVE":void 0,O=await Et.updateArticle(e,a,d||void 0,c,void 0,void 0,$);l(O),i(E?"Article restored":"Article updated","success")}else d&&(await Et.createArticle(r.email,a,d,c),i("Article created","success"));await ng.deleteDraft(e||"new"),t("/")}catch($){i($ instanceof Error?$.message:"Failed to save article","error")}finally{f(!1)}}},H=()=>{x&&x.startsWith("blob:")&&URL.revokeObjectURL(x),t("/")},ne=async()=>{if(e){f(!0);try{console.log("Deleting article:",e);const $=await Et.deleteArticle(e);console.log("Delete result:",$),s(e),i("Article deleted","success"),t("/")}catch($){console.error("Delete error:",$),i($ instanceof Error?$.message:"Failed to delete article","error")}finally{f(!1),S(!1)}}};return j?o.jsx(jn,{message:"Loading article..."}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(Sn,{}),o.jsxs("div",{className:"flex-1 flex flex-col max-w-content mx-auto w-full bg-white",children:[o.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between flex-shrink-0",children:[o.jsx("button",{onClick:H,className:"text-gray-600 touch-manipulation",disabled:h,children:" Back"}),o.jsx("h1",{className:"text-lg font-semibold",children:C?"Edit Article":"New Article"}),o.jsx("div",{className:"w-12"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 space-y-6 pb-4",children:[o.jsx(og,{onPhotoSelected:M,currentImage:x}),o.jsx(ig,{value:a,onChange:u}),o.jsx(ag,{value:c,onChange:m})]}),o.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2 flex-shrink-0",children:[o.jsx(Y,{onClick:Q,disabled:h||!d&&!C,fullWidth:!0,children:h?"Saving...":E?"Save and restore":C?"Update":"Create"}),o.jsx(Y,{variant:"secondary",onClick:()=>t("/photo-assembly",{state:{editMode:C,articleId:e,texte:a,dateModification:c}}),disabled:h,fullWidth:!0,children:"Use Photo Assembly"}),C&&!E&&o.jsx(Y,{variant:"danger",onClick:()=>S(!0),disabled:h,fullWidth:!0,children:"Delete Article"}),o.jsx(Y,{variant:"secondary",onClick:H,disabled:h,fullWidth:!0,children:"Cancel"})]}),o.jsx(vn,{isOpen:g,title:"Delete Article",message:"Are you sure you want to delete this article? This action cannot be undone.",confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",isLoading:h,onConfirm:ne,onCancel:()=>S(!1)})]})]})}function ug(){const e=Be(),t=ot(x=>x.setFilters),[n,r]=v.useState(!0),[l,s]=v.useState(null),[i,a]=v.useState([]),[u,c]=v.useState(Qo());v.useEffect(()=>{m()},[]);const m=async()=>{r(!0),s(null);try{const x=await ut.list({limit:"1000",status_filter:"all"}),y=new Map;x.items.forEach(k=>{const h=new Date(k.date),f=h.getFullYear(),g=h.getMonth(),S=k.status==="DELETED"?"deleted":"active";y.has(f)||y.set(f,{total:0,active:0,deleted:0,monthMap:new Map});const w=y.get(f);w.total+=1,w[S]+=1,w.monthMap.has(g)||w.monthMap.set(g,{total:0,active:0,deleted:0});const _=w.monthMap.get(g);_.total+=1,_[S]+=1});const j=Array.from(y.entries()).map(([k,h])=>({year:k,total:h.total,active:h.active,deleted:h.deleted,months:Array.from(h.monthMap.entries()).map(([f,g])=>({monthIndex:f,monthName:ff[f],total:g.total,active:g.active,deleted:g.deleted})).sort((f,g)=>f.monthIndex-g.monthIndex)})).sort((k,h)=>h.year-k.year);if(a(j),j.length>0){const k=Qo(),h=j.some(f=>f.year===k);c(h?k:j[0].year)}}catch(x){s(x instanceof Error?x.message:"Failed to load statistics")}finally{r(!1)}},d=(x,y="active")=>{t({year:String(x),month:"",from:"",to:"",statusFilter:y,sourceFilter:"all"}),e("/")},p=(x,y,j="active")=>{t({year:String(x),month:String(y+1).padStart(2,"0"),from:"",to:"",statusFilter:j,sourceFilter:"all"}),e("/")};return n?o.jsx(jn,{message:"Loading statistics..."}):l?o.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:o.jsx(yf,{message:l,onRetry:m})}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(Sn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Statistics"})]})}),o.jsx("div",{className:"flex-1 p-4 pb-20",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Year breakdown"}),o.jsxs("div",{className:"space-y-3",children:[i.map(x=>{const y=u===x.year;return o.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-gray-50",children:[o.jsxs("div",{role:"button",tabIndex:0,onClick:()=>c(y?null:x.year),onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&c(y?null:x.year)},className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-base font-semibold text-gray-900",children:x.year}),o.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[x.total," total  ",x.active," active  ",x.deleted," deleted"]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[o.jsx("button",{onClick:()=>d(x.year,"active"),className:"text-xs font-medium text-primary-600 hover:text-primary-700",children:"View active"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>d(x.year,"deleted"),className:"text-xs font-medium text-red-600 hover:text-red-700",children:"View deleted"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>c(y?null:x.year),className:"text-xs font-medium text-gray-600 hover:text-gray-800",children:y?"Hide months":"Show months"})]})]}),y&&o.jsx("div",{className:"px-4 pb-3",children:o.jsxs("div",{className:"mt-2 space-y-2",children:[x.months.map(j=>o.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-900",children:j.monthName}),o.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[j.total," total  ",j.active," active  ",j.deleted," deleted"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>p(x.year,j.monthIndex,"active"),className:"text-xs font-medium text-primary-600 hover:text-primary-700",children:"View active"}),o.jsx("span",{className:"text-gray-300",children:"|"}),o.jsx("button",{onClick:()=>p(x.year,j.monthIndex,"deleted"),className:"text-xs font-medium text-red-600 hover:text-red-700",children:"View deleted"})]})]},`${x.year}-${j.monthIndex}`)),x.months.length===0&&o.jsx("div",{className:"text-sm text-gray-500",children:"No months found"})]})})]},x.year)}),i.length===0&&o.jsx("div",{className:"text-sm text-gray-500",children:"No statistics available"})]})]})})]})}const Pl=[{id:"2x1-vertical",name:"21 Vertical",zones:[{x:0,y:0,width:100,height:50},{x:0,y:50,width:100,height:50}]},{id:"2x1-horizontal",name:"21 Horizontal",zones:[{x:0,y:0,width:50,height:100},{x:50,y:0,width:50,height:100}]},{id:"4x4-grid",name:"44 Grid",zones:[{x:0,y:0,width:50,height:50},{x:50,y:0,width:50,height:50},{x:0,y:50,width:50,height:50},{x:50,y:50,width:50,height:50}]},{id:"3-plus-2",name:"3 + 2",zones:[{x:0,y:0,width:100,height:33.33},{x:0,y:33.33,width:100,height:33.33},{x:0,y:66.66,width:50,height:33.34},{x:50,y:66.66,width:50,height:33.34}]},{id:"3-plus-2-plus-2",name:"3 + 2 + 2",zones:[{x:0,y:0,width:100,height:40},{x:0,y:40,width:50,height:30},{x:50,y:40,width:50,height:30},{x:0,y:70,width:50,height:30},{x:50,y:70,width:50,height:30}]}];class Tu{constructor(t,n){ys(this,"state");this.state={templateId:t,photos:[],zoneStates:Array(n).fill(null).map(()=>({photoIndex:-1,zoom:1,x:0,y:0}))}}addPhoto(t){return this.state.photos.push(t),this.state.photos.length-1}assignPhotoToZone(t,n){n>=0&&n<this.state.zoneStates.length&&(this.state.zoneStates[n].photoIndex=t)}updateZoneTransform(t,n){if(t>=0&&t<this.state.zoneStates.length){const r=this.state.zoneStates[t];n.zoom!==void 0&&(r.zoom=n.zoom),n.x!==void 0&&(r.x=n.x),n.y!==void 0&&(r.y=n.y)}}getState(){return{...this.state}}getPhotoForZone(t){const n=this.state.zoneStates[t];return n.photoIndex>=0&&n.photoIndex<this.state.photos.length?this.state.photos[n.photoIndex]:null}isComplete(){return this.state.zoneStates.every(t=>t.photoIndex>=0)}serialize(){return{templateId:this.state.templateId,zoneStates:this.state.zoneStates}}}function cg({selectedTemplateId:e,onSelect:t}){return o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Select Layout"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:Pl.map(n=>o.jsx("button",{onClick:()=>t(n),className:`aspect-square border-2 rounded-lg p-2 transition-colors touch-manipulation ${n.id===e?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:o.jsx("div",{className:"text-xs text-center font-medium text-gray-700",children:n.name})},n.id))})]})}function dg({template:e,stateManager:t,onZoneClick:n}){const r=v.useRef(null),[l,s]=v.useState(new Map);v.useEffect(()=>{i()},[t]),v.useEffect(()=>{a()},[e,l]);const i=async()=>{const c=new Map,m=t.getState();for(let d=0;d<m.photos.length;d++){const p=m.photos[d],x=new Image,y=URL.createObjectURL(p);await new Promise(j=>{x.onload=()=>{c.set(d,x),j()},x.src=y})}s(c)},a=()=>{const c=r.current;if(!c)return;const m=c.getContext("2d");if(!m)return;const d=c.width,p=c.height;m.fillStyle="#f3f4f6",m.fillRect(0,0,d,p);const x=t.getState();e.zones.forEach((y,j)=>{const k=x.zoneStates[j],h=l.get(k.photoIndex),f=y.x/100*d,g=y.y/100*p,S=y.width/100*d,w=y.height/100*p;if(m.strokeStyle="#d1d5db",m.lineWidth=2,m.strokeRect(f,g,S,w),h){m.save(),m.beginPath(),m.rect(f,g,S,w),m.clip();const _=k.zoom,C=h.width*_,E=h.height*_,A=f+k.x+(S-C)/2,M=g+k.y+(w-E)/2;m.drawImage(h,A,M,C,E),m.restore()}else m.fillStyle="#e5e7eb",m.fillRect(f+2,g+2,S-4,w-4),m.fillStyle="#9ca3af",m.textAlign="center",m.textBaseline="middle",m.font="14px sans-serif",m.fillText("+",f+S/2,g+w/2)})},u=c=>{const m=r.current;if(!m)return;const d=m.getBoundingClientRect(),p=(c.clientX-d.left)/d.width*100,x=(c.clientY-d.top)/d.height*100,y=e.zones.findIndex(j=>p>=j.x&&p<=j.x+j.width&&x>=j.y&&x<=j.y+j.height);y>=0&&n(y)};return o.jsx("div",{className:"w-full bg-gray-100 rounded-lg overflow-hidden",children:o.jsx("canvas",{ref:r,width:xn.TARGET_IMAGE_WIDTH_PX,height:xn.TARGET_IMAGE_WIDTH_PX,onClick:u,className:"w-full h-auto cursor-pointer touch-manipulation"})})}function fg({zoneIndex:e,stateManager:t,onUpdate:n,onClose:r}){const s=t.getState().zoneStates[e],[i,a]=v.useState(s.zoom),u=m=>{a(m),t.updateZoneTransform(e,{zoom:m}),n()},c=()=>{t.updateZoneTransform(e,{zoom:1,x:0,y:0}),a(1),n()};return o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg z-20",children:o.jsxs("div",{className:"max-w-mobile mx-auto space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Zone ",e+1]}),o.jsx("button",{onClick:r,className:"text-gray-600 hover:text-gray-900",children:""})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-600 mb-2",children:["Zoom: ",i.toFixed(1),"x"]}),o.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:i,onChange:m=>u(parseFloat(m.target.value)),className:"w-full"})]}),o.jsx("button",{onClick:c,className:"w-full px-4 py-2 bg-gray-200 text-gray-900 rounded-lg hover:bg-gray-300",children:"Reset Zone"})]})})}function mg({onAddPhoto:e,onValidate:t,onCancel:n,isValid:r}){return o.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2",children:[o.jsx(Y,{onClick:e,variant:"secondary",fullWidth:!0,children:"Add Photo"}),o.jsx(Y,{onClick:t,disabled:!r,fullWidth:!0,children:"Validate Assembly"}),o.jsx(Y,{onClick:n,variant:"secondary",fullWidth:!0,children:"Cancel"})]})}function hg({onComplete:e,onCancel:t}){Be();const{showToast:n}=qr(),r=v.useRef(null),[l,s]=v.useState(Pl[0]),[i,a]=v.useState(()=>new Tu(Pl[0].id,Pl[0].zones.length)),[u,c]=v.useState(null),[m,d]=v.useState(0),p=f=>{s(f),a(new Tu(f.id,f.zones.length)),c(null),d(g=>g+1)},x=()=>{var f;(f=r.current)==null||f.click()},y=f=>{const g=Array.from(f.target.files||[]);if(g.length===0)return;const S=g[0],w=i.addPhoto(S),C=i.getState().zoneStates.findIndex(E=>E.photoIndex===-1);C>=0&&(i.assignPhotoToZone(w,C),d(E=>E+1)),f.target.value=""},j=f=>{c(f)},k=()=>{d(f=>f+1)},h=async()=>{if(!i.isComplete()){n("Please fill all zones","error");return}try{const f=document.querySelector("canvas");if(!f){n("Failed to generate image","error");return}const g=await T0(f,.9),S=i.serialize();e(g,S)}catch{n("Failed to create assembly","error")}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center sticky top-0 z-10",children:[o.jsx("button",{onClick:t,className:"text-gray-600 touch-manipulation",children:" Back"}),o.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Photo Assembly"})]}),o.jsxs("div",{className:"flex-1 pb-32",children:[o.jsx(cg,{selectedTemplateId:l.id,onSelect:p}),o.jsx("div",{className:"p-4",children:o.jsx(dg,{template:l,stateManager:i,onZoneClick:j},m)})]}),u!==null&&o.jsx(fg,{zoneIndex:u,stateManager:i,onUpdate:k,onClose:()=>c(null)}),o.jsx(mg,{onAddPhoto:x,onValidate:h,onCancel:t,isValid:i.isComplete()}),o.jsx("input",{ref:r,type:"file",accept:"image/*",capture:"environment",onChange:y,className:"hidden"})]})}function pg(){var d,p,x,y;const e=Be(),t=Jr(),{user:n}=yt(),{updateArticle:r}=ot(),{showToast:l}=qr(),s=((d=t.state)==null?void 0:d.editMode)||!1,i=(p=t.state)==null?void 0:p.articleId,a=((x=t.state)==null?void 0:x.texte)||"",u=((y=t.state)==null?void 0:y.dateModification)||new Date().toISOString(),c=async(j,k)=>{if(n)try{const h=`data:image/jpeg;base64,${j}`,g=await(await fetch(h)).blob(),S=new File([g],"assembled.jpg",{type:"image/jpeg"});if(s&&i){const w=await Et.updateArticle(i,a,S,u,k);r(w),l("Article updated","success")}else await Et.createArticle(n.name,a,S,u,void 0,k),l("Article created","success");e("/")}catch(h){l(h instanceof Error?h.message:"Failed to save article","error")}},m=()=>{e(s&&i?`/editor/${i}`:"/editor")};return o.jsx(hg,{onComplete:c,onCancel:m})}function gg(e){if(!e||e.startsWith("blob:")||e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w2000`}return e}function xg(){const e=Be(),{user:t,logout:n}=yt(),{showToast:r}=qr(),{profile:l,isLoading:s,saveProfile:i,avatarBlobUrl:a}=Zi(),[u,c]=v.useState(""),[m,d]=v.useState(null),[p,x]=v.useState(""),[y,j]=v.useState(!1);v.useEffect(()=>{l?(c(l.pseudo),x(a||l.avatar_url)):t&&c(t.name)},[l,t,a]);const k=g=>{var _;const S=(_=g.target.files)==null?void 0:_[0];if(!S)return;d(S);const w=URL.createObjectURL(S);x(w)},h=async()=>{if(!u.trim()){r("Please enter a pseudo","error");return}j(!0);try{await i(u.trim(),m||void 0),r("Profile saved","success"),e("/")}catch{r("Failed to save profile","error")}finally{j(!1)}},f=()=>{n()};return s?o.jsx(jn,{message:"Loading profile..."}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(Sn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile"})]})}),o.jsxs("div",{className:"flex-1 p-4 space-y-6 pb-32 max-w-md mx-auto w-full",children:[o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsxs("div",{className:"relative",children:[p?o.jsx("img",{src:gg(p),alt:"Avatar",className:"w-32 h-32 rounded-full object-cover border-4 border-primary-200"}):o.jsx("div",{className:"w-32 h-32 rounded-full bg-primary-100 flex items-center justify-center border-4 border-primary-200",children:o.jsx("span",{className:"text-4xl font-semibold text-primary-600",children:u.charAt(0).toUpperCase()||"?"})}),o.jsx("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:o.jsxs("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:[o.jsx("path",{d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o.jsx("path",{d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),o.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:k,className:"hidden"})]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Click to change avatar"})]}),o.jsx("div",{children:o.jsx(Vr,{label:"Pseudo",value:u,onChange:g=>c(g.target.value),placeholder:"Enter your pseudo"})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),o.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backend URL"}),o.jsx("input",{type:"text",value:"https://script.google.com/macros/s/AKfycbyBK-9iXQ7bXvd26EN4qCz6DT2V_Z9pniGS2qrLaBP7pqXIQ29hGtmnQj2PP2LYCPHf/exec",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600 text-xs"})]})]}),o.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2 sticky bottom-0",children:[o.jsx(Y,{onClick:h,disabled:y||!u.trim(),fullWidth:!0,children:y?"Saving...":"Save Profile"}),o.jsx(Y,{variant:"danger",onClick:f,disabled:y,fullWidth:!0,children:"Logout"})]})]})}const Cn={status:()=>re.get("famileo/status"),posts:e=>re.get("famileo/posts",e),image:e=>re.get("famileo/image",{url:encodeURIComponent(e)}),triggerRefresh:()=>re.get("famileo/trigger-refresh"),families:()=>re.get("famileo/families"),importedIds:()=>re.get("famileo/imported-ids")};function vg({post:e,selected:t,onSelectionChange:n,onImageLoaded:r,cachedImage:l,alreadyImported:s}){const[i,a]=v.useState(!1),[u,c]=v.useState(null),[m,d]=v.useState(!1);v.useEffect(()=>{if(l){c(`data:${l.mimeType};base64,${l.base64}`);return}(async()=>{if(!(u||i||m)){a(!0);try{const y=await Cn.image(e.image_url);c(`data:${y.mimeType};base64,${y.base64}`),r(e.id,y.base64,y.mimeType)}catch{d(!0)}finally{a(!1)}}})()},[e.id,e.image_url,l]);const p=e.author_pseudo.split(" ").map(x=>x[0]).join("").toUpperCase().substring(0,2);return o.jsx("div",{className:"px-4",children:o.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border-2 transition-colors ${t?"border-primary-500 bg-primary-50":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("input",{type:"checkbox",checked:t,onChange:x=>n(x.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 flex-shrink-0"}),o.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-sm font-semibold text-orange-700",children:p})}),o.jsxs("div",{className:"flex flex-col min-w-0",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:e.author_pseudo}),o.jsx("span",{className:"text-sm text-gray-500",children:wf(e.date)})]})]}),s&&o.jsx("div",{className:"flex-shrink-0 ml-2",children:o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[o.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Imported"]})})]}),o.jsxs("div",{className:"w-full bg-gray-100 relative min-h-[200px]",children:[i&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),m&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:o.jsx("p",{className:"text-sm",children:"Failed to load image"})}),u&&o.jsx("img",{src:u,alt:"",className:"w-full h-auto object-contain"})]}),e.text&&o.jsx("div",{className:"p-4",children:o.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:e.text})}),o.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-100 text-xs text-gray-500",children:[o.jsxs("span",{children:["ID: ",e.id]}),o.jsx("span",{className:"mx-2",children:"|"}),o.jsx("span",{children:e.image_orientation})]})]})})}function yg(){const e=Be(),{user:t}=yt(),[n,r]=v.useState(""),[l,s]=v.useState(""),[i,a]=v.useState([]),[u,c]=v.useState(!1),[m,d]=v.useState(null),[p,x]=v.useState(new Set),[y,j]=v.useState({}),[k,h]=v.useState(!1),[f,g]=v.useState(null),[S,w]=v.useState(!1),[_,C]=v.useState(null),[E,A]=v.useState([]),[M,Q]=v.useState(""),[H,ne]=v.useState(!0),[$,O]=v.useState(new Set),[F,he]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const[W,X]=await Promise.all([Cn.families(),Cn.importedIds()]);A(W.families),W.families.length>0&&Q(W.families[0].famileo_id),O(new Set(X.ids))}catch(W){console.error("Failed to load initial data:",W)}finally{ne(!1)}})()},[]);const P=async()=>{if(!n||!l){d("Please select both start and end dates");return}c(!0),d(null),C(null),a([]),x(new Set),j({});try{const T=[];let W=!0;const X=new Date(n+"T00:00:00").getTime(),Se=new Date(l+"T23:59:59").getTime();let Ye=new Date(l+"T23:59:59.999Z").toISOString();for(console.log("Famileo fetch - startDate:",n,"endDate:",l),console.log("Famileo fetch - startTs:",new Date(X).toISOString(),"endTs:",new Date(Se).toISOString()),console.log("Famileo fetch - initial timestamp:",Ye);W;){console.log("Famileo fetch - calling API with timestamp:",Ye);const De=await Cn.posts({limit:"50",timestamp:Ye,family_id:M||void 0});console.log("Famileo fetch - got",De.posts.length,"posts, has_more:",De.has_more,"next_timestamp:",De.next_timestamp);for(const Ke of De.posts){const Tt=new Date(Ke.date).getTime();Tt>=X&&Tt<=Se&&T.push(Ke)}if(De.next_timestamp){const Ke=new Date(De.next_timestamp).getTime();console.log("Famileo fetch - nextTs:",new Date(Ke).toISOString(),"startTs:",new Date(X).toISOString(),"continue?",Ke>=X),Ke>=X?Ye=De.next_timestamp:(console.log("Famileo fetch - stopping, next page before start date"),W=!1)}else console.log("Famileo fetch - stopping, no next_timestamp"),W=!1}a(T),T.length===0&&d("No posts found in this date range")}catch(T){d(T instanceof Error?T.message:"Failed to fetch posts")}finally{c(!1)}},D=()=>{e("/")},R=(T,W)=>{x(X=>{const Se=new Set(X);return W?Se.add(T):Se.delete(T),Se})},B=(T,W,X)=>{j(Se=>({...Se,[T]:{base64:W,mimeType:X}}))},K=()=>{p.size===i.length?x(new Set):x(new Set(i.map(T=>T.id)))},rt=async()=>{if(!t||p.size===0)return;const T=i.filter(W=>p.has(W.id));T.sort((W,X)=>new Date(W.date).getTime()-new Date(X.date).getTime()),h(!0),g({current:0,total:T.length,currentPostText:""});try{for(let W=0;W<T.length;W++){const X=T[W];g({current:W+1,total:T.length,currentPostText:X.text.substring(0,50)+(X.text.length>50?"...":"")});let Se="",Ye="image/jpeg";const De=await Cn.image(X.full_image_url);Se=De.base64,Ye=De.mimeType;const Ke=`data:${Ye};base64,${Se}`,Tt=await fetch(Ke).then(z=>z.blob()),nr=new File([Tt],"famileo-import.jpg",{type:Ye}),kn=new Date(X.date.replace(" ","T")),N=isNaN(kn.getTime())?new Date().toISOString():kn.toISOString();await Et.createArticle(X.author_email,X.text,nr,N,String(X.id)),O(z=>new Set([...z,String(X.id)])),W<T.length-1&&await new Promise(z=>setTimeout(z,500))}x(new Set),C(`Successfully created ${T.length} article${T.length>1?"s":""}`)}catch(W){d(W instanceof Error?W.message:"Failed to create articles")}finally{h(!1),g(null)}},je=async()=>{w(!0),C(null),d(null);try{const T=await Cn.triggerRefresh();C(T.message)}catch(T){d(T instanceof Error?T.message:"Failed to trigger refresh")}finally{w(!1)}},ce=p.size;return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(Sn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:D,className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",disabled:k,children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Famileo Scraper"})]}),o.jsxs("button",{onClick:je,disabled:S||k,className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation disabled:opacity-50",title:"Refresh Famileo session",children:[o.jsx("svg",{className:`w-4 h-4 ${S?"animate-spin":""}`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),o.jsx("span",{children:S?"Refreshing...":"Refresh Session"})]})]})}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[E.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Family"}),o.jsx("select",{value:M,onChange:T=>Q(T.target.value),disabled:u||k||H,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white",children:E.map(T=>o.jsx("option",{value:T.famileo_id,children:T.name},T.id))})]}),H&&o.jsx("div",{className:"text-sm text-gray-500",children:"Loading families..."}),!H&&E.length===0&&o.jsx("div",{className:"text-sm text-amber-600",children:'No family configured. Add families in the "families" sheet.'}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),o.jsx("input",{type:"date",value:n,onChange:T=>r(T.target.value),disabled:u||k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white appearance-none"})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),o.jsx("input",{type:"date",value:l,onChange:T=>s(T.target.value),disabled:u||k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white appearance-none"})]})]}),o.jsx("button",{onClick:P,disabled:u||k||H||!n||!l||!M&&E.length>0,className:"w-full py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors touch-manipulation",children:H?"Loading families...":u?"Loading...":"Get Posts"})]})}),k&&f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 mx-4 max-w-sm w-full shadow-xl",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Creating Articles"}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[f.current," / ",f.total]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:o.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all duration-300",style:{width:`${f.current/f.total*100}%`}})})]}),o.jsx("p",{className:"text-sm text-gray-500 truncate",children:f.currentPostText})]})}),_&&o.jsx("div",{className:"mx-4 mt-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:_}),m&&o.jsx("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:m}),u&&o.jsx("div",{className:"flex-1 flex items-center justify-center py-12",children:o.jsx("div",{className:"w-10 h-10 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),!u&&i.length>0&&o.jsxs("div",{className:"flex-1 py-4 pb-24",children:[o.jsxs("div",{className:"px-4 mb-3 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-gray-500",children:[i.length," post",i.length>1?"s":""," found",ce>0&&o.jsxs("span",{className:"ml-2 text-primary-600 font-medium",children:["(",ce," selected)"]})]}),o.jsx("button",{onClick:K,disabled:k,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:p.size===i.length?"Deselect All":"Select All"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"hideImported",checked:F,onChange:T=>he(T.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("label",{htmlFor:"hideImported",className:"text-sm text-gray-600",children:["Hide already imported posts (",i.filter(T=>$.has(String(T.id))).length,")"]})]})]}),o.jsx("div",{className:"space-y-4",children:i.filter(T=>!F||!$.has(String(T.id))).map(T=>o.jsx(vg,{post:T,selected:p.has(T.id),onSelectionChange:W=>R(T.id,W),onImageLoaded:B,cachedImage:y[T.id],alreadyImported:$.has(String(T.id))},T.id))})]}),!u&&i.length>0&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-20",children:o.jsx("div",{className:"max-w-content mx-auto",children:o.jsxs("button",{onClick:rt,disabled:ce===0||k,className:"w-full py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors touch-manipulation flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 4v16m8-8H4"})}),ce>0?`Bulk Create (${ce})`:"Select posts to create"]})})})]})}const At={create:e=>re.post("pdf/create",e),process:e=>re.get("pdf/process",{job_id:e}),status:e=>re.get("pdf/status",{job_id:e}),list:e=>{const t=e?{date_from:e.date_from,date_to:e.date_to,author:e.author,include_in_progress:e.include_in_progress?"true":void 0}:void 0;return re.get("pdf/list",t)},delete:e=>re.post("pdf/delete",{job_id:e}),cancel:e=>re.post("pdf/cancel",{job_id:e})},wg=()=>{try{const e=localStorage.getItem("user");return e&&JSON.parse(e).email||"me"}catch{return"me"}},jg=()=>{try{const e=localStorage.getItem("user");return e&&JSON.parse(e).name||null}catch{return null}},Sg=e=>e==="PENDING"||e==="RUNNING"||e==="DONE"||e==="ERROR"||e==="CANCELLED"?e:"PENDING",Ji=Xi((e,t)=>({isGenerating:!1,jobId:null,progress:0,progressMessage:"",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:null,startGeneration:async(n,r,l,s)=>{e({isGenerating:!0,jobId:null,progress:0,progressMessage:"Starting...",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:s||null});try{const i=await At.create({from:n,to:r,options:l}),a=new Date().toISOString(),u=wg(),c=jg()||u.split("@")[0],m=new Date(n).getFullYear(),d={job_id:i.job_id,created_at:a,created_by:u,created_by_pseudo:c,year:m,date_from:n,date_to:r,status:Sg(i.status),progress:i.progress,progress_message:i.progress_message,pdf_url:i.pdf_url,pdf_file_id:i.pdf_file_id};return i.status==="DONE"&&i.pdf_url?(e({isGenerating:!1,progress:100,progressMessage:"Done!",pdfUrl:i.pdf_url,showSuccess:!0}),s&&s(),d):i.status==="ERROR"?(e({isGenerating:!1,error:"PDF generation failed",progressMessage:""}),null):(e({isGenerating:!1,jobId:i.job_id}),At.process(i.job_id).catch(()=>{}),s&&s(),d)}catch(i){return e({isGenerating:!1,error:i instanceof Error?i.message:"Error while generating PDF",progressMessage:""}),null}},pollJobStatus:async n=>{try{const r=await At.status(n);if(e({progress:r.progress||0,progressMessage:r.progress_message||""}),r.status==="DONE"){const l=t().onCompleteCallback;e({isGenerating:!1,pdfUrl:r.pdf_url||null,showSuccess:!0}),l&&l()}else r.status==="ERROR"?e({isGenerating:!1,error:r.error_message||"PDF generation failed"}):setTimeout(()=>t().pollJobStatus(n),1e3)}catch(r){e({isGenerating:!1,error:r instanceof Error?r.message:"Error while tracking job"})}},setLastCompletedJob:n=>{e({lastCompletedJob:n,showSuccess:n!==null,pdfUrl:(n==null?void 0:n.pdf_url)||null})},dismissSuccess:()=>{e({showSuccess:!1,pdfUrl:null,lastCompletedJob:null})},dismissError:()=>{e({error:null})},reset:()=>{e({isGenerating:!1,jobId:null,progress:0,progressMessage:"",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:null})}}));function kg({isOpen:e,onClose:t,onComplete:n}){const{startGeneration:r,isGenerating:l}=Ji(),[s,i]=v.useState("dates"),[a,u]=v.useState(""),[c,m]=v.useState(""),[d,p]=v.useState(!1),[x,y]=v.useState(null),[j,k]=v.useState([]),[h,f]=v.useState(0),[g,S]=v.useState("full"),[w,_]=v.useState(!0),[C,E]=v.useState(0),[A,M]=v.useState(!1),Q=()=>{i("dates"),u(""),m(""),k([]),f(0),y(null),S("full"),_(!0),E(0),M(!1)},H=()=>{Q(),t()},ne=async()=>{if(!a||!c){y("Please select a start and end date");return}if(c<a){y("End date cannot be earlier than start date");return}p(!0),y(null);try{const O=[];let F=null;do{const D=await ut.list({from:a,to:c,limit:"100",cursor:F||void 0,status_filter:"active"});O.push(...D.items),F=D.next_cursor}while(F);const he=new Map;for(const D of O){const R=D.date.substring(0,7),B=jf(D.date);he.has(R)?he.get(R).count++:he.set(R,{label:B,count:1})}const P=Array.from(he.entries()).sort((D,R)=>D[0].localeCompare(R[0])).map(([D,R])=>({key:D,label:R.label,count:R.count}));k(P),f(O.length),E(O.length),O.length===0?y("No articles found for this period"):i("preview")}catch(O){y(O instanceof Error?O.message:"Error while loading")}finally{p(!1)}},$=async()=>{const O=await r(a,c,{mosaic_layout:g,show_seasonal_fruits:w,max_mosaic_photos:C>0?C:void 0,keep_temp:A});Q(),t(),n(O)};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:H}),o.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[s==="dates"&&"Select date range",s==="preview"&&"Article preview",s==="options"&&"Generation options"]}),o.jsx("button",{onClick:H,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[x&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:x}),s==="dates"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start date"}),o.jsx("input",{type:"date",value:a,onChange:O=>{const F=O.target.value;u(F),c&&F&&c<F&&m(F),x&&y(null)},disabled:d,max:c||void 0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End date"}),o.jsx("input",{type:"date",value:c,onChange:O=>{const F=O.target.value;m(F),a&&F&&F<a&&u(F),x&&y(null)},disabled:d,min:a||void 0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100"})]})]}),s==="preview"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-primary-50 rounded-lg p-4",children:o.jsxs("p",{className:"text-primary-800",children:[o.jsx("span",{className:"font-semibold text-primary-900",children:h})," article",h>1?"s":""," ","sur"," ",o.jsx("span",{className:"font-semibold text-primary-900",children:j.length})," mois"]})}),o.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-3 py-2 border-b border-gray-200",children:o.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Monthly breakdown"})}),o.jsx("ul",{className:"divide-y divide-gray-100 max-h-48 overflow-y-auto",children:j.map(O=>o.jsxs("li",{className:"px-3 py-2 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:O.label}),o.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded text-xs font-medium",children:O.count})]},O.key))})]})]}),s==="options"&&o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover photos"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"range",min:1,max:h,value:C||h,onChange:O=>E(parseInt(O.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-12 text-right",children:C||h})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Number of photos in the cover mosaic"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month divider style"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>S("full"),className:`flex-1 py-2.5 px-3 rounded-lg border text-sm transition-colors ${g==="full"?"border-primary-500 bg-primary-50 text-primary-700 font-medium":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:"Full mosaic"}),o.jsx("button",{onClick:()=>S("centered"),className:`flex-1 py-2.5 px-3 rounded-lg border text-sm transition-colors ${g==="centered"?"border-primary-500 bg-primary-50 text-primary-700 font-medium":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:"Centered mosaic"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:w,onChange:O=>_(O.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Seasonal fruits & vegetables"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Decorations around month dividers"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx("input",{type:"checkbox",checked:A,onChange:O=>M(O.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Keep temporary PDF files"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Preserve intermediate PDFs and show a folder link"})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm text-gray-600",children:[o.jsx("strong",{children:h})," articles from"," ",o.jsx("strong",{children:new Date(a).toLocaleDateString("fr-FR")})," to"," ",o.jsx("strong",{children:new Date(c).toLocaleDateString("fr-FR")})]})]})]}),o.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex gap-3",children:[s==="dates"&&o.jsxs(o.Fragment,{children:[o.jsx(Y,{variant:"secondary",onClick:H,fullWidth:!0,children:"Cancel"}),o.jsx(Y,{onClick:ne,disabled:!a||!c||d,fullWidth:!0,children:d?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Searching..."]}):"Next"})]}),s==="preview"&&o.jsxs(o.Fragment,{children:[o.jsx(Y,{variant:"secondary",onClick:()=>i("dates"),fullWidth:!0,children:"Back"}),o.jsx(Y,{onClick:()=>i("options"),fullWidth:!0,children:"Next"})]}),s==="options"&&o.jsxs(o.Fragment,{children:[o.jsx(Y,{variant:"secondary",onClick:()=>i("preview"),fullWidth:!0,children:"Back"}),o.jsxs(Y,{onClick:$,disabled:l,fullWidth:!0,children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Generate PDF"]})]})]})]})]}):null}const Ng=yt;function Cg(){const e=Be(),{user:t}=Ng(),{profile:n}=Zi(),[r,l]=v.useState([]),[s,i]=v.useState(!0),[a,u]=v.useState(null),[c,m]=v.useState(""),[d,p]=v.useState(""),[x,y]=v.useState("created_at"),[j,k]=v.useState("desc"),[h,f]=v.useState([]),[g,S]=v.useState(!1),[w,_]=v.useState(new Set),[C,E]=v.useState(null),[A,M]=v.useState(!1),[Q,H]=v.useState(!1),[ne,$]=v.useState(null),[O,F]=v.useState(!1),he=v.useCallback(async()=>{i(!0),u(null);try{const N=await At.list({include_in_progress:!0});l(N.items||[]),f(N.authors||[])}catch(N){u(N instanceof Error?N.message:"Failed to load PDF list")}finally{i(!1)}},[]);v.useEffect(()=>{he()},[he]);const[P,D]=v.useState(new Map),{setLastCompletedJob:R}=Ji(),B=r.filter(N=>N.status==="PENDING"||N.status==="RUNNING"),K=r.filter(N=>N.status==="DONE"||N.status==="ERROR"||N.status==="CANCELLED");v.useEffect(()=>{if(B.length===0)return;const N=setInterval(async()=>{const z=await Promise.all(B.map(async J=>{try{return{...await At.status(J.job_id),job_id:J.job_id}}catch{return null}}));l(J=>J.map(xe=>{const ve=z.find(I=>I&&I.job_id===xe.job_id);return ve?{...xe,status:ve.status,progress:ve.progress,progress_message:ve.progress_message,pdf_url:ve.pdf_url,error_message:ve.error_message}:xe}))},2e3);return()=>clearInterval(N)},[B.length]),v.useEffect(()=>{const N=new Map(r.map(z=>[z.job_id,z.status]));for(const[z,J]of P){const xe=N.get(z);if((J==="PENDING"||J==="RUNNING")&&xe==="DONE"){const ve=r.find(I=>I.job_id===z);ve&&R(ve)}}D(N)},[r,P,R]);const rt=Array.from(new Set(r.map(N=>N.year).filter(Boolean))).sort((N,z)=>z-N),je=N=>{if(!N)return 0;const z=new Date(N);return isNaN(z.getTime())?0:z.getTime()},ce=K.filter(N=>!c||N.year===parseInt(c)).filter(N=>!d||N.created_by===d).sort((N,z)=>{let J=0;return x==="created_at"?J=je(N.created_at)-je(z.created_at):x==="date_from"?J=je(N.date_from)-je(z.date_from):x==="created_by"&&(J=(N.created_by||"").localeCompare(z.created_by||"")),j==="desc"?-J:J}),T=()=>{e("/")},W=N=>{try{return new Date(N).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return N}},X=(N,z)=>{try{const J=new Date(N),xe=new Date(z),ve={day:"2-digit",month:"short",year:"numeric"};return`${J.toLocaleDateString("fr-FR",ve)}  ${xe.toLocaleDateString("fr-FR",ve)}`}catch{return`${N}  ${z}`}},Se=v.useCallback((N,z)=>{var xe;return z||(N?t!=null&&t.email&&(n!=null&&n.pseudo)&&N===t.email?n.pseudo:((xe=r.find(ve=>ve.created_by===N))==null?void 0:xe.created_by_pseudo)||N.split("@")[0]:"Unknown")},[r,n==null?void 0:n.pseudo,t==null?void 0:t.email]),Ye=N=>{const z=new Set(w);z.has(N)?z.delete(N):z.add(N),_(z)},De=()=>{w.size===ce.length?_(new Set):_(new Set(ce.map(N=>N.job_id)))},Ke=async()=>{if(C){H(!0);try{await At.delete(C),l(N=>N.filter(z=>z.job_id!==C)),E(null)}catch(N){u(N instanceof Error?N.message:"Failed to delete PDF")}finally{H(!1)}}},Tt=async()=>{if(w.size!==0){H(!0);try{for(const N of w)await At.delete(N);l(N=>N.filter(z=>!w.has(z.job_id))),_(new Set),S(!1),M(!1)}catch(N){u(N instanceof Error?N.message:"Failed to delete PDFs")}finally{H(!1)}}},nr=N=>{F(!1),N&&(l(z=>{const J=z.findIndex(ve=>ve.job_id===N.job_id);if(J===-1)return[N,...z];const xe=[...z];return xe[J]={...xe[J],...N},xe}),f(z=>N.created_by&&!z.includes(N.created_by)?[...z,N.created_by]:z))},kn=async N=>{$(N);try{await At.cancel(N),l(z=>z.map(J=>J.job_id===N?{...J,status:"CANCELLED",progress_message:"Cancelled"}:J))}catch(z){u(z instanceof Error?z.message:"Failed to cancel PDF generation")}finally{$(null)}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(Sn,{}),o.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[g?o.jsx("div",{className:"w-9 h-9"}):o.jsx("button",{onClick:T,className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900 flex-1",children:g?`${w.size} selected`:"Generated PDFs"}),o.jsxs("div",{className:"flex items-center gap-4",children:[g&&o.jsx("button",{onClick:De,className:"text-primary-600 hover:text-primary-700 touch-manipulation text-sm font-medium",children:w.size===ce.length?"Deselect all":"Select all"}),ce.length>0&&o.jsx(Sf,{checked:g,onChange:N=>{S(N),N||_(new Set)},label:"Select"})]})]}),o.jsx("div",{className:"flex items-center gap-2 mt-3 h-11 overflow-x-auto",children:g?o.jsx("span",{className:"text-sm text-gray-500",children:"Select PDFs to delete"}):o.jsxs(o.Fragment,{children:[o.jsxs("select",{value:c,onChange:N=>m(N.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[o.jsx("option",{value:"",children:"Year"}),rt.map(N=>o.jsx("option",{value:N,children:N},N))]}),h.length>1&&o.jsxs("select",{value:d,onChange:N=>p(N.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 max-w-32 truncate",children:[o.jsx("option",{value:"",children:"Author"}),h.map(N=>o.jsx("option",{value:N,children:Se(N)},N))]}),o.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden text-xs",children:[o.jsxs("button",{onClick:()=>{x==="created_at"?k(j==="desc"?"asc":"desc"):(y("created_at"),k("desc"))},className:`px-3 py-2.5 font-medium transition-colors flex items-center gap-1 ${x==="created_at"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Created",x==="created_at"&&o.jsx("span",{className:"text-[10px]",children:j==="desc"?"":""})]}),o.jsxs("button",{onClick:()=>{x==="date_from"?k(j==="desc"?"asc":"desc"):(y("date_from"),k("desc"))},className:`px-3 py-2.5 font-medium border-l border-gray-300 transition-colors flex items-center gap-1 ${x==="date_from"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Period",x==="date_from"&&o.jsx("span",{className:"text-[10px]",children:j==="desc"?"":""})]}),o.jsxs("button",{onClick:()=>{x==="created_by"?k(j==="desc"?"asc":"desc"):(y("created_by"),k("asc"))},className:`px-3 py-2.5 font-medium border-l border-gray-300 transition-colors flex items-center gap-1 ${x==="created_by"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Author",x==="created_by"&&o.jsx("span",{className:"text-[10px]",children:j==="desc"?"":""})]})]}),o.jsxs("span",{className:"text-sm text-gray-500 ml-auto",children:[ce.length," PDF",ce.length>1?"s":""]})]})})]}),a&&o.jsxs("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[a,o.jsx("button",{onClick:()=>u(null),className:"ml-2 text-red-500 hover:text-red-700",children:""})]}),o.jsx("div",{className:"flex-1 p-4 pb-24",children:s?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):B.length===0&&ce.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),o.jsx("p",{className:"text-gray-500 mb-2",children:c?"No PDFs for this year":"No PDFs generated"}),o.jsx(Y,{onClick:()=>F(!0),variant:"primary",children:"Create my first PDF"})]}):o.jsxs(o.Fragment,{children:[B.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Generating"}),o.jsx("div",{className:"space-y-3",children:B.map(N=>o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:o.jsxs("svg",{className:"w-5 h-5 text-blue-600 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-gray-900",children:X(N.date_from,N.date_to)}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("div",{className:"flex-1 h-1.5 bg-blue-200 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300",style:{width:`${N.progress||0}%`}})}),o.jsxs("span",{className:"text-xs text-blue-600 font-medium w-8",children:[N.progress||0,"%"]})]}),o.jsx("p",{className:"text-xs text-blue-500 mt-0.5",children:N.progress_message||"Pending..."}),o.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["by ",Se(N.created_by,N.created_by_pseudo)]}),N.temp_folder_url&&o.jsx("a",{href:N.temp_folder_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 mt-0.5 inline-flex",onClick:z=>z.stopPropagation(),children:"Temporary folder"})]}),o.jsx("button",{onClick:()=>kn(N.job_id),disabled:ne===N.job_id,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Cancel",children:ne===N.job_id?o.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})},N.job_id))})]}),ce.length>0&&o.jsxs("div",{children:[B.length>0&&o.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Generated"}),o.jsx("div",{className:"space-y-3",children:ce.map(N=>o.jsx("div",{onClick:()=>g&&Ye(N.job_id),className:`bg-white rounded-lg shadow-sm border transition-colors ${g?w.has(N.job_id)?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300":"border-gray-200"} p-4 ${g?"cursor-pointer":""}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[g&&o.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 mt-0.5 ${w.has(N.job_id)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:w.has(N.job_id)&&o.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M5 13l4 4L19 7"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-medium text-gray-900",children:X(N.date_from,N.date_to)}),N.status==="ERROR"&&o.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-red-100 text-red-700 rounded",children:"Error"}),N.status==="CANCELLED"&&o.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded",children:"Cancelled"})]}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Created on ",W(N.created_at)]}),N.status==="ERROR"&&N.error_message&&o.jsx("p",{className:"text-xs text-red-500 mt-0.5 truncate",title:N.error_message,children:N.error_message}),o.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["by ",Se(N.created_by,N.created_by_pseudo)]}),N.temp_folder_url&&o.jsx("a",{href:N.temp_folder_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 mt-0.5 inline-flex",onClick:z=>z.stopPropagation(),children:"Temporary folder"})]}),!g&&o.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[N.pdf_url&&o.jsx("a",{href:N.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Voir le PDF",onClick:z=>z.stopPropagation(),children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),o.jsx("button",{onClick:z=>{z.stopPropagation(),E(N.job_id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},N.job_id))})]})]})}),g&&w.size>0&&o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 z-50 shadow-lg",children:o.jsxs("div",{className:"max-w-content mx-auto flex items-center justify-between gap-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[w.size," PDF",w.size>1?"s":""," selected"]}),o.jsx("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Delete"})]})}),!g&&o.jsx("div",{className:"fixed bottom-6 left-0 right-0 z-30",children:o.jsx("div",{className:"max-w-content mx-auto px-4 flex justify-end",children:o.jsx(vf,{onClick:()=>F(!0),className:"bg-primary-600 hover:bg-primary-700 active:bg-primary-800 transition-all hover:scale-105 active:scale-95",icon:o.jsx("svg",{className:"w-8 h-8",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 4v16m8-8H4"})})})})}),o.jsx(kg,{isOpen:O,onClose:()=>F(!1),onComplete:nr}),o.jsx(vn,{isOpen:!!C,title:"Delete PDF?",message:"The PDF will be permanently deleted from Google Drive.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:Ke,onCancel:()=>E(null),variant:"danger",isLoading:Q}),o.jsx(vn,{isOpen:A,title:`Delete ${w.size} PDF${w.size>1?"s":""}?`,message:"Selected PDFs will be permanently deleted from Google Drive.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:Tt,onCancel:()=>M(!1),variant:"danger",isLoading:Q})]})}const Iu={get:e=>re.get("config/get",{key:e}),set:(e,t)=>re.post("config/set",{key:e,value:t})};function Eg(){const e=Be(),{showToast:t}=qr(),[n,r]=v.useState(""),[l,s]=v.useState(!0),[i,a]=v.useState(!1);v.useEffect(()=>{u()},[]);const u=async()=>{try{const m=await Iu.get("family_name");r(m.value||"")}catch{t("Error while loading","error")}finally{s(!1)}},c=async()=>{a(!0);try{await Iu.set("family_name",n.trim()),t("Configuration saved","success"),e("/")}catch{t("Error while saving","error")}finally{a(!1)}};return l?o.jsx(jn,{message:"Loading..."}):o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[o.jsx(Sn,{}),o.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M15 19l-7-7 7-7"})})}),o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Settings"})]})}),o.jsx("div",{className:"flex-1 p-4 space-y-6 pb-32 max-w-md mx-auto w-full",children:o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"PDF cover page"}),o.jsx(Vr,{label:"Family name",value:n,onChange:m=>r(m.target.value),placeholder:"e.g., Dupont family"}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Appears on the PDF cover title."})]})}),o.jsx("div",{className:"bg-white border-t border-gray-200 p-4 sticky bottom-0",children:o.jsx(Y,{onClick:c,disabled:i,fullWidth:!0,children:i?"Saving...":"Save"})})]})}const _g="modulepreload",bg=function(e){return"/"+e},Ru={},Pg=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));l=Promise.allSettled(n.map(u=>{if(u=bg(u),u in Ru)return;Ru[u]=!0;const c=u.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":_g,c||(d.as="script"),d.crossOrigin="",d.href=u,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((p,x)=>{d.addEventListener("load",p),d.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return l.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function Lg(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:l,onRegisteredSW:s,onRegisterError:i}=e;let a,u,c;const m=async(p=!0)=>{await u,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(a=await Pg(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:p}},[]).then(({Workbox:p})=>new p("/sw.js",{scope:"/",type:"classic"})).catch(p=>{i==null||i(p)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let p=!1;const x=()=>{p=!0,a==null||a.addEventListener("controlling",y=>{y.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",y=>{typeof y.isUpdate>"u"?typeof y.isExternal<"u"?y.isExternal?x():!p&&(r==null||r()):y.isExternal?window.location.reload():!p&&(r==null||r()):y.isUpdate||r==null||r()}),a.addEventListener("waiting",x),a.addEventListener("externalwaiting",x)}a.register({immediate:t}).then(p=>{s?s("/sw.js",p):l==null||l(p)}).catch(p=>{i==null||i(p)})}}return u=d(),m}function Dg(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:l,onRegisteredSW:s,onRegisterError:i}=e,[a,u]=v.useState(!1),[c,m]=v.useState(!1),[d]=v.useState(()=>Lg({immediate:t,onOfflineReady(){m(!0),r==null||r()},onNeedRefresh(){u(!0),n==null||n()},onRegistered:l,onRegisteredSW:s,onRegisterError:i}));return{needRefresh:[a,u],offlineReady:[c,m],updateServiceWorker:d}}function Tg(){const{needRefresh:[e],updateServiceWorker:t}=Dg({onRegistered(n){console.log("SW Registered:",n),n&&setInterval(()=>{n.update()},3e4)},onRegisterError(n){console.log("SW registration error",n)}});return e?o.jsxs("div",{className:"fixed bottom-20 left-4 right-4 z-50 bg-primary-600 text-white p-4 rounded-lg shadow-lg flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"New version available"}),o.jsx("button",{onClick:()=>t(!0),className:"bg-white text-primary-600 px-4 py-2 rounded-md text-sm font-semibold",children:"Update"})]}):null}function Ig(){const{error:e,pdfUrl:t,showSuccess:n,lastCompletedJob:r,dismissSuccess:l,dismissError:s}=Ji();if(!n&&!e)return null;const i=(a,u)=>{try{const c=new Date(a),m=new Date(u),d={day:"2-digit",month:"short",year:"numeric"};return`${c.toLocaleDateString("fr-FR",d)} - ${m.toLocaleDateString("fr-FR",d)}`}catch{return`${a} - ${u}`}};return o.jsxs("div",{className:"fixed bottom-20 left-4 right-4 z-50 max-w-md mx-auto",children:[n&&t&&o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg shadow-lg p-4 animate-slide-up",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-green-800",children:"PDF generated successfully!"}),r&&o.jsx("p",{className:"text-xs text-green-600 mt-0.5",children:i(r.date_from,r.date_to)}),o.jsxs("div",{className:"flex gap-2 mt-2",children:[o.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View"]}),o.jsx("button",{onClick:l,className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-green-700 hover:bg-green-100 rounded-lg transition-colors",children:"Close"})]})]}),o.jsx("button",{onClick:l,className:"text-green-400 hover:text-green-600",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})}),e&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 animate-slide-up",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:o.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-red-800",children:"Generation error"}),o.jsx("p",{className:"text-xs text-red-600 mt-0.5",children:e})]}),o.jsx("button",{onClick:s,className:"text-red-400 hover:text-red-600",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})]})}function Rg(){return o.jsx(Kp,{children:o.jsxs(qp,{children:[o.jsx(Tg,{}),o.jsx(Ig,{}),o.jsx("div",{className:"min-h-screen max-w-content mx-auto bg-white",children:o.jsxs(Hp,{children:[o.jsx(Ze,{path:"/auth",element:o.jsx(t0,{})}),o.jsx(Ze,{path:"/",element:o.jsx(wt,{children:o.jsx($0,{})})}),o.jsx(Ze,{path:"/editor",element:o.jsx(wt,{children:o.jsx(Du,{})})}),o.jsx(Ze,{path:"/editor/:id",element:o.jsx(wt,{children:o.jsx(Du,{})})}),o.jsx(Ze,{path:"/stats",element:o.jsx(wt,{children:o.jsx(ug,{})})}),o.jsx(Ze,{path:"/photo-assembly",element:o.jsx(wt,{children:o.jsx(pg,{})})}),o.jsx(Ze,{path:"/profile",element:o.jsx(wt,{children:o.jsx(xg,{})})}),o.jsx(Ze,{path:"/famileo",element:o.jsx(wt,{children:o.jsx(yg,{})})}),o.jsx(Ze,{path:"/pdf-export",element:o.jsx(wt,{children:o.jsx(Cg,{})})}),o.jsx(Ze,{path:"/settings",element:o.jsx(wt,{children:o.jsx(Eg,{})})}),o.jsx(Ze,{path:"*",element:o.jsx(af,{to:"/",replace:!0})})]})})]})})}Xs.createRoot(document.getElementById("root")).render(o.jsx(ri.StrictMode,{children:o.jsx(Yp,{children:o.jsx(Rg,{})})}));
