var xf=Object.defineProperty;var wf=(e,t,n)=>t in e?xf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gs=(e,t,n)=>wf(e,typeof t!="symbol"?t+"":t,n);function Sf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const s=Object.getOwnPropertyDescriptor(r,l);s&&Object.defineProperty(e,l,s.get?s:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Lu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Du={exports:{}},Xl={},Tu={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Br=Symbol.for("react.element"),jf=Symbol.for("react.portal"),kf=Symbol.for("react.fragment"),Nf=Symbol.for("react.strict_mode"),Cf=Symbol.for("react.profiler"),Ef=Symbol.for("react.provider"),_f=Symbol.for("react.context"),bf=Symbol.for("react.forward_ref"),Pf=Symbol.for("react.suspense"),Lf=Symbol.for("react.memo"),Df=Symbol.for("react.lazy"),Ki=Symbol.iterator;function Tf(e){return e===null||typeof e!="object"?null:(e=Ki&&e[Ki]||e["@@iterator"],typeof e=="function"?e:null)}var Iu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ru=Object.assign,zu={};function Qn(e,t,n){this.props=e,this.context=t,this.refs=zu,this.updater=n||Iu}Qn.prototype.isReactComponent={};Qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fu(){}Fu.prototype=Qn.prototype;function Yo(e,t,n){this.props=e,this.context=t,this.refs=zu,this.updater=n||Iu}var Zo=Yo.prototype=new Fu;Zo.constructor=Yo;Ru(Zo,Qn.prototype);Zo.isPureReactComponent=!0;var Yi=Array.isArray,Mu=Object.prototype.hasOwnProperty,Xo={current:null},Au={key:!0,ref:!0,__self:!0,__source:!0};function Ou(e,t,n){var r,l={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Mu.call(t,r)&&!Au.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:Br,type:e,key:s,ref:o,props:l,_owner:Xo.current}}function If(e,t){return{$$typeof:Br,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Br}function Rf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zi=/\/+/g;function vs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rf(""+e.key):t.toString(36)}function ml(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Br:case jf:o=!0}}if(o)return o=e,l=l(o),e=r===""?"."+vs(o,0):r,Yi(l)?(n="",e!=null&&(n=e.replace(Zi,"$&/")+"/"),ml(l,t,n,"",function(c){return c})):l!=null&&(Jo(l)&&(l=If(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Zi,"$&/")+"/")+e)),t.push(l)),1;if(o=0,r=r===""?".":r+":",Yi(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+vs(s,a);o+=ml(s,t,n,u,l)}else if(u=Tf(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+vs(s,a++),o+=ml(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zr(e,t,n){if(e==null)return e;var r=[],l=0;return ml(e,r,"","",function(s){return t.call(n,s,l++)}),r}function zf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Le={current:null},hl={transition:null},Ff={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:hl,ReactCurrentOwner:Xo};function Uu(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Zr,forEach:function(e,t,n){Zr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zr(e,function(){t++}),t},toArray:function(e){return Zr(e,function(t){return t})||[]},only:function(e){if(!Jo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=Qn;$.Fragment=kf;$.Profiler=Cf;$.PureComponent=Yo;$.StrictMode=Nf;$.Suspense=Pf;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ff;$.act=Uu;$.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ru({},e.props),l=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Xo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Mu.call(t,u)&&!Au.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Br,type:e.type,key:l,ref:s,props:r,_owner:o}};$.createContext=function(e){return e={$$typeof:_f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ef,_context:e},e.Consumer=e};$.createElement=Ou;$.createFactory=function(e){var t=Ou.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:bf,render:e}};$.isValidElement=Jo;$.lazy=function(e){return{$$typeof:Df,_payload:{_status:-1,_result:e},_init:zf}};$.memo=function(e,t){return{$$typeof:Lf,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=hl.transition;hl.transition={};try{e()}finally{hl.transition=t}};$.unstable_act=Uu;$.useCallback=function(e,t){return Le.current.useCallback(e,t)};$.useContext=function(e){return Le.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return Le.current.useDeferredValue(e)};$.useEffect=function(e,t){return Le.current.useEffect(e,t)};$.useId=function(){return Le.current.useId()};$.useImperativeHandle=function(e,t,n){return Le.current.useImperativeHandle(e,t,n)};$.useInsertionEffect=function(e,t){return Le.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return Le.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return Le.current.useMemo(e,t)};$.useReducer=function(e,t,n){return Le.current.useReducer(e,t,n)};$.useRef=function(e){return Le.current.useRef(e)};$.useState=function(e){return Le.current.useState(e)};$.useSyncExternalStore=function(e,t,n){return Le.current.useSyncExternalStore(e,t,n)};$.useTransition=function(){return Le.current.useTransition()};$.version="18.3.1";Tu.exports=$;var v=Tu.exports;const qo=Lu(v),Mf=Sf({__proto__:null,default:qo},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af=v,Of=Symbol.for("react.element"),Uf=Symbol.for("react.fragment"),Bf=Object.prototype.hasOwnProperty,$f=Af.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wf={key:!0,ref:!0,__self:!0,__source:!0};function Bu(e,t,n){var r,l={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Bf.call(t,r)&&!Wf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Of,type:e,key:s,ref:o,props:l,_owner:$f.current}}Xl.Fragment=Uf;Xl.jsx=Bu;Xl.jsxs=Bu;Du.exports=Xl;var i=Du.exports,Ks={},$u={exports:{}},He={},Wu={exports:{}},Vu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,R){var F=P.length;P.push(R);e:for(;0<F;){var H=F-1>>>1,X=P[H];if(0<l(X,R))P[H]=R,P[F]=X,F=H;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var R=P[0],F=P.pop();if(F!==R){P[0]=F;e:for(var H=0,X=P.length,Oe=X>>>1;H<Oe;){var ae=2*(H+1)-1,Ue=P[ae],T=ae+1,B=P[T];if(0>l(Ue,F))T<X&&0>l(B,Ue)?(P[H]=B,P[T]=F,H=T):(P[H]=Ue,P[ae]=F,H=ae);else if(T<X&&0>l(B,F))P[H]=B,P[T]=F,H=T;else break e}}return R}function l(P,R){var F=P.sortIndex-R.sortIndex;return F!==0?F:P.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],m=1,d=null,p=3,y=!1,x=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=P)r(c),R.sortIndex=R.expirationTime,t(u,R);else break;R=n(c)}}function S(P){if(j=!1,g(P),!x)if(n(u)!==null)x=!0,W(w);else{var R=n(c);R!==null&&re(S,R.startTime-P)}}function w(P,R){x=!1,j&&(j=!1,h(_),_=-1),y=!0;var F=p;try{for(g(R),d=n(u);d!==null&&(!(d.expirationTime>R)||P&&!K());){var H=d.callback;if(typeof H=="function"){d.callback=null,p=d.priorityLevel;var X=H(d.expirationTime<=R);R=e.unstable_now(),typeof X=="function"?d.callback=X:d===n(u)&&r(u),g(R)}else r(u);d=n(u)}if(d!==null)var Oe=!0;else{var ae=n(c);ae!==null&&re(S,ae.startTime-R),Oe=!1}return Oe}finally{d=null,p=F,y=!1}}var b=!1,C=null,_=-1,O=5,I=-1;function K(){return!(e.unstable_now()-I<O)}function G(){if(C!==null){var P=e.unstable_now();I=P;var R=!0;try{R=C(!0,P)}finally{R?U():(b=!1,C=null)}}else b=!1}var U;if(typeof f=="function")U=function(){f(G)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Z=M.port2;M.port1.onmessage=G,U=function(){Z.postMessage(null)}}else U=function(){k(G,0)};function W(P){C=P,b||(b=!0,U())}function re(P,R){_=k(function(){P(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,W(w))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var F=p;p=R;try{return P()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,R){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=p;p=P;try{return R()}finally{p=F}},e.unstable_scheduleCallback=function(P,R,F){var H=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?H+F:H):F=H,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=F+X,P={id:m++,callback:R,priorityLevel:P,startTime:F,expirationTime:X,sortIndex:-1},F>H?(P.sortIndex=F,t(c,P),n(u)===null&&P===n(c)&&(j?(h(_),_=-1):j=!0,re(S,F-H))):(P.sortIndex=X,t(u,P),x||y||(x=!0,W(w))),P},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(P){var R=p;return function(){var F=p;p=R;try{return P.apply(this,arguments)}finally{p=F}}}})(Vu);Wu.exports=Vu;var Vf=Wu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf=v,Ve=Vf;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hu=new Set,Sr={};function pn(e,t){On(e,t),On(e+"Capture",t)}function On(e,t){for(Sr[e]=t,e=0;e<t.length;e++)Hu.add(t[e])}var Nt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=Object.prototype.hasOwnProperty,Gf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xi={},Ji={};function Qf(e){return Ys.call(Ji,e)?!0:Ys.call(Xi,e)?!1:Gf.test(e)?Ji[e]=!0:(Xi[e]=!0,!1)}function Kf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yf(e,t,n,r){if(t===null||typeof t>"u"||Kf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,n,r,l,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var ei=/[\-:]([a-z])/g;function ti(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ei,ti);je[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ei,ti);je[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ei,ti);je[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function ni(e,t,n,r){var l=je.hasOwnProperty(t)?je[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yf(t,n,l,r)&&(n=null),r||l===null?Qf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bt=Hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xr=Symbol.for("react.element"),Sn=Symbol.for("react.portal"),jn=Symbol.for("react.fragment"),ri=Symbol.for("react.strict_mode"),Zs=Symbol.for("react.profiler"),Gu=Symbol.for("react.provider"),Qu=Symbol.for("react.context"),li=Symbol.for("react.forward_ref"),Xs=Symbol.for("react.suspense"),Js=Symbol.for("react.suspense_list"),si=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Ku=Symbol.for("react.offscreen"),qi=Symbol.iterator;function Jn(e){return e===null||typeof e!="object"?null:(e=qi&&e[qi]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,ys;function ir(e){if(ys===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ys=t&&t[1]||""}return`
`+ys+e}var xs=!1;function ws(e,t){if(!e||xs)return"";xs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),o=l.length-1,a=s.length-1;1<=o&&0<=a&&l[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==s[a]){var u=`
`+l[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{xs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ir(e):""}function Zf(e){switch(e.tag){case 5:return ir(e.type);case 16:return ir("Lazy");case 13:return ir("Suspense");case 19:return ir("SuspenseList");case 0:case 2:case 15:return e=ws(e.type,!1),e;case 11:return e=ws(e.type.render,!1),e;case 1:return e=ws(e.type,!0),e;default:return""}}function qs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jn:return"Fragment";case Sn:return"Portal";case Zs:return"Profiler";case ri:return"StrictMode";case Xs:return"Suspense";case Js:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qu:return(e.displayName||"Context")+".Consumer";case Gu:return(e._context.displayName||"Context")+".Provider";case li:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case si:return t=e.displayName||null,t!==null?t:qs(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return qs(e(t))}catch{}}return null}function Xf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qs(t);case 8:return t===ri?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jf(e){var t=Yu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jr(e){e._valueTracker||(e._valueTracker=Jf(e))}function Zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Yu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function El(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eo(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ea(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xu(e,t){t=t.checked,t!=null&&ni(e,"checked",t,!1)}function to(e,t){Xu(e,t);var n=Gt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?no(e,t.type,n):t.hasOwnProperty("defaultValue")&&no(e,t.type,Gt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ta(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function no(e,t,n){(t!=="number"||El(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ar=Array.isArray;function In(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function na(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(ar(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gt(n)}}function Ju(e,t){var n=Gt(t.value),r=Gt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ra(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qr,ec=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qr=qr||document.createElement("div"),qr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qf=["Webkit","ms","Moz","O"];Object.keys(fr).forEach(function(e){qf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fr[t]=fr[e]})});function tc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fr.hasOwnProperty(e)&&fr[e]?(""+t).trim():t+"px"}function nc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=tc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var em=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(e,t){if(t){if(em[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function oo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=null;function oi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ao=null,Rn=null,zn=null;function la(e){if(e=Vr(e)){if(typeof ao!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ns(t),ao(e.stateNode,e.type,t))}}function rc(e){Rn?zn?zn.push(e):zn=[e]:Rn=e}function lc(){if(Rn){var e=Rn,t=zn;if(zn=Rn=null,la(e),t)for(e=0;e<t.length;e++)la(t[e])}}function sc(e,t){return e(t)}function oc(){}var Ss=!1;function ic(e,t,n){if(Ss)return e(t,n);Ss=!0;try{return sc(e,t,n)}finally{Ss=!1,(Rn!==null||zn!==null)&&(oc(),lc())}}function kr(e,t){var n=e.stateNode;if(n===null)return null;var r=ns(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var uo=!1;if(Nt)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{uo=!1}function tm(e,t,n,r,l,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var mr=!1,_l=null,bl=!1,co=null,nm={onError:function(e){mr=!0,_l=e}};function rm(e,t,n,r,l,s,o,a,u){mr=!1,_l=null,tm.apply(nm,arguments)}function lm(e,t,n,r,l,s,o,a,u){if(rm.apply(this,arguments),mr){if(mr){var c=_l;mr=!1,_l=null}else throw Error(E(198));bl||(bl=!0,co=c)}}function gn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ac(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sa(e){if(gn(e)!==e)throw Error(E(188))}function sm(e){var t=e.alternate;if(!t){if(t=gn(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return sa(l),e;if(s===r)return sa(l),t;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=l,r=s;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,r=s;break}if(a===r){o=!0,r=l,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=l;break}if(a===r){o=!0,r=s,n=l;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function uc(e){return e=sm(e),e!==null?cc(e):null}function cc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cc(e);if(t!==null)return t;e=e.sibling}return null}var dc=Ve.unstable_scheduleCallback,oa=Ve.unstable_cancelCallback,om=Ve.unstable_shouldYield,im=Ve.unstable_requestPaint,de=Ve.unstable_now,am=Ve.unstable_getCurrentPriorityLevel,ii=Ve.unstable_ImmediatePriority,fc=Ve.unstable_UserBlockingPriority,Pl=Ve.unstable_NormalPriority,um=Ve.unstable_LowPriority,mc=Ve.unstable_IdlePriority,Jl=null,pt=null;function cm(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Jl,e,void 0,(e.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:mm,dm=Math.log,fm=Math.LN2;function mm(e){return e>>>=0,e===0?32:31-(dm(e)/fm|0)|0}var el=64,tl=4194304;function ur(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ll(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?r=ur(a):(s&=o,s!==0&&(r=ur(s)))}else o=n&~l,o!==0?r=ur(o):s!==0&&(r=ur(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ot(t),l=1<<n,r|=e[n],t&=~l;return r}function hm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,u=l[o];u===-1?(!(a&n)||a&r)&&(l[o]=hm(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function fo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hc(){var e=el;return el<<=1,!(el&4194240)&&(el=64),e}function js(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $r(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ot(t),e[t]=n}function gm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-ot(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function ai(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Y=0;function pc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gc,ui,vc,yc,xc,mo=!1,nl=[],At=null,Ot=null,Ut=null,Nr=new Map,Cr=new Map,It=[],vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ia(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Nr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cr.delete(t.pointerId)}}function er(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=Vr(t),t!==null&&ui(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function ym(e,t,n,r,l){switch(t){case"focusin":return At=er(At,e,t,n,r,l),!0;case"dragenter":return Ot=er(Ot,e,t,n,r,l),!0;case"mouseover":return Ut=er(Ut,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return Nr.set(s,er(Nr.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,Cr.set(s,er(Cr.get(s)||null,e,t,n,r,l)),!0}return!1}function wc(e){var t=tn(e.target);if(t!==null){var n=gn(t);if(n!==null){if(t=n.tag,t===13){if(t=ac(n),t!==null){e.blockedOn=t,xc(e.priority,function(){vc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ho(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);io=r,n.target.dispatchEvent(r),io=null}else return t=Vr(n),t!==null&&ui(t),e.blockedOn=n,!1;t.shift()}return!0}function aa(e,t,n){pl(e)&&n.delete(t)}function xm(){mo=!1,At!==null&&pl(At)&&(At=null),Ot!==null&&pl(Ot)&&(Ot=null),Ut!==null&&pl(Ut)&&(Ut=null),Nr.forEach(aa),Cr.forEach(aa)}function tr(e,t){e.blockedOn===t&&(e.blockedOn=null,mo||(mo=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,xm)))}function Er(e){function t(l){return tr(l,e)}if(0<nl.length){tr(nl[0],e);for(var n=1;n<nl.length;n++){var r=nl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(At!==null&&tr(At,e),Ot!==null&&tr(Ot,e),Ut!==null&&tr(Ut,e),Nr.forEach(t),Cr.forEach(t),n=0;n<It.length;n++)r=It[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&(n=It[0],n.blockedOn===null);)wc(n),n.blockedOn===null&&It.shift()}var Fn=bt.ReactCurrentBatchConfig,Dl=!0;function wm(e,t,n,r){var l=Y,s=Fn.transition;Fn.transition=null;try{Y=1,ci(e,t,n,r)}finally{Y=l,Fn.transition=s}}function Sm(e,t,n,r){var l=Y,s=Fn.transition;Fn.transition=null;try{Y=4,ci(e,t,n,r)}finally{Y=l,Fn.transition=s}}function ci(e,t,n,r){if(Dl){var l=ho(e,t,n,r);if(l===null)Ts(e,t,r,Tl,n),ia(e,r);else if(ym(l,e,t,n,r))r.stopPropagation();else if(ia(e,r),t&4&&-1<vm.indexOf(e)){for(;l!==null;){var s=Vr(l);if(s!==null&&gc(s),s=ho(e,t,n,r),s===null&&Ts(e,t,r,Tl,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else Ts(e,t,r,null,n)}}var Tl=null;function ho(e,t,n,r){if(Tl=null,e=oi(r),e=tn(e),e!==null)if(t=gn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ac(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tl=e,null}function Sc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(am()){case ii:return 1;case fc:return 4;case Pl:case um:return 16;case mc:return 536870912;default:return 16}default:return 16}}var zt=null,di=null,gl=null;function jc(){if(gl)return gl;var e,t=di,n=t.length,r,l="value"in zt?zt.value:zt.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===l[s-r];r++);return gl=l.slice(e,1<r?1-r:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rl(){return!0}function ua(){return!1}function Ge(e){function t(n,r,l,s,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rl:ua,this.isPropagationStopped=ua,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),t}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=Ge(Kn),Wr=ie({},Kn,{view:0,detail:0}),jm=Ge(Wr),ks,Ns,nr,ql=ie({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nr&&(nr&&e.type==="mousemove"?(ks=e.screenX-nr.screenX,Ns=e.screenY-nr.screenY):Ns=ks=0,nr=e),ks)},movementY:function(e){return"movementY"in e?e.movementY:Ns}}),ca=Ge(ql),km=ie({},ql,{dataTransfer:0}),Nm=Ge(km),Cm=ie({},Wr,{relatedTarget:0}),Cs=Ge(Cm),Em=ie({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),_m=Ge(Em),bm=ie({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pm=Ge(bm),Lm=ie({},Kn,{data:0}),da=Ge(Lm),Dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Im[e])?!!t[e]:!1}function mi(){return Rm}var zm=ie({},Wr,{key:function(e){if(e.key){var t=Dm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mi,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fm=Ge(zm),Mm=ie({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fa=Ge(Mm),Am=ie({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mi}),Om=Ge(Am),Um=ie({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bm=Ge(Um),$m=ie({},ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wm=Ge($m),Vm=[9,13,27,32],hi=Nt&&"CompositionEvent"in window,hr=null;Nt&&"documentMode"in document&&(hr=document.documentMode);var Hm=Nt&&"TextEvent"in window&&!hr,kc=Nt&&(!hi||hr&&8<hr&&11>=hr),ma=" ",ha=!1;function Nc(e,t){switch(e){case"keyup":return Vm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kn=!1;function Gm(e,t){switch(e){case"compositionend":return Cc(t);case"keypress":return t.which!==32?null:(ha=!0,ma);case"textInput":return e=t.data,e===ma&&ha?null:e;default:return null}}function Qm(e,t){if(kn)return e==="compositionend"||!hi&&Nc(e,t)?(e=jc(),gl=di=zt=null,kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kc&&t.locale!=="ko"?null:t.data;default:return null}}var Km={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Km[e.type]:t==="textarea"}function Ec(e,t,n,r){rc(r),t=Il(t,"onChange"),0<t.length&&(n=new fi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pr=null,_r=null;function Ym(e){Mc(e,0)}function es(e){var t=En(e);if(Zu(t))return e}function Zm(e,t){if(e==="change")return t}var _c=!1;if(Nt){var Es;if(Nt){var _s="oninput"in document;if(!_s){var ga=document.createElement("div");ga.setAttribute("oninput","return;"),_s=typeof ga.oninput=="function"}Es=_s}else Es=!1;_c=Es&&(!document.documentMode||9<document.documentMode)}function va(){pr&&(pr.detachEvent("onpropertychange",bc),_r=pr=null)}function bc(e){if(e.propertyName==="value"&&es(_r)){var t=[];Ec(t,_r,e,oi(e)),ic(Ym,t)}}function Xm(e,t,n){e==="focusin"?(va(),pr=t,_r=n,pr.attachEvent("onpropertychange",bc)):e==="focusout"&&va()}function Jm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return es(_r)}function qm(e,t){if(e==="click")return es(t)}function eh(e,t){if(e==="input"||e==="change")return es(t)}function th(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:th;function br(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Ys.call(t,l)||!at(e[l],t[l]))return!1}return!0}function ya(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xa(e,t){var n=ya(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ya(n)}}function Pc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lc(){for(var e=window,t=El();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=El(e.document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nh(e){var t=Lc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pc(n.ownerDocument.documentElement,n)){if(r!==null&&pi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=xa(n,s);var o=xa(n,r);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rh=Nt&&"documentMode"in document&&11>=document.documentMode,Nn=null,po=null,gr=null,go=!1;function wa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;go||Nn==null||Nn!==El(r)||(r=Nn,"selectionStart"in r&&pi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gr&&br(gr,r)||(gr=r,r=Il(po,"onSelect"),0<r.length&&(t=new fi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nn)))}function ll(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cn={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},bs={},Dc={};Nt&&(Dc=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function ts(e){if(bs[e])return bs[e];if(!Cn[e])return e;var t=Cn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dc)return bs[e]=t[n];return e}var Tc=ts("animationend"),Ic=ts("animationiteration"),Rc=ts("animationstart"),zc=ts("transitionend"),Fc=new Map,Sa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){Fc.set(e,t),pn(t,[e])}for(var Ps=0;Ps<Sa.length;Ps++){var Ls=Sa[Ps],lh=Ls.toLowerCase(),sh=Ls[0].toUpperCase()+Ls.slice(1);Yt(lh,"on"+sh)}Yt(Tc,"onAnimationEnd");Yt(Ic,"onAnimationIteration");Yt(Rc,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(zc,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oh=new Set("cancel close invalid load scroll toggle".split(" ").concat(cr));function ja(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lm(r,t,void 0,e),e.currentTarget=null}function Mc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&l.isPropagationStopped())break e;ja(l,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&l.isPropagationStopped())break e;ja(l,a,c),s=u}}}if(bl)throw e=co,bl=!1,co=null,e}function ee(e,t){var n=t[So];n===void 0&&(n=t[So]=new Set);var r=e+"__bubble";n.has(r)||(Ac(t,e,2,!1),n.add(r))}function Ds(e,t,n){var r=0;t&&(r|=4),Ac(n,e,r,t)}var sl="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){if(!e[sl]){e[sl]=!0,Hu.forEach(function(n){n!=="selectionchange"&&(oh.has(n)||Ds(n,!1,e),Ds(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sl]||(t[sl]=!0,Ds("selectionchange",!1,t))}}function Ac(e,t,n,r){switch(Sc(t)){case 1:var l=wm;break;case 4:l=Sm;break;default:l=ci}n=l.bind(null,t,n,e),l=void 0,!uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Ts(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;o=o.return}for(;a!==null;){if(o=tn(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ic(function(){var c=s,m=oi(n),d=[];e:{var p=Fc.get(e);if(p!==void 0){var y=fi,x=e;switch(e){case"keypress":if(vl(n)===0)break e;case"keydown":case"keyup":y=Fm;break;case"focusin":x="focus",y=Cs;break;case"focusout":x="blur",y=Cs;break;case"beforeblur":case"afterblur":y=Cs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Om;break;case Tc:case Ic:case Rc:y=_m;break;case zc:y=Bm;break;case"scroll":y=jm;break;case"wheel":y=Wm;break;case"copy":case"cut":case"paste":y=Pm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=fa}var j=(t&4)!==0,k=!j&&e==="scroll",h=j?p!==null?p+"Capture":null:p;j=[];for(var f=c,g;f!==null;){g=f;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,h!==null&&(S=kr(f,h),S!=null&&j.push(Lr(f,S,g)))),k)break;f=f.return}0<j.length&&(p=new y(p,x,null,n,m),d.push({event:p,listeners:j}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==io&&(x=n.relatedTarget||n.fromElement)&&(tn(x)||x[Ct]))break e;if((y||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=c,x=x?tn(x):null,x!==null&&(k=gn(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=c),y!==x)){if(j=ca,S="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(j=fa,S="onPointerLeave",h="onPointerEnter",f="pointer"),k=y==null?p:En(y),g=x==null?p:En(x),p=new j(S,f+"leave",y,n,m),p.target=k,p.relatedTarget=g,S=null,tn(m)===c&&(j=new j(h,f+"enter",x,n,m),j.target=g,j.relatedTarget=k,S=j),k=S,y&&x)t:{for(j=y,h=x,f=0,g=j;g;g=xn(g))f++;for(g=0,S=h;S;S=xn(S))g++;for(;0<f-g;)j=xn(j),f--;for(;0<g-f;)h=xn(h),g--;for(;f--;){if(j===h||h!==null&&j===h.alternate)break t;j=xn(j),h=xn(h)}j=null}else j=null;y!==null&&ka(d,p,y,j,!1),x!==null&&k!==null&&ka(d,k,x,j,!0)}}e:{if(p=c?En(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var w=Zm;else if(pa(p))if(_c)w=eh;else{w=Jm;var b=Xm}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=qm);if(w&&(w=w(e,c))){Ec(d,w,n,m);break e}b&&b(e,p,c),e==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&no(p,"number",p.value)}switch(b=c?En(c):window,e){case"focusin":(pa(b)||b.contentEditable==="true")&&(Nn=b,po=c,gr=null);break;case"focusout":gr=po=Nn=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,wa(d,n,m);break;case"selectionchange":if(rh)break;case"keydown":case"keyup":wa(d,n,m)}var C;if(hi)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else kn?Nc(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(kc&&n.locale!=="ko"&&(kn||_!=="onCompositionStart"?_==="onCompositionEnd"&&kn&&(C=jc()):(zt=m,di="value"in zt?zt.value:zt.textContent,kn=!0)),b=Il(c,_),0<b.length&&(_=new da(_,e,null,n,m),d.push({event:_,listeners:b}),C?_.data=C:(C=Cc(n),C!==null&&(_.data=C)))),(C=Hm?Gm(e,n):Qm(e,n))&&(c=Il(c,"onBeforeInput"),0<c.length&&(m=new da("onBeforeInput","beforeinput",null,n,m),d.push({event:m,listeners:c}),m.data=C))}Mc(d,t)})}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Il(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=kr(e,n),s!=null&&r.unshift(Lr(e,s,l)),s=kr(e,t),s!=null&&r.push(Lr(e,s,l))),e=e.return}return r}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ka(e,t,n,r,l){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,l?(u=kr(n,s),u!=null&&o.unshift(Lr(n,u,a))):l||(u=kr(n,s),u!=null&&o.push(Lr(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var ih=/\r\n?/g,ah=/\u0000|\uFFFD/g;function Na(e){return(typeof e=="string"?e:""+e).replace(ih,`
`).replace(ah,"")}function ol(e,t,n){if(t=Na(t),Na(e)!==t&&n)throw Error(E(425))}function Rl(){}var vo=null,yo=null;function xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wo=typeof setTimeout=="function"?setTimeout:void 0,uh=typeof clearTimeout=="function"?clearTimeout:void 0,Ca=typeof Promise=="function"?Promise:void 0,ch=typeof queueMicrotask=="function"?queueMicrotask:typeof Ca<"u"?function(e){return Ca.resolve(null).then(e).catch(dh)}:wo;function dh(e){setTimeout(function(){throw e})}function Is(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Er(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Er(t)}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ea(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),ft="__reactFiber$"+Yn,Dr="__reactProps$"+Yn,Ct="__reactContainer$"+Yn,So="__reactEvents$"+Yn,fh="__reactListeners$"+Yn,mh="__reactHandles$"+Yn;function tn(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ct]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ea(e);e!==null;){if(n=e[ft])return n;e=Ea(e)}return t}e=n,n=e.parentNode}return null}function Vr(e){return e=e[ft]||e[Ct],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function En(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ns(e){return e[Dr]||null}var jo=[],_n=-1;function Zt(e){return{current:e}}function te(e){0>_n||(e.current=jo[_n],jo[_n]=null,_n--)}function q(e,t){_n++,jo[_n]=e.current,e.current=t}var Qt={},_e=Zt(Qt),ze=Zt(!1),un=Qt;function Un(e,t){var n=e.type.contextTypes;if(!n)return Qt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Fe(e){return e=e.childContextTypes,e!=null}function zl(){te(ze),te(_e)}function _a(e,t,n){if(_e.current!==Qt)throw Error(E(168));q(_e,t),q(ze,n)}function Oc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(E(108,Xf(e)||"Unknown",l));return ie({},n,r)}function Fl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qt,un=_e.current,q(_e,e),q(ze,ze.current),!0}function ba(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=Oc(e,t,un),r.__reactInternalMemoizedMergedChildContext=e,te(ze),te(_e),q(_e,e)):te(ze),q(ze,n)}var xt=null,rs=!1,Rs=!1;function Uc(e){xt===null?xt=[e]:xt.push(e)}function hh(e){rs=!0,Uc(e)}function Xt(){if(!Rs&&xt!==null){Rs=!0;var e=0,t=Y;try{var n=xt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xt=null,rs=!1}catch(l){throw xt!==null&&(xt=xt.slice(e+1)),dc(ii,Xt),l}finally{Y=t,Rs=!1}}return null}var bn=[],Pn=0,Ml=null,Al=0,Ze=[],Xe=0,cn=null,wt=1,St="";function qt(e,t){bn[Pn++]=Al,bn[Pn++]=Ml,Ml=e,Al=t}function Bc(e,t,n){Ze[Xe++]=wt,Ze[Xe++]=St,Ze[Xe++]=cn,cn=e;var r=wt;e=St;var l=32-ot(r)-1;r&=~(1<<l),n+=1;var s=32-ot(t)+l;if(30<s){var o=l-l%5;s=(r&(1<<o)-1).toString(32),r>>=o,l-=o,wt=1<<32-ot(t)+l|n<<l|r,St=s+e}else wt=1<<s|n<<l|r,St=e}function gi(e){e.return!==null&&(qt(e,1),Bc(e,1,0))}function vi(e){for(;e===Ml;)Ml=bn[--Pn],bn[Pn]=null,Al=bn[--Pn],bn[Pn]=null;for(;e===cn;)cn=Ze[--Xe],Ze[Xe]=null,St=Ze[--Xe],Ze[Xe]=null,wt=Ze[--Xe],Ze[Xe]=null}var We=null,$e=null,ne=!1,st=null;function $c(e,t){var n=Je(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,$e=Bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,$e=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cn!==null?{id:wt,overflow:St}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Je(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,$e=null,!0):!1;default:return!1}}function ko(e){return(e.mode&1)!==0&&(e.flags&128)===0}function No(e){if(ne){var t=$e;if(t){var n=t;if(!Pa(e,t)){if(ko(e))throw Error(E(418));t=Bt(n.nextSibling);var r=We;t&&Pa(e,t)?$c(r,n):(e.flags=e.flags&-4097|2,ne=!1,We=e)}}else{if(ko(e))throw Error(E(418));e.flags=e.flags&-4097|2,ne=!1,We=e}}}function La(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function il(e){if(e!==We)return!1;if(!ne)return La(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xo(e.type,e.memoizedProps)),t&&(t=$e)){if(ko(e))throw Wc(),Error(E(418));for(;t;)$c(e,t),t=Bt(t.nextSibling)}if(La(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$e=Bt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$e=null}}else $e=We?Bt(e.stateNode.nextSibling):null;return!0}function Wc(){for(var e=$e;e;)e=Bt(e.nextSibling)}function Bn(){$e=We=null,ne=!1}function yi(e){st===null?st=[e]:st.push(e)}var ph=bt.ReactCurrentBatchConfig;function rr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=l.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function al(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Da(e){var t=e._init;return t(e._payload)}function Vc(e){function t(h,f){if(e){var g=h.deletions;g===null?(h.deletions=[f],h.flags|=16):g.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function l(h,f){return h=Ht(h,f),h.index=0,h.sibling=null,h}function s(h,f,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<f?(h.flags|=2,f):g):(h.flags|=2,f)):(h.flags|=1048576,f)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,f,g,S){return f===null||f.tag!==6?(f=Bs(g,h.mode,S),f.return=h,f):(f=l(f,g),f.return=h,f)}function u(h,f,g,S){var w=g.type;return w===jn?m(h,f,g.props.children,S,g.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dt&&Da(w)===f.type)?(S=l(f,g.props),S.ref=rr(h,f,g),S.return=h,S):(S=Nl(g.type,g.key,g.props,null,h.mode,S),S.ref=rr(h,f,g),S.return=h,S)}function c(h,f,g,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=$s(g,h.mode,S),f.return=h,f):(f=l(f,g.children||[]),f.return=h,f)}function m(h,f,g,S,w){return f===null||f.tag!==7?(f=sn(g,h.mode,S,w),f.return=h,f):(f=l(f,g),f.return=h,f)}function d(h,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Bs(""+f,h.mode,g),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Xr:return g=Nl(f.type,f.key,f.props,null,h.mode,g),g.ref=rr(h,null,f),g.return=h,g;case Sn:return f=$s(f,h.mode,g),f.return=h,f;case Dt:var S=f._init;return d(h,S(f._payload),g)}if(ar(f)||Jn(f))return f=sn(f,h.mode,g,null),f.return=h,f;al(h,f)}return null}function p(h,f,g,S){var w=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:a(h,f,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xr:return g.key===w?u(h,f,g,S):null;case Sn:return g.key===w?c(h,f,g,S):null;case Dt:return w=g._init,p(h,f,w(g._payload),S)}if(ar(g)||Jn(g))return w!==null?null:m(h,f,g,S,null);al(h,g)}return null}function y(h,f,g,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(g)||null,a(f,h,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xr:return h=h.get(S.key===null?g:S.key)||null,u(f,h,S,w);case Sn:return h=h.get(S.key===null?g:S.key)||null,c(f,h,S,w);case Dt:var b=S._init;return y(h,f,g,b(S._payload),w)}if(ar(S)||Jn(S))return h=h.get(g)||null,m(f,h,S,w,null);al(f,S)}return null}function x(h,f,g,S){for(var w=null,b=null,C=f,_=f=0,O=null;C!==null&&_<g.length;_++){C.index>_?(O=C,C=null):O=C.sibling;var I=p(h,C,g[_],S);if(I===null){C===null&&(C=O);break}e&&C&&I.alternate===null&&t(h,C),f=s(I,f,_),b===null?w=I:b.sibling=I,b=I,C=O}if(_===g.length)return n(h,C),ne&&qt(h,_),w;if(C===null){for(;_<g.length;_++)C=d(h,g[_],S),C!==null&&(f=s(C,f,_),b===null?w=C:b.sibling=C,b=C);return ne&&qt(h,_),w}for(C=r(h,C);_<g.length;_++)O=y(C,h,_,g[_],S),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?_:O.key),f=s(O,f,_),b===null?w=O:b.sibling=O,b=O);return e&&C.forEach(function(K){return t(h,K)}),ne&&qt(h,_),w}function j(h,f,g,S){var w=Jn(g);if(typeof w!="function")throw Error(E(150));if(g=w.call(g),g==null)throw Error(E(151));for(var b=w=null,C=f,_=f=0,O=null,I=g.next();C!==null&&!I.done;_++,I=g.next()){C.index>_?(O=C,C=null):O=C.sibling;var K=p(h,C,I.value,S);if(K===null){C===null&&(C=O);break}e&&C&&K.alternate===null&&t(h,C),f=s(K,f,_),b===null?w=K:b.sibling=K,b=K,C=O}if(I.done)return n(h,C),ne&&qt(h,_),w;if(C===null){for(;!I.done;_++,I=g.next())I=d(h,I.value,S),I!==null&&(f=s(I,f,_),b===null?w=I:b.sibling=I,b=I);return ne&&qt(h,_),w}for(C=r(h,C);!I.done;_++,I=g.next())I=y(C,h,_,I.value,S),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?_:I.key),f=s(I,f,_),b===null?w=I:b.sibling=I,b=I);return e&&C.forEach(function(G){return t(h,G)}),ne&&qt(h,_),w}function k(h,f,g,S){if(typeof g=="object"&&g!==null&&g.type===jn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Xr:e:{for(var w=g.key,b=f;b!==null;){if(b.key===w){if(w=g.type,w===jn){if(b.tag===7){n(h,b.sibling),f=l(b,g.props.children),f.return=h,h=f;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dt&&Da(w)===b.type){n(h,b.sibling),f=l(b,g.props),f.ref=rr(h,b,g),f.return=h,h=f;break e}n(h,b);break}else t(h,b);b=b.sibling}g.type===jn?(f=sn(g.props.children,h.mode,S,g.key),f.return=h,h=f):(S=Nl(g.type,g.key,g.props,null,h.mode,S),S.ref=rr(h,f,g),S.return=h,h=S)}return o(h);case Sn:e:{for(b=g.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(h,f.sibling),f=l(f,g.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=$s(g,h.mode,S),f.return=h,h=f}return o(h);case Dt:return b=g._init,k(h,f,b(g._payload),S)}if(ar(g))return x(h,f,g,S);if(Jn(g))return j(h,f,g,S);al(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(h,f.sibling),f=l(f,g),f.return=h,h=f):(n(h,f),f=Bs(g,h.mode,S),f.return=h,h=f),o(h)):n(h,f)}return k}var $n=Vc(!0),Hc=Vc(!1),Ol=Zt(null),Ul=null,Ln=null,xi=null;function wi(){xi=Ln=Ul=null}function Si(e){var t=Ol.current;te(Ol),e._currentValue=t}function Co(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mn(e,t){Ul=e,xi=Ln=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Re=!0),e.firstContext=null)}function et(e){var t=e._currentValue;if(xi!==e)if(e={context:e,memoizedValue:t,next:null},Ln===null){if(Ul===null)throw Error(E(308));Ln=e,Ul.dependencies={lanes:0,firstContext:e}}else Ln=Ln.next=e;return t}var nn=null;function ji(e){nn===null?nn=[e]:nn.push(e)}function Gc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ji(t)):(n.next=l.next,l.next=n),t.interleaved=n,Et(e,r)}function Et(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tt=!1;function ki(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $t(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Et(e,n)}return l=r.interleaved,l===null?(t.next=t,ji(r)):(t.next=l.next,l.next=t),r.interleaved=t,Et(e,n)}function yl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ai(e,n)}}function Ta(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bl(e,t,n,r){var l=e.updateQueue;Tt=!1;var s=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==o&&(a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=u))}if(s!==null){var d=l.baseState;o=0,m=c=u=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,j=a;switch(p=t,y=n,j.tag){case 1:if(x=j.payload,typeof x=="function"){d=x.call(y,d,p);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=j.payload,p=typeof x=="function"?x.call(y,d,p):x,p==null)break e;d=ie({},d,p);break e;case 2:Tt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=l.effects,p===null?l.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(c=m=y,u=d):m=m.next=y,o|=p;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;p=a,a=p.next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}while(!0);if(m===null&&(u=d),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);fn|=o,e.lanes=o,e.memoizedState=d}}function Ia(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(E(191,l));l.call(r)}}}var Hr={},gt=Zt(Hr),Tr=Zt(Hr),Ir=Zt(Hr);function rn(e){if(e===Hr)throw Error(E(174));return e}function Ni(e,t){switch(q(Ir,t),q(Tr,e),q(gt,Hr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lo(t,e)}te(gt),q(gt,t)}function Wn(){te(gt),te(Tr),te(Ir)}function Kc(e){rn(Ir.current);var t=rn(gt.current),n=lo(t,e.type);t!==n&&(q(Tr,e),q(gt,n))}function Ci(e){Tr.current===e&&(te(gt),te(Tr))}var le=Zt(0);function $l(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zs=[];function Ei(){for(var e=0;e<zs.length;e++)zs[e]._workInProgressVersionPrimary=null;zs.length=0}var xl=bt.ReactCurrentDispatcher,Fs=bt.ReactCurrentBatchConfig,dn=0,oe=null,pe=null,ve=null,Wl=!1,vr=!1,Rr=0,gh=0;function Ne(){throw Error(E(321))}function _i(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!at(e[n],t[n]))return!1;return!0}function bi(e,t,n,r,l,s){if(dn=s,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xl.current=e===null||e.memoizedState===null?wh:Sh,e=n(r,l),vr){s=0;do{if(vr=!1,Rr=0,25<=s)throw Error(E(301));s+=1,ve=pe=null,t.updateQueue=null,xl.current=jh,e=n(r,l)}while(vr)}if(xl.current=Vl,t=pe!==null&&pe.next!==null,dn=0,ve=pe=oe=null,Wl=!1,t)throw Error(E(300));return e}function Pi(){var e=Rr!==0;return Rr=0,e}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?oe.memoizedState=ve=e:ve=ve.next=e,ve}function tt(){if(pe===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ve===null?oe.memoizedState:ve.next;if(t!==null)ve=t,pe=e;else{if(e===null)throw Error(E(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ve===null?oe.memoizedState=ve=e:ve=ve.next=e}return ve}function zr(e,t){return typeof t=="function"?t(e):t}function Ms(e){var t=tt(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=pe,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var o=l.next;l.next=s.next,s.next=o}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var a=o=null,u=null,c=s;do{var m=c.lane;if((dn&m)===m)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,o=r):u=u.next=d,oe.lanes|=m,fn|=m}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,at(r,t.memoizedState)||(Re=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,oe.lanes|=s,fn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function As(e){var t=tt(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do s=e(s,o.action),o=o.next;while(o!==l);at(s,t.memoizedState)||(Re=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Yc(){}function Zc(e,t){var n=oe,r=tt(),l=t(),s=!at(r.memoizedState,l);if(s&&(r.memoizedState=l,Re=!0),r=r.queue,Li(qc.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,Fr(9,Jc.bind(null,n,r,l,t),void 0,null),ye===null)throw Error(E(349));dn&30||Xc(n,t,l)}return l}function Xc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jc(e,t,n,r){t.value=n,t.getSnapshot=r,ed(t)&&td(e)}function qc(e,t,n){return n(function(){ed(t)&&td(e)})}function ed(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!at(e,n)}catch{return!0}}function td(e){var t=Et(e,1);t!==null&&it(t,e,1,-1)}function Ra(e){var t=ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:e},t.queue=e,e=e.dispatch=xh.bind(null,oe,e),[t.memoizedState,e]}function Fr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nd(){return tt().memoizedState}function wl(e,t,n,r){var l=ct();oe.flags|=e,l.memoizedState=Fr(1|t,n,void 0,r===void 0?null:r)}function ls(e,t,n,r){var l=tt();r=r===void 0?null:r;var s=void 0;if(pe!==null){var o=pe.memoizedState;if(s=o.destroy,r!==null&&_i(r,o.deps)){l.memoizedState=Fr(t,n,s,r);return}}oe.flags|=e,l.memoizedState=Fr(1|t,n,s,r)}function za(e,t){return wl(8390656,8,e,t)}function Li(e,t){return ls(2048,8,e,t)}function rd(e,t){return ls(4,2,e,t)}function ld(e,t){return ls(4,4,e,t)}function sd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function od(e,t,n){return n=n!=null?n.concat([e]):null,ls(4,4,sd.bind(null,t,e),n)}function Di(){}function id(e,t){var n=tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_i(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ad(e,t){var n=tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_i(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ud(e,t,n){return dn&21?(at(n,t)||(n=hc(),oe.lanes|=n,fn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Re=!0),e.memoizedState=n)}function vh(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=Fs.transition;Fs.transition={};try{e(!1),t()}finally{Y=n,Fs.transition=r}}function cd(){return tt().memoizedState}function yh(e,t,n){var r=Vt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dd(e))fd(t,n);else if(n=Gc(e,t,n,r),n!==null){var l=Pe();it(n,e,r,l),md(n,t,r)}}function xh(e,t,n){var r=Vt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dd(e))fd(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(l.hasEagerState=!0,l.eagerState=a,at(a,o)){var u=t.interleaved;u===null?(l.next=l,ji(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=Gc(e,t,l,r),n!==null&&(l=Pe(),it(n,e,r,l),md(n,t,r))}}function dd(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function fd(e,t){vr=Wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function md(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ai(e,n)}}var Vl={readContext:et,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},wh={readContext:et,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:et,useEffect:za,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wl(4194308,4,sd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wl(4194308,4,e,t)},useInsertionEffect:function(e,t){return wl(4,2,e,t)},useMemo:function(e,t){var n=ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yh.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:Ra,useDebugValue:Di,useDeferredValue:function(e){return ct().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=vh.bind(null,e[1]),ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,l=ct();if(ne){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),ye===null)throw Error(E(349));dn&30||Xc(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,za(qc.bind(null,r,s,e),[e]),r.flags|=2048,Fr(9,Jc.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ct(),t=ye.identifierPrefix;if(ne){var n=St,r=wt;n=(r&~(1<<32-ot(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sh={readContext:et,useCallback:id,useContext:et,useEffect:Li,useImperativeHandle:od,useInsertionEffect:rd,useLayoutEffect:ld,useMemo:ad,useReducer:Ms,useRef:nd,useState:function(){return Ms(zr)},useDebugValue:Di,useDeferredValue:function(e){var t=tt();return ud(t,pe.memoizedState,e)},useTransition:function(){var e=Ms(zr)[0],t=tt().memoizedState;return[e,t]},useMutableSource:Yc,useSyncExternalStore:Zc,useId:cd,unstable_isNewReconciler:!1},jh={readContext:et,useCallback:id,useContext:et,useEffect:Li,useImperativeHandle:od,useInsertionEffect:rd,useLayoutEffect:ld,useMemo:ad,useReducer:As,useRef:nd,useState:function(){return As(zr)},useDebugValue:Di,useDeferredValue:function(e){var t=tt();return pe===null?t.memoizedState=e:ud(t,pe.memoizedState,e)},useTransition:function(){var e=As(zr)[0],t=tt().memoizedState;return[e,t]},useMutableSource:Yc,useSyncExternalStore:Zc,useId:cd,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Eo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ss={isMounted:function(e){return(e=e._reactInternals)?gn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pe(),l=Vt(e),s=jt(r,l);s.payload=t,n!=null&&(s.callback=n),t=$t(e,s,l),t!==null&&(it(t,e,l,r),yl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pe(),l=Vt(e),s=jt(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=$t(e,s,l),t!==null&&(it(t,e,l,r),yl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pe(),r=Vt(e),l=jt(n,r);l.tag=2,t!=null&&(l.callback=t),t=$t(e,l,r),t!==null&&(it(t,e,r,n),yl(t,e,r))}};function Fa(e,t,n,r,l,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!br(n,r)||!br(l,s):!0}function hd(e,t,n){var r=!1,l=Qt,s=t.contextType;return typeof s=="object"&&s!==null?s=et(s):(l=Fe(t)?un:_e.current,r=t.contextTypes,s=(r=r!=null)?Un(e,l):Qt),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ss,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ma(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ss.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ki(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=et(s):(s=Fe(t)?un:_e.current,l.context=Un(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Eo(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ss.enqueueReplaceState(l,l.state,null),Bl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Vn(e,t){try{var n="",r=t;do n+=Zf(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function Os(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kh=typeof WeakMap=="function"?WeakMap:Map;function pd(e,t,n){n=jt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Ao=r),bo(e,t)},n}function gd(e,t,n){n=jt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){bo(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bo(e,t),typeof r!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Aa(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kh;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Mh.bind(null,e,t,n),t.then(e,e))}function Oa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ua(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=jt(-1,1),t.tag=2,$t(n,t,1))),n.lanes|=1),e)}var Nh=bt.ReactCurrentOwner,Re=!1;function be(e,t,n,r){t.child=e===null?Hc(t,null,n,r):$n(t,e.child,n,r)}function Ba(e,t,n,r,l){n=n.render;var s=t.ref;return Mn(t,l),r=bi(e,t,n,r,s,l),n=Pi(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,_t(e,t,l)):(ne&&n&&gi(t),t.flags|=1,be(e,t,r,l),t.child)}function $a(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!Oi(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,vd(e,t,s,r,l)):(e=Nl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:br,n(o,r)&&e.ref===t.ref)return _t(e,t,l)}return t.flags|=1,e=Ht(s,r),e.ref=t.ref,e.return=t,t.child=e}function vd(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(br(s,r)&&e.ref===t.ref)if(Re=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(Re=!0);else return t.lanes=e.lanes,_t(e,t,l)}return Po(e,t,n,r,l)}function yd(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Tn,Be),Be|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(Tn,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,q(Tn,Be),Be|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,q(Tn,Be),Be|=r;return be(e,t,l,n),t.child}function xd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Po(e,t,n,r,l){var s=Fe(n)?un:_e.current;return s=Un(t,s),Mn(t,l),n=bi(e,t,n,r,s,l),r=Pi(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,_t(e,t,l)):(ne&&r&&gi(t),t.flags|=1,be(e,t,n,l),t.child)}function Wa(e,t,n,r,l){if(Fe(n)){var s=!0;Fl(t)}else s=!1;if(Mn(t,l),t.stateNode===null)Sl(e,t),hd(t,n,r),_o(t,n,r,l),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=et(c):(c=Fe(n)?un:_e.current,c=Un(t,c));var m=n.getDerivedStateFromProps,d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Ma(t,o,r,c),Tt=!1;var p=t.memoizedState;o.state=p,Bl(t,r,o,l),u=t.memoizedState,a!==r||p!==u||ze.current||Tt?(typeof m=="function"&&(Eo(t,n,m,r),u=t.memoizedState),(a=Tt||Fa(t,n,a,r,p,u,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Qc(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:rt(t.type,a),o.props=c,d=t.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=et(u):(u=Fe(n)?un:_e.current,u=Un(t,u));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==u)&&Ma(t,o,r,u),Tt=!1,p=t.memoizedState,o.state=p,Bl(t,r,o,l);var x=t.memoizedState;a!==d||p!==x||ze.current||Tt?(typeof y=="function"&&(Eo(t,n,y,r),x=t.memoizedState),(c=Tt||Fa(t,n,c,r,p,x,u)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Lo(e,t,n,r,s,l)}function Lo(e,t,n,r,l,s){xd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return l&&ba(t,n,!1),_t(e,t,s);r=t.stateNode,Nh.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=$n(t,e.child,null,s),t.child=$n(t,null,a,s)):be(e,t,a,s),t.memoizedState=r.state,l&&ba(t,n,!0),t.child}function wd(e){var t=e.stateNode;t.pendingContext?_a(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_a(e,t.context,!1),Ni(e,t.containerInfo)}function Va(e,t,n,r,l){return Bn(),yi(l),t.flags|=256,be(e,t,n,r),t.child}var Do={dehydrated:null,treeContext:null,retryLane:0};function To(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sd(e,t,n){var r=t.pendingProps,l=le.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),q(le,l&1),e===null)return No(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=as(o,r,0,null),e=sn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=To(n),t.memoizedState=Do,e):Ti(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return Ch(e,t,o,r,a,l,n);if(s){s=r.fallback,o=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ht(l,u),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?s=Ht(a,s):(s=sn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?To(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Do,r}return s=e.child,e=s.sibling,r=Ht(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ti(e,t){return t=as({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ul(e,t,n,r){return r!==null&&yi(r),$n(t,e.child,null,n),e=Ti(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ch(e,t,n,r,l,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Os(Error(E(422))),ul(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=as({mode:"visible",children:r.children},l,0,null),s=sn(s,l,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&$n(t,e.child,null,o),t.child.memoizedState=To(o),t.memoizedState=Do,s);if(!(t.mode&1))return ul(e,t,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(E(419)),r=Os(s,r,void 0),ul(e,t,o,r)}if(a=(o&e.childLanes)!==0,Re||a){if(r=ye,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|o)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,Et(e,l),it(r,e,l,-1))}return Ai(),r=Os(Error(E(421))),ul(e,t,o,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Ah.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,$e=Bt(l.nextSibling),We=t,ne=!0,st=null,e!==null&&(Ze[Xe++]=wt,Ze[Xe++]=St,Ze[Xe++]=cn,wt=e.id,St=e.overflow,cn=t),t=Ti(t,r.children),t.flags|=4096,t)}function Ha(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Co(e.return,t,n)}function Us(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function jd(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(be(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ha(e,n,t);else if(e.tag===19)Ha(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(le,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&$l(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Us(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&$l(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Us(t,!0,n,null,s);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=Ht(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ht(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Eh(e,t,n){switch(t.tag){case 3:wd(t),Bn();break;case 5:Kc(t);break;case 1:Fe(t.type)&&Fl(t);break;case 4:Ni(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;q(Ol,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?Sd(e,t,n):(q(le,le.current&1),e=_t(e,t,n),e!==null?e.sibling:null);q(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),q(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,yd(e,t,n)}return _t(e,t,n)}var kd,Io,Nd,Cd;kd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Io=function(){};Nd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,rn(gt.current);var s=null;switch(n){case"input":l=eo(e,l),r=eo(e,r),s=[];break;case"select":l=ie({},l,{value:void 0}),r=ie({},r,{value:void 0}),s=[];break;case"textarea":l=ro(e,l),r=ro(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Rl)}so(n,r);var o;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var a=l[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sr.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ee("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Cd=function(e,t,n,r){n!==r&&(t.flags|=4)};function lr(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _h(e,t,n){var r=t.pendingProps;switch(vi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Fe(t.type)&&zl(),Ce(t),null;case 3:return r=t.stateNode,Wn(),te(ze),te(_e),Ei(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(il(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,st!==null&&(Bo(st),st=null))),Io(e,t),Ce(t),null;case 5:Ci(t);var l=rn(Ir.current);if(n=t.type,e!==null&&t.stateNode!=null)Nd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return Ce(t),null}if(e=rn(gt.current),il(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ft]=t,r[Dr]=s,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(l=0;l<cr.length;l++)ee(cr[l],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":ea(r,s),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ee("invalid",r);break;case"textarea":na(r,s),ee("invalid",r)}so(n,s),l=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ol(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ol(r.textContent,a,e),l=["children",""+a]):Sr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ee("scroll",r)}switch(n){case"input":Jr(r),ta(r,s,!0);break;case"textarea":Jr(r),ra(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Rl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ft]=t,e[Dr]=r,kd(e,t,!1,!1),t.stateNode=e;e:{switch(o=oo(n,r),n){case"dialog":ee("cancel",e),ee("close",e),l=r;break;case"iframe":case"object":case"embed":ee("load",e),l=r;break;case"video":case"audio":for(l=0;l<cr.length;l++)ee(cr[l],e);l=r;break;case"source":ee("error",e),l=r;break;case"img":case"image":case"link":ee("error",e),ee("load",e),l=r;break;case"details":ee("toggle",e),l=r;break;case"input":ea(e,r),l=eo(e,r),ee("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ie({},r,{value:void 0}),ee("invalid",e);break;case"textarea":na(e,r),l=ro(e,r),ee("invalid",e);break;default:l=r}so(n,l),a=l;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?nc(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ec(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&jr(e,u):typeof u=="number"&&jr(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sr.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ee("scroll",e):u!=null&&ni(e,s,u,o))}switch(n){case"input":Jr(e),ta(e,r,!1);break;case"textarea":Jr(e),ra(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gt(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?In(e,!!r.multiple,s,!1):r.defaultValue!=null&&In(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Rl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)Cd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=rn(Ir.current),rn(gt.current),il(t)){if(r=t.stateNode,n=t.memoizedProps,r[ft]=t,(s=r.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:ol(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ol(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=t,t.stateNode=r}return Ce(t),null;case 13:if(te(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&$e!==null&&t.mode&1&&!(t.flags&128))Wc(),Bn(),t.flags|=98560,s=!1;else if(s=il(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(E(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[ft]=t}else Bn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),s=!1}else st!==null&&(Bo(st),st=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?ge===0&&(ge=3):Ai())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return Wn(),Io(e,t),e===null&&Pr(t.stateNode.containerInfo),Ce(t),null;case 10:return Si(t.type._context),Ce(t),null;case 17:return Fe(t.type)&&zl(),Ce(t),null;case 19:if(te(le),s=t.memoizedState,s===null)return Ce(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)lr(s,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$l(e),o!==null){for(t.flags|=128,lr(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(le,le.current&1|2),t.child}e=e.sibling}s.tail!==null&&de()>Hn&&(t.flags|=128,r=!0,lr(s,!1),t.lanes=4194304)}else{if(!r)if(e=$l(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ne)return Ce(t),null}else 2*de()-s.renderingStartTime>Hn&&n!==1073741824&&(t.flags|=128,r=!0,lr(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=de(),t.sibling=null,n=le.current,q(le,r?n&1|2:n&1),t):(Ce(t),null);case 22:case 23:return Mi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Be&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function bh(e,t){switch(vi(t),t.tag){case 1:return Fe(t.type)&&zl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wn(),te(ze),te(_e),Ei(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ci(t),null;case 13:if(te(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(le),null;case 4:return Wn(),null;case 10:return Si(t.type._context),null;case 22:case 23:return Mi(),null;case 24:return null;default:return null}}var cl=!1,Ee=!1,Ph=typeof WeakSet=="function"?WeakSet:Set,L=null;function Dn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function Ro(e,t,n){try{n()}catch(r){ue(e,t,r)}}var Ga=!1;function Lh(e,t){if(vo=Dl,e=Lc(),pi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,m=0,d=e,p=null;t:for(;;){for(var y;d!==n||l!==0&&d.nodeType!==3||(a=o+l),d!==s||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)p=d,d=y;for(;;){if(d===e)break t;if(p===n&&++c===l&&(a=o),p===s&&++m===r&&(u=o),(y=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(yo={focusedElem:e,selectionRange:n},Dl=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var j=x.memoizedProps,k=x.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?j:rt(t.type,j),k);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(S){ue(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return x=Ga,Ga=!1,x}function yr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&Ro(t,n,s)}l=l.next}while(l!==r)}}function os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ed(e){var t=e.alternate;t!==null&&(e.alternate=null,Ed(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ft],delete t[Dr],delete t[So],delete t[fh],delete t[mh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _d(e){return e.tag===5||e.tag===3||e.tag===4}function Qa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_d(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rl));else if(r!==4&&(e=e.child,e!==null))for(Fo(e,t,n),e=e.sibling;e!==null;)Fo(e,t,n),e=e.sibling}function Mo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Mo(e,t,n),e=e.sibling;e!==null;)Mo(e,t,n),e=e.sibling}var we=null,lt=!1;function Lt(e,t,n){for(n=n.child;n!==null;)bd(e,t,n),n=n.sibling}function bd(e,t,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Jl,n)}catch{}switch(n.tag){case 5:Ee||Dn(n,t);case 6:var r=we,l=lt;we=null,Lt(e,t,n),we=r,lt=l,we!==null&&(lt?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(lt?(e=we,n=n.stateNode,e.nodeType===8?Is(e.parentNode,n):e.nodeType===1&&Is(e,n),Er(e)):Is(we,n.stateNode));break;case 4:r=we,l=lt,we=n.stateNode.containerInfo,lt=!0,Lt(e,t,n),we=r,lt=l;break;case 0:case 11:case 14:case 15:if(!Ee&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ro(n,t,o),l=l.next}while(l!==r)}Lt(e,t,n);break;case 1:if(!Ee&&(Dn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,t,a)}Lt(e,t,n);break;case 21:Lt(e,t,n);break;case 22:n.mode&1?(Ee=(r=Ee)||n.memoizedState!==null,Lt(e,t,n),Ee=r):Lt(e,t,n);break;default:Lt(e,t,n)}}function Ka(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ph),t.forEach(function(r){var l=Oh.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,lt=!1;break e;case 3:we=a.stateNode.containerInfo,lt=!0;break e;case 4:we=a.stateNode.containerInfo,lt=!0;break e}a=a.return}if(we===null)throw Error(E(160));bd(s,o,l),we=null,lt=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){ue(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pd(t,e),t=t.sibling}function Pd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nt(t,e),ut(e),r&4){try{yr(3,e,e.return),os(3,e)}catch(j){ue(e,e.return,j)}try{yr(5,e,e.return)}catch(j){ue(e,e.return,j)}}break;case 1:nt(t,e),ut(e),r&512&&n!==null&&Dn(n,n.return);break;case 5:if(nt(t,e),ut(e),r&512&&n!==null&&Dn(n,n.return),e.flags&32){var l=e.stateNode;try{jr(l,"")}catch(j){ue(e,e.return,j)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Xu(l,s),oo(a,o);var c=oo(a,s);for(o=0;o<u.length;o+=2){var m=u[o],d=u[o+1];m==="style"?nc(l,d):m==="dangerouslySetInnerHTML"?ec(l,d):m==="children"?jr(l,d):ni(l,m,d,c)}switch(a){case"input":to(l,s);break;case"textarea":Ju(l,s);break;case"select":var p=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?In(l,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?In(l,!!s.multiple,s.defaultValue,!0):In(l,!!s.multiple,s.multiple?[]:"",!1))}l[Dr]=s}catch(j){ue(e,e.return,j)}}break;case 6:if(nt(t,e),ut(e),r&4){if(e.stateNode===null)throw Error(E(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(j){ue(e,e.return,j)}}break;case 3:if(nt(t,e),ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Er(t.containerInfo)}catch(j){ue(e,e.return,j)}break;case 4:nt(t,e),ut(e);break;case 13:nt(t,e),ut(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(zi=de())),r&4&&Ka(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Ee=(c=Ee)||m,nt(t,e),Ee=c):nt(t,e),ut(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for(L=e,m=e.child;m!==null;){for(d=L=m;L!==null;){switch(p=L,y=p.child,p.tag){case 0:case 11:case 14:case 15:yr(4,p,p.return);break;case 1:Dn(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(j){ue(r,n,j)}}break;case 5:Dn(p,p.return);break;case 22:if(p.memoizedState!==null){Za(d);continue}}y!==null?(y.return=p,L=y):Za(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{l=d.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=tc("display",o))}catch(j){ue(e,e.return,j)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(j){ue(e,e.return,j)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nt(t,e),ut(e),r&4&&Ka(e);break;case 21:break;default:nt(t,e),ut(e)}}function ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_d(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(jr(l,""),r.flags&=-33);var s=Qa(e);Mo(e,s,l);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Qa(e);Fo(e,a,o);break;default:throw Error(E(161))}}catch(u){ue(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dh(e,t,n){L=e,Ld(e)}function Ld(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var l=L,s=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||cl;if(!o){var a=l.alternate,u=a!==null&&a.memoizedState!==null||Ee;a=cl;var c=Ee;if(cl=o,(Ee=u)&&!c)for(L=l;L!==null;)o=L,u=o.child,o.tag===22&&o.memoizedState!==null?Xa(l):u!==null?(u.return=o,L=u):Xa(l);for(;s!==null;)L=s,Ld(s),s=s.sibling;L=l,cl=a,Ee=c}Ya(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,L=s):Ya(e)}}function Ya(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ee||os(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ee)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:rt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Ia(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ia(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&Er(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Ee||t.flags&512&&zo(t)}catch(p){ue(t,t.return,p)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Za(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Xa(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{os(4,t)}catch(u){ue(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){ue(t,l,u)}}var s=t.return;try{zo(t)}catch(u){ue(t,s,u)}break;case 5:var o=t.return;try{zo(t)}catch(u){ue(t,o,u)}}}catch(u){ue(t,t.return,u)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var Th=Math.ceil,Hl=bt.ReactCurrentDispatcher,Ii=bt.ReactCurrentOwner,qe=bt.ReactCurrentBatchConfig,V=0,ye=null,fe=null,Se=0,Be=0,Tn=Zt(0),ge=0,Mr=null,fn=0,is=0,Ri=0,xr=null,Ie=null,zi=0,Hn=1/0,yt=null,Gl=!1,Ao=null,Wt=null,dl=!1,Ft=null,Ql=0,wr=0,Oo=null,jl=-1,kl=0;function Pe(){return V&6?de():jl!==-1?jl:jl=de()}function Vt(e){return e.mode&1?V&2&&Se!==0?Se&-Se:ph.transition!==null?(kl===0&&(kl=hc()),kl):(e=Y,e!==0||(e=window.event,e=e===void 0?16:Sc(e.type)),e):1}function it(e,t,n,r){if(50<wr)throw wr=0,Oo=null,Error(E(185));$r(e,n,r),(!(V&2)||e!==ye)&&(e===ye&&(!(V&2)&&(is|=n),ge===4&&Rt(e,Se)),Me(e,r),n===1&&V===0&&!(t.mode&1)&&(Hn=de()+500,rs&&Xt()))}function Me(e,t){var n=e.callbackNode;pm(e,t);var r=Ll(e,e===ye?Se:0);if(r===0)n!==null&&oa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&oa(n),t===1)e.tag===0?hh(Ja.bind(null,e)):Uc(Ja.bind(null,e)),ch(function(){!(V&6)&&Xt()}),n=null;else{switch(pc(r)){case 1:n=ii;break;case 4:n=fc;break;case 16:n=Pl;break;case 536870912:n=mc;break;default:n=Pl}n=Ad(n,Dd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dd(e,t){if(jl=-1,kl=0,V&6)throw Error(E(327));var n=e.callbackNode;if(An()&&e.callbackNode!==n)return null;var r=Ll(e,e===ye?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kl(e,r);else{t=r;var l=V;V|=2;var s=Id();(ye!==e||Se!==t)&&(yt=null,Hn=de()+500,ln(e,t));do try{zh();break}catch(a){Td(e,a)}while(!0);wi(),Hl.current=s,V=l,fe!==null?t=0:(ye=null,Se=0,t=ge)}if(t!==0){if(t===2&&(l=fo(e),l!==0&&(r=l,t=Uo(e,l))),t===1)throw n=Mr,ln(e,0),Rt(e,r),Me(e,de()),n;if(t===6)Rt(e,r);else{if(l=e.current.alternate,!(r&30)&&!Ih(l)&&(t=Kl(e,r),t===2&&(s=fo(e),s!==0&&(r=s,t=Uo(e,s))),t===1))throw n=Mr,ln(e,0),Rt(e,r),Me(e,de()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:en(e,Ie,yt);break;case 3:if(Rt(e,r),(r&130023424)===r&&(t=zi+500-de(),10<t)){if(Ll(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Pe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=wo(en.bind(null,e,Ie,yt),t);break}en(e,Ie,yt);break;case 4:if(Rt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var o=31-ot(r);s=1<<o,o=t[o],o>l&&(l=o),r&=~s}if(r=l,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Th(r/1960))-r,10<r){e.timeoutHandle=wo(en.bind(null,e,Ie,yt),r);break}en(e,Ie,yt);break;case 5:en(e,Ie,yt);break;default:throw Error(E(329))}}}return Me(e,de()),e.callbackNode===n?Dd.bind(null,e):null}function Uo(e,t){var n=xr;return e.current.memoizedState.isDehydrated&&(ln(e,t).flags|=256),e=Kl(e,t),e!==2&&(t=Ie,Ie=n,t!==null&&Bo(t)),e}function Bo(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function Ih(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!at(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rt(e,t){for(t&=~Ri,t&=~is,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Ja(e){if(V&6)throw Error(E(327));An();var t=Ll(e,0);if(!(t&1))return Me(e,de()),null;var n=Kl(e,t);if(e.tag!==0&&n===2){var r=fo(e);r!==0&&(t=r,n=Uo(e,r))}if(n===1)throw n=Mr,ln(e,0),Rt(e,t),Me(e,de()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,en(e,Ie,yt),Me(e,de()),null}function Fi(e,t){var n=V;V|=1;try{return e(t)}finally{V=n,V===0&&(Hn=de()+500,rs&&Xt())}}function mn(e){Ft!==null&&Ft.tag===0&&!(V&6)&&An();var t=V;V|=1;var n=qe.transition,r=Y;try{if(qe.transition=null,Y=1,e)return e()}finally{Y=r,qe.transition=n,V=t,!(V&6)&&Xt()}}function Mi(){Be=Tn.current,te(Tn)}function ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uh(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(vi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zl();break;case 3:Wn(),te(ze),te(_e),Ei();break;case 5:Ci(r);break;case 4:Wn();break;case 13:te(le);break;case 19:te(le);break;case 10:Si(r.type._context);break;case 22:case 23:Mi()}n=n.return}if(ye=e,fe=e=Ht(e.current,null),Se=Be=t,ge=0,Mr=null,Ri=is=fn=0,Ie=xr=null,nn!==null){for(t=0;t<nn.length;t++)if(n=nn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=l,r.next=o}n.pending=r}nn=null}return e}function Td(e,t){do{var n=fe;try{if(wi(),xl.current=Vl,Wl){for(var r=oe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Wl=!1}if(dn=0,ve=pe=oe=null,vr=!1,Rr=0,Ii.current=null,n===null||n.return===null){ge=1,Mr=t,fe=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Se,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,m=a,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Oa(o);if(y!==null){y.flags&=-257,Ua(y,o,a,s,t),y.mode&1&&Aa(s,c,t),t=y,u=c;var x=t.updateQueue;if(x===null){var j=new Set;j.add(u),t.updateQueue=j}else x.add(u);break e}else{if(!(t&1)){Aa(s,c,t),Ai();break e}u=Error(E(426))}}else if(ne&&a.mode&1){var k=Oa(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ua(k,o,a,s,t),yi(Vn(u,a));break e}}s=u=Vn(u,a),ge!==4&&(ge=2),xr===null?xr=[s]:xr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=pd(s,u,t);Ta(s,h);break e;case 1:a=u;var f=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Wt===null||!Wt.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=gd(s,a,t);Ta(s,S);break e}}s=s.return}while(s!==null)}zd(n)}catch(w){t=w,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function Id(){var e=Hl.current;return Hl.current=Vl,e===null?Vl:e}function Ai(){(ge===0||ge===3||ge===2)&&(ge=4),ye===null||!(fn&268435455)&&!(is&268435455)||Rt(ye,Se)}function Kl(e,t){var n=V;V|=2;var r=Id();(ye!==e||Se!==t)&&(yt=null,ln(e,t));do try{Rh();break}catch(l){Td(e,l)}while(!0);if(wi(),V=n,Hl.current=r,fe!==null)throw Error(E(261));return ye=null,Se=0,ge}function Rh(){for(;fe!==null;)Rd(fe)}function zh(){for(;fe!==null&&!om();)Rd(fe)}function Rd(e){var t=Md(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?zd(e):fe=t,Ii.current=null}function zd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bh(n,t),n!==null){n.flags&=32767,fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,fe=null;return}}else if(n=_h(n,t,Be),n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);ge===0&&(ge=5)}function en(e,t,n){var r=Y,l=qe.transition;try{qe.transition=null,Y=1,Fh(e,t,n,r)}finally{qe.transition=l,Y=r}return null}function Fh(e,t,n,r){do An();while(Ft!==null);if(V&6)throw Error(E(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(gm(e,s),e===ye&&(fe=ye=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dl||(dl=!0,Ad(Pl,function(){return An(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qe.transition,qe.transition=null;var o=Y;Y=1;var a=V;V|=4,Ii.current=null,Lh(e,n),Pd(n,e),nh(yo),Dl=!!vo,yo=vo=null,e.current=n,Dh(n),im(),V=a,Y=o,qe.transition=s}else e.current=n;if(dl&&(dl=!1,Ft=e,Ql=l),s=e.pendingLanes,s===0&&(Wt=null),cm(n.stateNode),Me(e,de()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Gl)throw Gl=!1,e=Ao,Ao=null,e;return Ql&1&&e.tag!==0&&An(),s=e.pendingLanes,s&1?e===Oo?wr++:(wr=0,Oo=e):wr=0,Xt(),null}function An(){if(Ft!==null){var e=pc(Ql),t=qe.transition,n=Y;try{if(qe.transition=null,Y=16>e?16:e,Ft===null)var r=!1;else{if(e=Ft,Ft=null,Ql=0,V&6)throw Error(E(331));var l=V;for(V|=4,L=e.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(L=c;L!==null;){var m=L;switch(m.tag){case 0:case 11:case 15:yr(8,m,s)}var d=m.child;if(d!==null)d.return=m,L=d;else for(;L!==null;){m=L;var p=m.sibling,y=m.return;if(Ed(m),m===c){L=null;break}if(p!==null){p.return=y,L=p;break}L=y}}}var x=s.alternate;if(x!==null){var j=x.child;if(j!==null){x.child=null;do{var k=j.sibling;j.sibling=null,j=k}while(j!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yr(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,L=h;break e}L=s.return}}var f=e.current;for(L=f;L!==null;){o=L;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,L=g;else e:for(o=f;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:os(9,a)}}catch(w){ue(a,a.return,w)}if(a===o){L=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,L=S;break e}L=a.return}}if(V=l,Xt(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Jl,e)}catch{}r=!0}return r}finally{Y=n,qe.transition=t}}return!1}function qa(e,t,n){t=Vn(n,t),t=pd(e,t,1),e=$t(e,t,1),t=Pe(),e!==null&&($r(e,1,t),Me(e,t))}function ue(e,t,n){if(e.tag===3)qa(e,e,n);else for(;t!==null;){if(t.tag===3){qa(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wt===null||!Wt.has(r))){e=Vn(n,e),e=gd(t,e,1),t=$t(t,e,1),e=Pe(),t!==null&&($r(t,1,e),Me(t,e));break}}t=t.return}}function Mh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pe(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(Se&n)===n&&(ge===4||ge===3&&(Se&130023424)===Se&&500>de()-zi?ln(e,0):Ri|=n),Me(e,t)}function Fd(e,t){t===0&&(e.mode&1?(t=tl,tl<<=1,!(tl&130023424)&&(tl=4194304)):t=1);var n=Pe();e=Et(e,t),e!==null&&($r(e,t,n),Me(e,n))}function Ah(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fd(e,n)}function Oh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),Fd(e,n)}var Md;Md=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)Re=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Re=!1,Eh(e,t,n);Re=!!(e.flags&131072)}else Re=!1,ne&&t.flags&1048576&&Bc(t,Al,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Sl(e,t),e=t.pendingProps;var l=Un(t,_e.current);Mn(t,n),l=bi(null,t,r,e,l,n);var s=Pi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(r)?(s=!0,Fl(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ki(t),l.updater=ss,t.stateNode=l,l._reactInternals=t,_o(t,r,e,n),t=Lo(null,t,r,!0,s,n)):(t.tag=0,ne&&s&&gi(t),be(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Sl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Bh(r),e=rt(r,e),l){case 0:t=Po(null,t,r,e,n);break e;case 1:t=Wa(null,t,r,e,n);break e;case 11:t=Ba(null,t,r,e,n);break e;case 14:t=$a(null,t,r,rt(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),Po(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),Wa(e,t,r,l,n);case 3:e:{if(wd(t),e===null)throw Error(E(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Qc(e,t),Bl(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=Vn(Error(E(423)),t),t=Va(e,t,r,n,l);break e}else if(r!==l){l=Vn(Error(E(424)),t),t=Va(e,t,r,n,l);break e}else for($e=Bt(t.stateNode.containerInfo.firstChild),We=t,ne=!0,st=null,n=Hc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bn(),r===l){t=_t(e,t,n);break e}be(e,t,r,n)}t=t.child}return t;case 5:return Kc(t),e===null&&No(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,o=l.children,xo(r,l)?o=null:s!==null&&xo(r,s)&&(t.flags|=32),xd(e,t),be(e,t,o,n),t.child;case 6:return e===null&&No(t),null;case 13:return Sd(e,t,n);case 4:return Ni(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$n(t,null,r,n):be(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),Ba(e,t,r,l,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,o=l.value,q(Ol,r._currentValue),r._currentValue=o,s!==null)if(at(s.value,o)){if(s.children===l.children&&!ze.current){t=_t(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=jt(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Co(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Co(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}be(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Mn(t,n),l=et(l),r=r(l),t.flags|=1,be(e,t,r,n),t.child;case 14:return r=t.type,l=rt(r,t.pendingProps),l=rt(r.type,l),$a(e,t,r,l,n);case 15:return vd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:rt(r,l),Sl(e,t),t.tag=1,Fe(r)?(e=!0,Fl(t)):e=!1,Mn(t,n),hd(t,r,l),_o(t,r,l,n),Lo(null,t,r,!0,e,n);case 19:return jd(e,t,n);case 22:return yd(e,t,n)}throw Error(E(156,t.tag))};function Ad(e,t){return dc(e,t)}function Uh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(e,t,n,r){return new Uh(e,t,n,r)}function Oi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bh(e){if(typeof e=="function")return Oi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===li)return 11;if(e===si)return 14}return 2}function Ht(e,t){var n=e.alternate;return n===null?(n=Je(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nl(e,t,n,r,l,s){var o=2;if(r=e,typeof e=="function")Oi(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jn:return sn(n.children,l,s,t);case ri:o=8,l|=8;break;case Zs:return e=Je(12,n,t,l|2),e.elementType=Zs,e.lanes=s,e;case Xs:return e=Je(13,n,t,l),e.elementType=Xs,e.lanes=s,e;case Js:return e=Je(19,n,t,l),e.elementType=Js,e.lanes=s,e;case Ku:return as(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gu:o=10;break e;case Qu:o=9;break e;case li:o=11;break e;case si:o=14;break e;case Dt:o=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Je(o,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function sn(e,t,n,r){return e=Je(7,e,r,t),e.lanes=n,e}function as(e,t,n,r){return e=Je(22,e,r,t),e.elementType=Ku,e.lanes=n,e.stateNode={isHidden:!1},e}function Bs(e,t,n){return e=Je(6,e,null,t),e.lanes=n,e}function $s(e,t,n){return t=Je(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $h(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=js(0),this.expirationTimes=js(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ui(e,t,n,r,l,s,o,a,u){return e=new $h(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Je(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ki(s),e}function Wh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Od(e){if(!e)return Qt;e=e._reactInternals;e:{if(gn(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Fe(n))return Oc(e,n,t)}return t}function Ud(e,t,n,r,l,s,o,a,u){return e=Ui(n,r,!0,e,l,s,o,a,u),e.context=Od(null),n=e.current,r=Pe(),l=Vt(n),s=jt(r,l),s.callback=t??null,$t(n,s,l),e.current.lanes=l,$r(e,l,r),Me(e,r),e}function us(e,t,n,r){var l=t.current,s=Pe(),o=Vt(l);return n=Od(n),t.context===null?t.context=n:t.pendingContext=n,t=jt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$t(l,t,o),e!==null&&(it(e,l,o,s),yl(e,l,o)),o}function Yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bi(e,t){eu(e,t),(e=e.alternate)&&eu(e,t)}function Vh(){return null}var Bd=typeof reportError=="function"?reportError:function(e){console.error(e)};function $i(e){this._internalRoot=e}cs.prototype.render=$i.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));us(e,t,null,null)};cs.prototype.unmount=$i.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mn(function(){us(null,e,null,null)}),t[Ct]=null}};function cs(e){this._internalRoot=e}cs.prototype.unstable_scheduleHydration=function(e){if(e){var t=yc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&t!==0&&t<It[n].priority;n++);It.splice(n,0,e),n===0&&wc(e)}};function Wi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ds(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tu(){}function Hh(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=Yl(o);s.call(c)}}var o=Ud(t,r,e,0,null,!1,!1,"",tu);return e._reactRootContainer=o,e[Ct]=o.current,Pr(e.nodeType===8?e.parentNode:e),mn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var c=Yl(u);a.call(c)}}var u=Ui(e,0,!1,null,null,!1,!1,"",tu);return e._reactRootContainer=u,e[Ct]=u.current,Pr(e.nodeType===8?e.parentNode:e),mn(function(){us(t,u,n,r)}),u}function fs(e,t,n,r,l){var s=n._reactRootContainer;if(s){var o=s;if(typeof l=="function"){var a=l;l=function(){var u=Yl(o);a.call(u)}}us(t,o,e,l)}else o=Hh(n,t,e,l,r);return Yl(o)}gc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ur(t.pendingLanes);n!==0&&(ai(t,n|1),Me(t,de()),!(V&6)&&(Hn=de()+500,Xt()))}break;case 13:mn(function(){var r=Et(e,1);if(r!==null){var l=Pe();it(r,e,1,l)}}),Bi(e,1)}};ui=function(e){if(e.tag===13){var t=Et(e,134217728);if(t!==null){var n=Pe();it(t,e,134217728,n)}Bi(e,134217728)}};vc=function(e){if(e.tag===13){var t=Vt(e),n=Et(e,t);if(n!==null){var r=Pe();it(n,e,t,r)}Bi(e,t)}};yc=function(){return Y};xc=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};ao=function(e,t,n){switch(t){case"input":if(to(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ns(r);if(!l)throw Error(E(90));Zu(r),to(r,l)}}}break;case"textarea":Ju(e,n);break;case"select":t=n.value,t!=null&&In(e,!!n.multiple,t,!1)}};sc=Fi;oc=mn;var Gh={usingClientEntryPoint:!1,Events:[Vr,En,ns,rc,lc,Fi]},sr={findFiberByHostInstance:tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qh={bundleType:sr.bundleType,version:sr.version,rendererPackageName:sr.rendererPackageName,rendererConfig:sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uc(e),e===null?null:e.stateNode},findFiberByHostInstance:sr.findFiberByHostInstance||Vh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{Jl=fl.inject(Qh),pt=fl}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gh;He.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wi(t))throw Error(E(200));return Wh(e,t,null,n)};He.createRoot=function(e,t){if(!Wi(e))throw Error(E(299));var n=!1,r="",l=Bd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ui(e,1,!1,null,null,n,!1,r,l),e[Ct]=t.current,Pr(e.nodeType===8?e.parentNode:e),new $i(t)};He.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=uc(t),e=e===null?null:e.stateNode,e};He.flushSync=function(e){return mn(e)};He.hydrate=function(e,t,n){if(!ds(t))throw Error(E(200));return fs(null,e,t,!0,n)};He.hydrateRoot=function(e,t,n){if(!Wi(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",o=Bd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ud(t,null,e,1,n??null,l,!1,s,o),e[Ct]=t.current,Pr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new cs(t)};He.render=function(e,t,n){if(!ds(t))throw Error(E(200));return fs(null,e,t,!1,n)};He.unmountComponentAtNode=function(e){if(!ds(e))throw Error(E(40));return e._reactRootContainer?(mn(function(){fs(null,null,e,!1,function(){e._reactRootContainer=null,e[Ct]=null})}),!0):!1};He.unstable_batchedUpdates=Fi;He.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ds(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return fs(e,t,n,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function $d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($d)}catch(e){console.error(e)}}$d(),$u.exports=He;var Wd=$u.exports,nu=Wd;Ks.createRoot=nu.createRoot,Ks.hydrateRoot=nu.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ar.apply(this,arguments)}var Mt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mt||(Mt={}));const ru="popstate";function Kh(e){e===void 0&&(e={});function t(r,l){let{pathname:s,search:o,hash:a}=r.location;return $o("",{pathname:s,search:o,hash:a},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Vd(l)}return Zh(t,n,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yh(){return Math.random().toString(36).substr(2,8)}function lu(e,t){return{usr:e.state,key:e.key,idx:t}}function $o(e,t,n,r){return n===void 0&&(n=null),Ar({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zn(t):t,{state:n,key:t&&t.key||r||Yh()})}function Vd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Zh(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,o=l.history,a=Mt.Pop,u=null,c=m();c==null&&(c=0,o.replaceState(Ar({},o.state,{idx:c}),""));function m(){return(o.state||{idx:null}).idx}function d(){a=Mt.Pop;let k=m(),h=k==null?null:k-c;c=k,u&&u({action:a,location:j.location,delta:h})}function p(k,h){a=Mt.Push;let f=$o(j.location,k,h);c=m()+1;let g=lu(f,c),S=j.createHref(f);try{o.pushState(g,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;l.location.assign(S)}s&&u&&u({action:a,location:j.location,delta:1})}function y(k,h){a=Mt.Replace;let f=$o(j.location,k,h);c=m();let g=lu(f,c),S=j.createHref(f);o.replaceState(g,"",S),s&&u&&u({action:a,location:j.location,delta:0})}function x(k){let h=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof k=="string"?k:Vd(k);return f=f.replace(/ $/,"%20"),me(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let j={get action(){return a},get location(){return e(l,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(ru,d),u=k,()=>{l.removeEventListener(ru,d),u=null}},createHref(k){return t(l,k)},createURL:x,encodeLocation(k){let h=x(k);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:y,go(k){return o.go(k)}};return j}var su;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(su||(su={}));function Xh(e,t,n){return n===void 0&&(n="/"),Jh(e,t,n)}function Jh(e,t,n,r){let l=typeof t=="string"?Zn(t):t,s=Qd(l.pathname||"/",n);if(s==null)return null;let o=Hd(e);qh(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=dp(s);a=ap(o[u],c)}return a}function Hd(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(me(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=on([r,u.relativePath]),m=n.concat(u);s.children&&s.children.length>0&&(me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Hd(s.children,t,m,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:op(c,s.index),routesMeta:m})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))l(s,o);else for(let u of Gd(s.path))l(s,o,u)}),t}function Gd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return l?[s,""]:[s];let o=Gd(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),l&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function qh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ip(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ep=/^:[\w-]+$/,tp=3,np=2,rp=1,lp=10,sp=-2,ou=e=>e==="*";function op(e,t){let n=e.split("/"),r=n.length;return n.some(ou)&&(r+=sp),t&&(r+=np),n.filter(l=>!ou(l)).reduce((l,s)=>l+(ep.test(s)?tp:s===""?rp:lp),r)}function ip(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function ap(e,t,n){let{routesMeta:r}=e,l={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,m=s==="/"?t:t.slice(s.length)||"/",d=up({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},m),p=u.route;if(!d)return null;Object.assign(l,d.params),o.push({params:l,pathname:on([s,d.pathname]),pathnameBase:gp(on([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=on([s,d.pathnameBase]))}return o}function up(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=cp(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let s=l[0],o=s.replace(/(.)\/+$/,"$1"),a=l.slice(1);return{params:r.reduce((c,m,d)=>{let{paramName:p,isOptional:y}=m;if(p==="*"){let j=a[d]||"";o=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const x=a[d];return y&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function cp(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Vi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function dp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const fp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mp=e=>fp.test(e);function hp(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?Zn(e):e,s;if(n)if(mp(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Vi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=iu(n.substring(1),"/"):s=iu(n,t)}else s=t;return{pathname:s,search:vp(r),hash:yp(l)}}function iu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Ws(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Kd(e,t){let n=pp(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yd(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=Zn(e):(l=Ar({},e),me(!l.pathname||!l.pathname.includes("?"),Ws("?","pathname","search",l)),me(!l.pathname||!l.pathname.includes("#"),Ws("#","pathname","hash",l)),me(!l.search||!l.search.includes("#"),Ws("#","search","hash",l)));let s=e===""||l.pathname==="",o=s?"/":l.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;l.pathname=p.join("/")}a=d>=0?t[d]:"/"}let u=hp(l,a),c=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||m)&&(u.pathname+="/"),u}const on=e=>e.join("/").replace(/\/\/+/g,"/"),gp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zd=["post","put","patch","delete"];new Set(Zd);const wp=["get",...Zd];new Set(wp);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Or(){return Or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Or.apply(this,arguments)}const Hi=v.createContext(null),Sp=v.createContext(null),Gr=v.createContext(null),ms=v.createContext(null),Jt=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Xd=v.createContext(null);function Qr(){return v.useContext(ms)!=null}function Kr(){return Qr()||me(!1),v.useContext(ms).location}function Jd(e){v.useContext(Gr).static||v.useLayoutEffect(e)}function Ae(){let{isDataRoute:e}=v.useContext(Jt);return e?zp():jp()}function jp(){Qr()||me(!1);let e=v.useContext(Hi),{basename:t,future:n,navigator:r}=v.useContext(Gr),{matches:l}=v.useContext(Jt),{pathname:s}=Kr(),o=JSON.stringify(Kd(l,n.v7_relativeSplatPath)),a=v.useRef(!1);return Jd(()=>{a.current=!0}),v.useCallback(function(c,m){if(m===void 0&&(m={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Yd(c,JSON.parse(o),s,m.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:on([t,d.pathname])),(m.replace?r.replace:r.push)(d,m.state,m)},[t,r,o,s,e])}function kp(){let{matches:e}=v.useContext(Jt),t=e[e.length-1];return t?t.params:{}}function Np(e,t){return Cp(e,t)}function Cp(e,t,n,r){Qr()||me(!1);let{navigator:l}=v.useContext(Gr),{matches:s}=v.useContext(Jt),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Kr(),m;if(t){var d;let k=typeof t=="string"?Zn(t):t;u==="/"||(d=k.pathname)!=null&&d.startsWith(u)||me(!1),m=k}else m=c;let p=m.pathname||"/",y=p;if(u!=="/"){let k=u.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=Xh(e,{pathname:y}),j=Lp(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:on([u,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:on([u,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return t&&j?v.createElement(ms.Provider,{value:{location:Or({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Mt.Pop}},j):j}function Ep(){let e=Rp(),t=xp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:l},n):null,null)}const _p=v.createElement(Ep,null);class bp extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(Jt.Provider,{value:this.props.routeContext},v.createElement(Xd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Pp(e){let{routeContext:t,match:n,children:r}=e,l=v.useContext(Hi);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(Jt.Provider,{value:t},r)}function Lp(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(l=n)==null?void 0:l.errors;if(a!=null){let m=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);m>=0||me(!1),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<o.length;m++){let d=o[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=m),d.route.id){let{loaderData:p,errors:y}=n,x=d.route.loader&&p[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||x){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((m,d,p)=>{let y,x=!1,j=null,k=null;n&&(y=a&&d.route.id?a[d.route.id]:void 0,j=d.route.errorElement||_p,u&&(c<0&&p===0?(Fp("route-fallback"),x=!0,k=null):c===p&&(x=!0,k=d.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,p+1)),f=()=>{let g;return y?g=j:x?g=k:d.route.Component?g=v.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=m,v.createElement(Pp,{match:d,routeContext:{outlet:m,matches:h,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?v.createElement(bp,{location:n.location,revalidation:n.revalidation,component:j,error:y,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var qd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qd||{}),ef=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ef||{});function Dp(e){let t=v.useContext(Hi);return t||me(!1),t}function Tp(e){let t=v.useContext(Sp);return t||me(!1),t}function Ip(e){let t=v.useContext(Jt);return t||me(!1),t}function tf(e){let t=Ip(),n=t.matches[t.matches.length-1];return n.route.id||me(!1),n.route.id}function Rp(){var e;let t=v.useContext(Xd),n=Tp(),r=tf();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function zp(){let{router:e}=Dp(qd.UseNavigateStable),t=tf(ef.UseNavigateStable),n=v.useRef(!1);return Jd(()=>{n.current=!0}),v.useCallback(function(l,s){s===void 0&&(s={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Or({fromRouteId:t},s)))},[e,t])}const au={};function Fp(e,t,n){au[e]||(au[e]=!0)}function Mp(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function nf(e){let{to:t,replace:n,state:r,relative:l}=e;Qr()||me(!1);let{future:s,static:o}=v.useContext(Gr),{matches:a}=v.useContext(Jt),{pathname:u}=Kr(),c=Ae(),m=Yd(t,Kd(a,s.v7_relativeSplatPath),u,l==="path"),d=JSON.stringify(m);return v.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:l}),[c,d,l,n,r]),null}function Ye(e){me(!1)}function Ap(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Mt.Pop,navigator:s,static:o=!1,future:a}=e;Qr()&&me(!1);let u=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:u,navigator:s,static:o,future:Or({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Zn(r));let{pathname:m="/",search:d="",hash:p="",state:y=null,key:x="default"}=r,j=v.useMemo(()=>{let k=Qd(m,u);return k==null?null:{location:{pathname:k,search:d,hash:p,state:y,key:x},navigationType:l}},[u,m,d,p,y,x,l]);return j==null?null:v.createElement(Gr.Provider,{value:c},v.createElement(ms.Provider,{children:n,value:j}))}function Op(e){let{children:t,location:n}=e;return Np(Wo(t),n)}new Promise(()=>{});function Wo(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,l)=>{if(!v.isValidElement(r))return;let s=[...t,l];if(r.type===v.Fragment){n.push.apply(n,Wo(r.props.children,s));return}r.type!==Ye&&me(!1),!r.props.index||!r.props.children||me(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wo(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Up="6";try{window.__reactRouterVersion=Up}catch{}const Bp="startTransition",uu=Mf[Bp];function $p(e){let{basename:t,children:n,future:r,window:l}=e,s=v.useRef();s.current==null&&(s.current=Kh({window:l,v5Compat:!0}));let o=s.current,[a,u]=v.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},m=v.useCallback(d=>{c&&uu?uu(()=>u(d)):u(d)},[u,c]);return v.useLayoutEffect(()=>o.listen(m),[o,m]),v.useEffect(()=>Mp(r),[r]),v.createElement(Ap,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var cu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cu||(cu={}));var du;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(du||(du={}));const rf=v.createContext(void 0);function Wp({children:e}){const[t,n]=v.useState(null),[r,l]=v.useState(!0),s=Ae();v.useEffect(()=>{const u=localStorage.getItem("user");if(u)try{n(JSON.parse(u))}catch{localStorage.removeItem("user")}l(!1)},[]);const o=(u,c)=>{localStorage.setItem("user",JSON.stringify(c)),n(c),s("/")},a=()=>{localStorage.removeItem("user"),n(null),s("/auth")};return i.jsx(rf.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:r,login:o,logout:a},children:e})}function Pt(){const e=v.useContext(rf);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}const Vp="https://script.google.com/macros/s/AKfycbyBK-9iXQ7bXvd26EN4qCz6DT2V_Z9pniGS2qrLaBP7pqXIQ29hGtmnQj2PP2LYCPHf/exec";class Hp{getUserEmail(){const t=localStorage.getItem("user");if(!t)return null;try{return JSON.parse(t).email||null}catch{return null}}async request(t,n={}){var o,a,u,c,m;const r=this.getUserEmail(),l={...n.headers||{}},s=r?`&auth=${encodeURIComponent("Email "+r)}`:"";try{const p=await(await fetch(`${Vp}?path=${t}${s}`,{...n,headers:l})).json();if(!p.ok){if(((o=p.error)==null?void 0:o.code)==="INVALID_TOKEN"||((a=p.error)==null?void 0:a.code)==="AUTH_REQUIRED"||((u=p.error)==null?void 0:u.code)==="FORBIDDEN"){localStorage.removeItem("user");const y=((c=p.error)==null?void 0:c.message)||"Your account is not authorized to access this application.";throw localStorage.setItem("auth_error",y),window.location.href="/auth",new Error(y)}throw new Error(((m=p.error)==null?void 0:m.message)||"An error occurred")}return p.data}catch(d){throw d instanceof Error?d:new Error("Network error")}}async get(t,n){const r=n?Object.fromEntries(Object.entries(n).filter(([s,o])=>o!==void 0)):void 0,l=r?"&"+new URLSearchParams(r).toString():"";return this.request(`${t}${l}`,{method:"POST"})}async post(t,n){return this.request(t,{method:"POST",body:JSON.stringify(n)})}async put(t,n){return this.request(t,{method:"PUT",body:JSON.stringify(n)})}}const se=new Hp,fu={async get(){return se.get("profile/get")},async save(e){return se.post("profile/save",e)}};function Gp(e){return new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{const s=r.result.split(",")[1];t(s)},r.onerror=n})}const lf=v.createContext(void 0);let or=null,Vs=null;function Qp({children:e}){const{isAuthenticated:t,isLoading:n}=Pt(),[r,l]=v.useState(null),[s,o]=v.useState(!1),[a,u]=v.useState(null),c=async()=>{if(t){o(!0);try{const d=await fu.get();if(l({pseudo:d.pseudo,avatar_url:d.avatar_url}),d.avatar_base64&&d.avatar_url!==Vs)try{const p=`data:image/jpeg;base64,${d.avatar_base64}`;or&&URL.revokeObjectURL(or),or=p,Vs=d.avatar_url,u(p)}catch(p){console.error("Failed to convert avatar to data URL:",p),u(null)}else d.avatar_url===Vs&&or?u(or):d.avatar_base64||u(null)}catch(d){console.error("Failed to load profile:",d)}finally{o(!1)}}};v.useEffect(()=>{!n&&t&&c()},[t,n]);const m=async(d,p)=>{try{const y={pseudo:d};if(p){const j=await Gp(p);y.avatar=j}const x=await fu.save(y);l({pseudo:x.pseudo,avatar_url:x.avatar_url}),await c()}catch(y){throw console.error("Failed to save profile:",y),y}};return i.jsx(lf.Provider,{value:{profile:r,isLoading:s,saveProfile:m,reloadProfile:c,avatarBlobUrl:a},children:e})}function sf(){const e=v.useContext(lf);if(!e)throw new Error("useProfile must be used within ProfileProvider");return e}function of({size:e="md",className:t=""}){const r={sm:{width:16,height:16,border:2},md:{width:32,height:32,border:3},lg:{width:48,height:48,border:4}}[e];return i.jsx("div",{className:`rounded-full animate-spin ${t}`,style:{width:r.width,height:r.height,borderWidth:r.border,borderStyle:"solid",borderColor:"#2563eb",borderTopColor:"transparent"}})}function vn({message:e="Loading..."}){return i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[i.jsx(of,{size:"lg"}),i.jsx("p",{className:"mt-4 text-gray-600",children:e})]})}function vt({children:e}){const{isAuthenticated:t,isLoading:n}=Pt();return n?i.jsx(vn,{message:"Checking authentication..."}):t?i.jsx(i.Fragment,{children:e}):i.jsx(nf,{to:"/auth",replace:!0})}function Q({variant:e="primary",fullWidth:t=!1,className:n="",children:r,...l}){const s="px-6 py-3 rounded-lg font-medium transition-colors touch-manipulation flex items-center justify-center",o={primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 disabled:bg-gray-300",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 active:bg-gray-400 disabled:bg-gray-100",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800 disabled:bg-gray-300"},a=t?"w-full":"";return i.jsx("button",{className:`${s} ${o[e]} ${a} ${n}`,...l,children:r})}const Kt={MAX_TEXT_LENGTH:300,MAX_PHOTOS_IN_ASSEMBLY:10,IMAGE_MAX_SIZE_MB:2,TIMEZONE:"Europe/Paris",PDF_POLL_INTERVAL_MS:3e3,INFINITE_SCROLL_THRESHOLD:.8,TARGET_IMAGE_WIDTH_PX:2480,ARTICLES_PER_PAGE:5},Kp=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],Gi=["January","February","March","April","May","June","July","August","September","October","November","December"];function Yp(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function Zp(){const{login:e,isAuthenticated:t}=Pt(),n=Ae(),[r,l]=v.useState(!1),[s,o]=v.useState(null),[a]=v.useState(Yp()),[u,c]=v.useState(!1);v.useEffect(()=>{t&&n("/")},[t,n]),v.useEffect(()=>{const d=localStorage.getItem("auth_error");d&&(o(d),localStorage.removeItem("auth_error"))},[]),v.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,document.body.appendChild(d),()=>{document.body.removeChild(d)}},[]);const m=()=>{var p,y,x;l(!0),o(null);const d=(x=(y=(p=window.google)==null?void 0:p.accounts)==null?void 0:y.oauth2)==null?void 0:x.initTokenClient({client_id:"175845978100-rqclosiat622f3b7ijpg17t2fnrnb522.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",callback:j=>{j.access_token?fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${j.access_token}`}}).then(k=>k.json()).then(k=>{e(j.access_token,{email:k.email,name:k.name}),l(!1)}).catch(()=>{o("Failed to get user information"),l(!1),a&&c(!0)}):(o("Failed to authenticate with Google"),l(!1),a&&c(!0))},error_callback:()=>{o("Google Sign-In failed"),l(!1),a&&c(!0)}});d==null||d.requestAccessToken()};return r?i.jsx(vn,{message:"Signing in..."}):a&&u?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-6",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rememly"}),i.jsx("p",{className:"text-gray-600",children:"Family photo journal"})]}),i.jsx("div",{className:"mb-6 w-full max-w-md",children:i.jsxs("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Safari login required"}),i.jsx("p",{className:"text-blue-800 text-sm mb-4",children:"Google sign-in doesn't work in app mode. Please login from Safari:"}),i.jsxs("ol",{className:"text-blue-800 text-sm space-y-2 mb-4 list-decimal list-inside",children:[i.jsx("li",{children:"Open Safari on your iPhone"}),i.jsxs("li",{children:["Go to ",i.jsx("span",{className:"font-mono bg-blue-100 px-1 rounded",children:"grut505.github.io"})]}),i.jsx("li",{children:"Sign in with your Google account"}),i.jsx("li",{children:"Add the app to your home screen again"})]}),i.jsx("p",{className:"text-blue-700 text-xs italic",children:"Important: you must re-add the app to your home screen after signing in from Safari."})]})}),i.jsx(Q,{onClick:()=>{window.location.href="https://grut505.github.io/auth"},className:"w-full max-w-sm",children:"Open in Safari"}),i.jsx("button",{onClick:()=>c(!1),className:"mt-4 text-sm text-gray-600 underline",children:"Ressayer la connexion"})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-6",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rememly"}),i.jsx("p",{className:"text-gray-600",children:"Family photo journal"})]}),s&&i.jsx("div",{className:"mb-6 w-full max-w-sm",children:i.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("div",{className:"text-red-600 text-center text-sm",children:s})})}),i.jsx(Q,{onClick:m,className:"w-full max-w-sm",children:s?"Try another account":"Sign in with Google"})]})}const Xp={},mu=e=>{let t;const n=new Set,r=(m,d)=>{const p=typeof m=="function"?m(t):m;if(!Object.is(p,t)){const y=t;t=d??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,y))}},l=()=>t,u={setState:r,getState:l,getInitialState:()=>c,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(Xp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,l,u);return u},Jp=e=>e?mu(e):mu;var af={exports:{}},uf={},cf={exports:{}},df={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gn=v;function qp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var e0=typeof Object.is=="function"?Object.is:qp,t0=Gn.useState,n0=Gn.useEffect,r0=Gn.useLayoutEffect,l0=Gn.useDebugValue;function s0(e,t){var n=t(),r=t0({inst:{value:n,getSnapshot:t}}),l=r[0].inst,s=r[1];return r0(function(){l.value=n,l.getSnapshot=t,Hs(l)&&s({inst:l})},[e,n,t]),n0(function(){return Hs(l)&&s({inst:l}),e(function(){Hs(l)&&s({inst:l})})},[e]),l0(n),n}function Hs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!e0(e,n)}catch{return!0}}function o0(e,t){return t()}var i0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o0:s0;df.useSyncExternalStore=Gn.useSyncExternalStore!==void 0?Gn.useSyncExternalStore:i0;cf.exports=df;var a0=cf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=v,u0=a0;function c0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var d0=typeof Object.is=="function"?Object.is:c0,f0=u0.useSyncExternalStore,m0=hs.useRef,h0=hs.useEffect,p0=hs.useMemo,g0=hs.useDebugValue;uf.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var s=m0(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=p0(function(){function u(y){if(!c){if(c=!0,m=y,y=r(y),l!==void 0&&o.hasValue){var x=o.value;if(l(x,y))return d=x}return d=y}if(x=d,d0(m,y))return x;var j=r(y);return l!==void 0&&l(x,j)?(m=y,x):(m=y,d=j)}var c=!1,m,d,p=n===void 0?null:n;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,n,r,l]);var a=f0(e,s[0],s[1]);return h0(function(){o.hasValue=!0,o.value=a},[a]),g0(a),a};af.exports=uf;var v0=af.exports;const y0=Lu(v0),ff={},{useDebugValue:x0}=qo,{useSyncExternalStoreWithSelector:w0}=y0;let hu=!1;const S0=e=>e;function j0(e,t=S0,n){(ff?"production":void 0)!=="production"&&n&&!hu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),hu=!0);const r=w0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return x0(r),r}const pu=e=>{(ff?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Jp(e):e,n=(r,l)=>j0(t,r,l);return Object.assign(n,t),n},Qi=e=>e?pu(e):pu,gu={year:"",month:"",from:"",to:"",statusFilter:"active",sourceFilter:"all"},dt=Qi(e=>({articles:[],isLoading:!1,error:null,cursor:null,hasMore:!0,filters:gu,setArticles:(t,n=null)=>{const r=new Set,l=t.filter(s=>r.has(s.id)?!1:(r.add(s.id),!0));return e({articles:l,cursor:n,hasMore:n!==null})},addArticles:(t,n)=>e(r=>{const l=new Set(r.articles.map(o=>o.id)),s=t.filter(o=>!l.has(o.id));return{articles:[...r.articles,...s],cursor:n,hasMore:n!==null}}),updateArticle:t=>e(n=>({articles:n.articles.map(r=>r.id===t.id?t:r)})),deleteArticle:t=>e(n=>({articles:n.articles.filter(r=>r.id!==t)})),setLoading:t=>e({isLoading:t}),setError:t=>e({error:t}),setFilters:t=>e({filters:t}),reset:()=>e({articles:[],isLoading:!1,error:null,cursor:null,hasMore:!0,filters:gu})})),ht={list:e=>se.get("articles/list",e),get:e=>se.get("articles/get",{id:e}),create:e=>se.post("articles/create",e),update:e=>se.post("articles/update",e),delete:e=>se.get("articles/delete",{id:e}),permanentDelete:e=>se.get("articles/permanent-delete",{id:e})};function k0({onClick:e,icon:t}){return i.jsx("button",{onClick:e,className:"fixed bottom-6 right-6 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 active:bg-blue-800 flex items-center justify-center text-2xl touch-manipulation z-50","aria-label":"Create new article",children:t||"+"})}function mf({message:e,onRetry:t,retryLabel:n="Retry"}){return i.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-red-50 border border-red-200 rounded-lg",children:[i.jsx("div",{className:"text-red-600 text-center mb-4",children:e}),t&&i.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:n})]})}function hf(e){const t=new Date(e),n=t.getDate(),r=Gi[t.getMonth()],l=t.getFullYear(),s=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${r} ${n}, ${l}  ${s}:${o}`}function dr(){return new Date().getFullYear()}function pf(e){const t=new Date(e),n=Gi[t.getMonth()],r=t.getFullYear();return`${n} ${r}`}function vu(e){const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`}const yu=new Map;function N0(e){if(!e)return null;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/thumbnail\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return r[1]}return null}function C0(e,t){const[n,r]=v.useState(""),[l,s]=v.useState(!0),[o,a]=v.useState(!1);return v.useEffect(()=>{if(!e){r(""),s(!1),a(!1);return}if(e.startsWith("data:")||e.startsWith("blob:")){r(e),s(!1),a(!1);return}const u=t||N0(e);if(!u){a(!0),s(!1);return}const c=yu.get(u);if(c){r(c),s(!1),a(!1);return}s(!0),a(!1),(async()=>{try{const d=await se.get("image/fetch",{fileId:u});if(!d.base64){a(!0),s(!1);return}const p=`data:image/jpeg;base64,${d.base64}`;yu.set(u,p),r(p),s(!1)}catch{a(!0),s(!1)}})()},[e,t]),{src:n,isLoading:l,error:o}}function hn({isOpen:e,title:t,message:n,confirmLabel:r="Confirm",cancelLabel:l="Cancel",onConfirm:s,onCancel:o,variant:a="primary",isLoading:u=!1,progress:c=null}){return e?Wd.createPortal(i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:o}),i.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-2",children:t}),i.jsx("p",{className:"text-gray-600 mb-4",children:n}),c&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[i.jsx("span",{children:"Deleting..."}),i.jsxs("span",{children:[c.current," / ",c.total]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:i.jsx("div",{className:"bg-red-600 h-2.5 rounded-full transition-all duration-200",style:{width:`${c.current/c.total*100}%`}})})]}),!c&&i.jsx("div",{className:"mb-2"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Q,{variant:"secondary",fullWidth:!0,onClick:o,disabled:u,children:l}),i.jsx(Q,{variant:a,fullWidth:!0,onClick:s,disabled:u,children:u?"Deleting...":r})]})]})]}),document.body):null}async function E0(e,t=Kt.TARGET_IMAGE_WIDTH_PX){return new Promise((n,r)=>{const l=new FileReader;l.onload=s=>{var a;const o=new Image;o.onload=()=>{const u=document.createElement("canvas");let c=o.width,m=o.height;c>t&&(m=m*t/c,c=t),u.width=c,u.height=m,u.getContext("2d").drawImage(o,0,0,c,m);const p=u.toDataURL("image/jpeg",.85);n(p.split(",")[1])},o.onerror=r,o.src=(a=s.target)==null?void 0:a.result},l.onerror=r,l.readAsDataURL(e)})}function _0(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{const l=r.result.split(",")[1];t(l)},r.onerror=n,r.readAsDataURL(e)})}async function b0(e,t=.9){return new Promise(n=>{e.toBlob(async r=>{if(r){const l=await _0(r);n(l)}},"image/jpeg",t)})}class P0{async processImage(t){const n=await E0(t);return{fileName:t.name,mimeType:"image/jpeg",base64:n}}async processMultipleImages(t){return Promise.all(t.map(n=>this.processImage(n)))}}const xu=new P0;class L0{async createArticle(t,n,r,l,s,o,a){const u=await xu.processImage(r),c={auteur:t,texte:n,image:u,date:l,famileo_post_id:s,assembly_state:o||null,full_page:a||!1};return ht.create(c)}async updateArticle(t,n,r,l,s,o,a){const u={id:t,texte:n,date:l,assembly_state:s,full_page:o,status:a};return r&&(u.image=await xu.processImage(r)),ht.update(u)}async deleteArticle(t){await ht.delete(t)}async restoreArticle(t){return ht.update({id:t,status:"ACTIVE"})}}const kt=new L0;function D0(e){if(!e)return"";if(e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w200`}return e}function T0(e,t){if(t){const r=t.startsWith("blob:")||t.startsWith("data:")?t:D0(t);return i.jsx("img",{src:r,alt:e,className:"w-10 h-10 rounded-full object-cover border-2 border-primary-200 flex-shrink-0"})}const n=e.split(" ").map(r=>r[0]).join("").toUpperCase().substring(0,2);return i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-sm font-semibold text-primary-700",children:n})})}function I0({article:e,onDeleted:t,onRestored:n,selectionMode:r,selected:l,onSelectionChange:s}){const o=Ae(),{user:a}=Pt(),{profile:u,avatarBlobUrl:c}=sf(),{src:m,isLoading:d,error:p}=C0(e.image_url,e.image_file_id),[y,x]=v.useState(!1),[j,k]=v.useState(!1),[h,f]=v.useState(!1),[g,S]=v.useState(!1),w=e.status==="DELETED",b=W=>{W.stopPropagation(),o(`/editor/${e.id}`)},C=()=>{o(`/editor/${e.id}`)},_=W=>{W.stopPropagation(),x(!0)},O=async()=>{k(!0);try{await kt.deleteArticle(e.id),x(!1),t==null||t(e.id)}catch(W){console.error("Failed to delete article:",W)}finally{k(!1)}},I=W=>{W.stopPropagation(),f(!0)},K=async()=>{S(!0);try{await kt.restoreArticle(e.id),f(!1),n==null||n(e.id)}catch(W){console.error("Failed to restore article:",W)}finally{S(!1)}},G=e.author_pseudo||"Unknown",M=(a==null?void 0:a.email)===e.auteur&&c||void 0,Z=W=>{W.stopPropagation(),s==null||s(e.id,W.target.checked)};return i.jsxs("div",{className:"px-4 mb-4",children:[i.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border hover:shadow-lg transition-shadow max-w-2xl mx-auto relative z-0 ${w?"border-red-300":l?"border-primary-500 ring-2 ring-primary-200":"border-gray-200"}`,onClick:r?()=>s==null?void 0:s(e.id,!l):void 0,children:[(w||e.famileo_post_id)&&i.jsxs("div",{className:"flex",children:[e.famileo_post_id&&i.jsx("div",{className:"flex-1 bg-purple-500 text-white text-xs font-semibold px-2 py-1 text-center",children:"Famileo"}),w&&i.jsx("div",{className:"flex-1 bg-red-500 text-white text-xs font-semibold px-2 py-1 text-center",children:"Deleted"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r&&i.jsx("input",{type:"checkbox",checked:l,onChange:Z,onClick:W=>W.stopPropagation(),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 flex-shrink-0"}),T0(G,M),i.jsxs("div",{className:"flex flex-col min-w-0",children:[i.jsx("span",{className:"font-semibold text-gray-900",children:G}),i.jsx("span",{className:"text-sm text-gray-500",children:hf(e.date)})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:b,className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Edit article",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),w?i.jsx("button",{onClick:I,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Restore article",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}):i.jsx("button",{onClick:_,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors flex-shrink-0 touch-manipulation","aria-label":"Delete article",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),i.jsxs("div",{onClick:C,className:"w-full cursor-pointer bg-gray-50 relative",children:[d&&!p&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),p?i.jsxs("div",{className:"p-8 text-center text-gray-500",children:[i.jsx("p",{className:"text-sm",children:"Failed to load image"}),i.jsxs("p",{className:"text-xs mt-1",children:["FileId: ",e.image_file_id]})]}):m&&i.jsx("img",{src:m,alt:"",className:"w-full h-auto object-contain",loading:"lazy"})]}),e.texte&&i.jsx("div",{onClick:C,className:"p-4 transition-colors cursor-pointer hover:bg-gray-50",children:i.jsx("p",{className:"whitespace-pre-wrap text-gray-900",children:e.texte})})]}),i.jsx(hn,{isOpen:y,title:"Delete article?",message:"The article will be marked as deleted. You can find it later by enabling the 'Show deleted' filter.",confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:O,onCancel:()=>x(!1),variant:"danger",isLoading:j}),i.jsx(hn,{isOpen:h,title:"Restore article?",message:"The article will be restored and visible again in your timeline.",confirmLabel:"Restore",cancelLabel:"Cancel",onConfirm:K,onCancel:()=>f(!1),isLoading:g})]})}function R0(){return i.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No articles yet"}),i.jsx("p",{className:"text-gray-600",children:"Tap the + button to create your first photo article"})]})}function z0({monthYear:e}){return i.jsx("div",{className:"bg-gray-100 px-4 pt-3 pb-2 sticky top-[108px] z-10",children:i.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:e})})}function yn({onMenuClick:e}){const t=Ae(),[n,r]=v.useState(!1),l=v.useRef(null);v.useEffect(()=>{function o(a){l.current&&!l.current.contains(a.target)&&r(!1)}if(n)return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[n]);const s=o=>{r(!1),t(o)};return i.jsxs(i.Fragment,{children:[i.jsxs("header",{className:"bg-primary-600 text-white px-4 h-14 flex items-center fixed top-0 left-0 right-0 z-30 shadow-md max-w-content mx-auto",children:[i.jsx("div",{className:"w-10"}),i.jsx("h1",{className:"flex-1 text-xl font-bold leading-none text-center",children:"Rememly"}),i.jsxs("div",{className:"relative",ref:l,children:[i.jsx("button",{onClick:()=>r(!n),className:"p-2 hover:bg-primary-700 rounded-lg transition-colors touch-manipulation flex items-center justify-center","aria-label":"Menu",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})}),n&&i.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-2 text-gray-800 z-30",children:[i.jsxs("button",{onClick:()=>s("/profile"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),i.jsx("span",{children:"Profile"})]}),i.jsxs("button",{onClick:()=>s("/stats"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),i.jsx("span",{children:"Statistics"})]}),i.jsxs("button",{onClick:()=>s("/famileo"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[i.jsx("svg",{className:"w-5 h-5 text-orange-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),i.jsx("span",{children:"Famileo Scraper"})]}),i.jsxs("button",{onClick:()=>s("/pdf-export"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[i.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("span",{children:"PDF Export"})]}),i.jsxs("button",{onClick:()=>s("/settings"),className:"w-full px-4 py-3 text-left hover:bg-gray-100 flex items-center gap-3 transition-colors",children:[i.jsxs("svg",{className:"w-5 h-5 text-gray-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i.jsx("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),i.jsx("span",{children:"Paramtres"})]}),i.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2 px-4 py-2",children:i.jsxs("p",{className:"text-xs text-gray-400",children:["v","1.2.0"," / backend @","82"]})})]})]})]}),i.jsx("div",{className:"h-14 flex-shrink-0"})]})}function F0({isOpen:e,onClose:t,title:n,children:r}){return v.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),i.jsxs("div",{className:"relative bg-white rounded-t-2xl sm:rounded-2xl w-full sm:max-w-lg max-h-[85vh] sm:max-h-[90vh] flex flex-col shadow-xl",children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 touch-manipulation p-2",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:r})]})]}):null}const Ur=v.forwardRef(({label:e,error:t,className:n="",...r},l)=>i.jsxs("div",{className:"w-full",children:[e&&i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),i.jsx("input",{ref:l,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"border-red-500":"border-gray-300"} ${n}`,...r}),t&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]}));Ur.displayName="Input";const he={year:"",month:"",dateFrom:"",dateTo:"",statusFilter:"active",sourceFilter:"all"};function M0({initialFilters:e,onApply:t,onClose:n}){const[r,l]=v.useState((e==null?void 0:e.year)??he.year),[s,o]=v.useState((e==null?void 0:e.month)??he.month),[a,u]=v.useState((e==null?void 0:e.dateFrom)??he.dateFrom),[c,m]=v.useState((e==null?void 0:e.dateTo)??he.dateTo),[d,p]=v.useState((e==null?void 0:e.statusFilter)??he.statusFilter),[y,x]=v.useState((e==null?void 0:e.sourceFilter)??he.sourceFilter);v.useEffect(()=>{e&&(l(e.year??he.year),o(e.month??he.month),u(e.dateFrom??he.dateFrom),m(e.dateTo??he.dateTo),p(e.statusFilter??he.statusFilter),x(e.sourceFilter??he.sourceFilter))},[e]);const j=()=>{t({year:r,month:s,dateFrom:a,dateTo:c,statusFilter:d,sourceFilter:y}),n()},k=()=>{l(he.year),o(he.month),u(he.dateFrom),m(he.dateTo),p(he.statusFilter),x(he.sourceFilter),t(he),n()};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),i.jsxs("select",{value:r,onChange:h=>{l(h.target.value),h.target.value||o("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"All years"}),[...Array(10)].map((h,f)=>{const g=dr()-f;return i.jsx("option",{value:g,children:g},g)})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),i.jsxs("select",{value:s,onChange:h=>o(h.target.value),disabled:!r,className:`w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${r?"":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[i.jsx("option",{value:"",children:"All months"}),Gi.map((h,f)=>i.jsx("option",{value:(f+1).toString().padStart(2,"0"),children:h},f))]}),!r&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a year first"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ur,{type:"date",label:"From",value:a,onChange:h=>u(h.target.value)}),i.jsx(Ur,{type:"date",label:"To",value:c,onChange:h=>m(h.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),i.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[i.jsx("button",{type:"button",onClick:()=>p("active"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${d==="active"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Active"}),i.jsx("button",{type:"button",onClick:()=>p("all"),className:`flex-1 px-3 py-2 text-sm font-medium border-x border-gray-300 transition-colors ${d==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"All"}),i.jsx("button",{type:"button",onClick:()=>p("deleted"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${d==="deleted"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Deleted"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source"}),i.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[i.jsx("button",{type:"button",onClick:()=>x("all"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${y==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"All"}),i.jsx("button",{type:"button",onClick:()=>x("famileo"),className:`flex-1 px-3 py-2 text-sm font-medium border-x border-gray-300 transition-colors ${y==="famileo"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Famileo"}),i.jsx("button",{type:"button",onClick:()=>x("local"),className:`flex-1 px-3 py-2 text-sm font-medium transition-colors ${y==="local"?"bg-primary-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Local"})]})]})]}),i.jsxs("div",{className:"border-t border-gray-200 p-4 space-y-2",children:[i.jsx(Q,{onClick:j,fullWidth:!0,children:"Apply Filters"}),i.jsx(Q,{variant:"secondary",onClick:k,fullWidth:!0,children:"Reset"})]})]})}function gf({checked:e,onChange:t,label:n,disabled:r=!1}){return i.jsxs("label",{className:`flex items-center gap-2 cursor-pointer ${r?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ${e?"bg-primary-600":"bg-gray-300"}`,onClick:()=>!r&&t(!e),children:i.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200 ${e?"translate-x-5":"translate-x-0"}`})}),n&&i.jsx("span",{className:"text-sm text-gray-700 select-none",children:n})]})}function A0(){const e=Ae(),{logout:t}=Pt(),[n,r]=v.useState(!1),[l,s]=v.useState(!1),[o,a]=v.useState(new Set),[u,c]=v.useState(!1),[m,d]=v.useState(!1),[p,y]=v.useState(!1),[x,j]=v.useState(null),{articles:k,isLoading:h,error:f,cursor:g,hasMore:S,filters:w,setArticles:b,addArticles:C,setLoading:_,setError:O,setFilters:I}=dt(),K=v.useRef(),G=v.useRef(!1),U=v.useRef(null),[M,Z]=v.useState(!1);v.useEffect(()=>{G.current=h},[h]),v.useEffect(()=>{U.current=g},[g]);const W=async()=>{_(!0),O(null),console.log("Loading articles with filters:",w);try{const D=await ht.list({year:w.year||void 0,month:w.month,from:w.from,to:w.to,limit:String(Kt.ARTICLES_PER_PAGE),status_filter:w.statusFilter||"active",source_filter:w.sourceFilter||"all"});console.log("Received articles:",D.items.length,"cursor:",D.next_cursor),b(D.items,D.next_cursor)}catch(D){O(D instanceof Error?D.message:"Failed to load articles")}finally{_(!1)}},re=v.useCallback(async()=>{const D=U.current;if(!(!D||G.current)){G.current=!0,Z(!0),console.log("loadMore called with cursor:",D);try{const z=await ht.list({year:w.year||void 0,month:w.month,from:w.from,to:w.to,cursor:D,limit:String(Kt.ARTICLES_PER_PAGE),status_filter:w.statusFilter||"active",source_filter:w.sourceFilter||"all"});console.log("Loaded more articles:",z.items.length,"next cursor:",z.next_cursor),U.current=z.next_cursor,C(z.items,z.next_cursor)}catch(z){O(z instanceof Error?z.message:"Failed to load more")}finally{G.current=!1,Z(!1)}}},[w.year,w.month,w.from,w.to,w.statusFilter,w.sourceFilter,C,O]),P=v.useCallback(D=>{K.current&&K.current.disconnect(),D&&(K.current=new IntersectionObserver(z=>{z[0].isIntersecting&&!G.current&&U.current&&(console.log("Sentinel visible, loading more..."),re())},{threshold:1,rootMargin:"0px"}),K.current.observe(D))},[re]),R=D=>{console.log("Applying filters:",D),b([]),I({year:D.year,month:D.month,from:D.dateFrom,to:D.dateTo,statusFilter:D.statusFilter,sourceFilter:D.sourceFilter})},F=D=>{if(w.statusFilter==="active"||!w.statusFilter)dt.getState().deleteArticle(D);else{const z=k.find(xe=>xe.id===D);z&&dt.getState().updateArticle({...z,status:"DELETED"})}},H=D=>{if(w.statusFilter==="deleted")dt.getState().deleteArticle(D);else{const z=k.find(xe=>xe.id===D);z&&dt.getState().updateArticle({...z,status:"ACTIVE"})}},X=(D,z)=>{a(xe=>{const N=new Set(xe);return z?N.add(D):N.delete(D),N})},Oe=()=>{o.size===k.length?a(new Set):a(new Set(k.map(D=>D.id)))},ae=()=>{s(!1),a(new Set)},Ue=D=>{s(D),D||a(new Set)},T=async()=>{c(!0);const D=Array.from(o);j({current:0,total:D.length});try{for(let z=0;z<D.length;z++)await kt.deleteArticle(D[z]),j({current:z+1,total:D.length});w.statusFilter==="active"||!w.statusFilter?o.forEach(z=>dt.getState().deleteArticle(z)):o.forEach(z=>{const xe=k.find(N=>N.id===z);xe&&dt.getState().updateArticle({...xe,status:"DELETED"})}),ae()}catch(z){console.error("Bulk delete failed:",z)}finally{c(!1),j(null),d(!1)}},B=async()=>{c(!0);const D=Array.from(o);j({current:0,total:D.length});try{for(let z=0;z<D.length;z++)await ht.permanentDelete(D[z]),j({current:z+1,total:D.length});o.forEach(z=>dt.getState().deleteArticle(z)),ae()}catch(z){console.error("Bulk permanent delete failed:",z)}finally{c(!1),j(null),y(!1)}},J=w.statusFilter==="deleted",ke=w.year||w.month||w.from||w.to||w.statusFilter&&w.statusFilter!=="active"||w.sourceFilter&&w.sourceFilter!=="all",Qe={year:w.year||"",month:w.month||"",dateFrom:w.from||"",dateTo:w.to||"",statusFilter:w.statusFilter||"active",sourceFilter:w.sourceFilter||"all"};return v.useEffect(()=>{console.log("Filters changed, reloading articles:",w),W()},[w.year,w.month,w.from,w.to,w.statusFilter,w.sourceFilter]),h&&k.length===0?i.jsx(vn,{message:"Loading articles..."}):f&&k.length===0?i.jsx("div",{className:"h-full flex items-center justify-center p-6",children:i.jsx(mf,{message:f,onRetry:W})}):i.jsxs("div",{className:"min-h-screen flex flex-col",children:[i.jsx(yn,{}),i.jsxs("div",{className:"bg-white border-b border-gray-300 px-4 py-3 flex items-center justify-between fixed top-[56px] left-0 right-0 z-[25] max-w-content mx-auto",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:l?`${o.size} selected`:w.year||"All years"}),i.jsxs("div",{className:"flex items-center gap-4",children:[l?i.jsx("button",{onClick:Oe,className:"text-primary-600 hover:text-primary-700 touch-manipulation text-sm font-medium",children:o.size===k.length?"Deselect all":"Select all"}):i.jsxs("button",{onClick:()=>r(!0),className:`touch-manipulation flex items-center gap-2 ${ke?"text-white bg-primary-600 hover:bg-primary-700 px-3 py-1.5 rounded-lg font-medium":"text-primary-600 hover:text-primary-700"}`,children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filter",ke&&i.jsx("span",{className:"ml-1 bg-white text-primary-600 text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:"!"})]}),k.length>0&&i.jsx(gf,{checked:l,onChange:Ue,label:"Select"})]})]}),i.jsx("div",{className:"h-[36px]"}),i.jsx("div",{className:"flex-1 pb-20",children:k.length===0?i.jsx(R0,{}):i.jsxs(i.Fragment,{children:[k.map((D,z)=>{const xe=vu(D.date),N=z>0?vu(k[z-1].date):null,A=xe!==N;return i.jsxs(v.Fragment,{children:[A&&i.jsx(z0,{monthYear:pf(D.date)}),i.jsx("div",{className:`relative z-0 ${A?"pt-8":""}`,children:i.jsx(I0,{article:D,onDeleted:F,onRestored:H,selectionMode:l,selected:o.has(D.id),onSelectionChange:X})})]},D.id)}),S&&!M&&i.jsx("div",{ref:P,className:"h-4"})]})}),M&&i.jsx("div",{className:"fixed bottom-24 left-0 right-0 flex justify-center z-50",children:i.jsx("div",{className:"bg-gray-100 shadow-lg rounded-full p-3 border border-gray-200",children:i.jsx(of,{})})}),l&&o.size>0&&i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 z-50 shadow-lg",children:i.jsxs("div",{className:"max-w-content mx-auto flex items-center justify-between gap-4",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:[o.size," article",o.size>1?"s":""," selected"]}),i.jsx("div",{className:"flex gap-2",children:J?i.jsx("button",{onClick:()=>y(!0),disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 font-medium",children:u?"Deleting...":"Delete permanently"}):i.jsx("button",{onClick:()=>d(!0),disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 font-medium",children:u?"Deleting...":"Delete"})})]})}),!l&&i.jsx(k0,{onClick:()=>e("/editor")}),i.jsx(hn,{isOpen:m,title:"Delete articles?",message:`${o.size} article${o.size>1?"s":""} will be marked as deleted. You can find them later by enabling the 'Show deleted' filter.`,confirmLabel:"Delete",cancelLabel:"Cancel",onConfirm:T,onCancel:()=>d(!1),variant:"danger",isLoading:u,progress:x}),i.jsx(hn,{isOpen:p,title:"Permanently delete articles?",message:` WARNING: ${o.size} article${o.size>1?"s":""} will be permanently removed from the database. This action cannot be undone!`,confirmLabel:"Delete permanently",cancelLabel:"Cancel",onConfirm:B,onCancel:()=>y(!1),variant:"danger",isLoading:u,progress:x}),i.jsx(F0,{isOpen:n,onClose:()=>r(!1),title:"Filters",children:i.jsx(M0,{initialFilters:Qe,onApply:R,onClose:()=>r(!1)})})]})}const Vo=(e,t)=>t.some(n=>e instanceof n);let wu,Su;function O0(){return wu||(wu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U0(){return Su||(Su=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ho=new WeakMap,Gs=new WeakMap,ps=new WeakMap;function B0(e){const t=new Promise((n,r)=>{const l=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(an(e.result)),l()},o=()=>{r(e.error),l()};e.addEventListener("success",s),e.addEventListener("error",o)});return ps.set(t,e),t}function $0(e){if(Ho.has(e))return;const t=new Promise((n,r)=>{const l=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),l()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),l()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Ho.set(e,t)}let Go={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ho.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return an(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function vf(e){Go=e(Go)}function W0(e){return U0().includes(e)?function(...t){return e.apply(Qo(this),t),an(this.request)}:function(...t){return an(e.apply(Qo(this),t))}}function V0(e){return typeof e=="function"?W0(e):(e instanceof IDBTransaction&&$0(e),Vo(e,O0())?new Proxy(e,Go):e)}function an(e){if(e instanceof IDBRequest)return B0(e);if(Gs.has(e))return Gs.get(e);const t=V0(e);return t!==e&&(Gs.set(e,t),ps.set(t,e)),t}const Qo=e=>ps.get(e);function H0(e,t,{blocked:n,upgrade:r,blocking:l,terminated:s}={}){const o=indexedDB.open(e,t),a=an(o);return r&&o.addEventListener("upgradeneeded",u=>{r(an(o.result),u.oldVersion,u.newVersion,an(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),l&&u.addEventListener("versionchange",c=>l(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const G0=["get","getKey","getAll","getAllKeys","count"],Q0=["put","add","delete","clear"],Qs=new Map;function ju(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qs.get(t))return Qs.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=Q0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||G0.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,l?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),l&&u.done]))[0]};return Qs.set(t,s),s}vf(e=>({...e,get:(t,n,r)=>ju(t,n)||e.get(t,n,r),has:(t,n)=>!!ju(t,n)||e.has(t,n)}));const K0=["continue","continuePrimaryKey","advance"],ku={},Ko=new WeakMap,yf=new WeakMap,Y0={get(e,t){if(!K0.includes(t))return e[t];let n=ku[t];return n||(n=ku[t]=function(...r){Ko.set(this,yf.get(this)[t](...r))}),n}};async function*Z0(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,Y0);for(yf.set(n,t),ps.set(n,Qo(t));t;)yield n,t=await(Ko.get(n)||t.continue()),Ko.delete(n)}function Nu(e,t){return t===Symbol.asyncIterator&&Vo(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Vo(e,[IDBIndex,IDBObjectStore])}vf(e=>({...e,get(t,n,r){return Nu(t,n)?Z0:e.get(t,n,r)},has(t,n){return Nu(t,n)||e.has(t,n)}}));class X0{constructor(){gs(this,"dbPromise");this.dbPromise=H0("rememly-db",1,{upgrade(t){t.objectStoreNames.contains("drafts")||t.createObjectStore("drafts",{keyPath:"id"}),t.objectStoreNames.contains("assemblyStates")||t.createObjectStore("assemblyStates",{keyPath:"articleId"})}})}async saveDraft(t){await(await this.dbPromise).put("drafts",{...t,timestamp:Date.now()})}async getDraft(t){return(await this.dbPromise).get("drafts",t)}async deleteDraft(t){await(await this.dbPromise).delete("drafts",t)}async saveAssemblyState(t,n){await(await this.dbPromise).put("assemblyStates",{articleId:t,state:n,timestamp:Date.now()})}async getAssemblyState(t){const r=await(await this.dbPromise).get("assemblyStates",t);return r==null?void 0:r.state}async deleteAssemblyState(t){await(await this.dbPromise).delete("assemblyStates",t)}}const J0=new X0,Xn=Qi(e=>({toast:null,showToast:(t,n)=>{e({toast:{message:t,type:n}}),setTimeout(()=>e({toast:null}),3e3)},hideToast:()=>e({toast:null})}));function q0(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}async function eg(e){return new Promise(t=>{const n=new FileReader;n.onload=r=>{var l,s;try{const o=new DataView((l=r.target)==null?void 0:l.result);if(o.getUint16(0,!1)!==65496){t(null);return}let a=2;const u=o.byteLength;for(;a<u;){if(o.getUint8(a)!==255){t(null);return}if(o.getUint8(a+1)===225){const m=o.getUint16(a+2,!1),d=new DataView((s=r.target)==null?void 0:s.result,a+4,m-2);if(String.fromCharCode(d.getUint8(0),d.getUint8(1),d.getUint8(2),d.getUint8(3))!=="Exif"){t(null);return}const y=6,x=d.getUint16(y,!1)===18761,j=d.getUint32(y+4,x),k=d.getUint16(y+j,x);for(let h=0;h<k;h++){const f=y+j+2+h*12,g=d.getUint16(f,x);if(g===34665){const S=d.getUint32(f+8,x),w=d.getUint16(y+S,x);for(let b=0;b<w;b++){const C=y+S+2+b*12,_=d.getUint16(C,x);if(_===36867||_===36868){const O=d.getUint32(C+8,x);let I="";for(let U=0;U<19;U++)I+=String.fromCharCode(d.getUint8(y+O+U));const K=I.replace(/^(\d{4}):(\d{2}):(\d{2})/,"$1-$2-$3"),G=new Date(K);if(!isNaN(G.getTime())){t(G);return}}}}if(g===306){const S=d.getUint32(f+8,x);let w="";for(let _=0;_<19;_++)w+=String.fromCharCode(d.getUint8(y+S+_));const b=w.replace(/^(\d{4}):(\d{2}):(\d{2})/,"$1-$2-$3"),C=new Date(b);if(!isNaN(C.getTime())){t(C);return}}}t(null);return}a+=2+o.getUint16(a+2,!1)}t(null)}catch{t(null)}},n.onerror=()=>t(null),n.readAsArrayBuffer(e)})}function tg(e){if(!e)return console.warn("Empty image URL provided to PhotoPicker"),"";if(e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([^\/]+)/,/drive\.google\.com\/uc\?.*[&?]id=([^&]+)/,/drive\.google\.com\/open\?.*[&?]id=([^&]+)/,/lh3\.googleusercontent\.com\/d\/([^?&]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w2000`}return e}function ng({onPhotoSelected:e,currentImage:t}){const n=v.useRef(null),r=v.useRef(null),l=v.useRef(null),s=v.useRef(null),[o,a]=v.useState(!1),[u,c]=v.useState(!1),[m,d]=v.useState(null),p=q0();v.useEffect(()=>()=>{m&&m.getTracks().forEach(f=>f.stop())},[m]);const y=async f=>{var S;const g=(S=f.target.files)==null?void 0:S[0];if(g){const w=await eg(g);e(g,w||void 0),a(!1)}f.target.value=""},x=v.useCallback(async()=>{var f,g;if(p)(f=n.current)==null||f.click();else try{const S=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:720}}});d(S),c(!0),setTimeout(()=>{l.current&&(l.current.srcObject=S)},100)}catch(S){console.error("Error accessing webcam:",S),(g=n.current)==null||g.click()}},[p]),j=v.useCallback(()=>{if(l.current&&s.current){const f=l.current,g=s.current;g.width=f.videoWidth,g.height=f.videoHeight;const S=g.getContext("2d");S&&(S.drawImage(f,0,0),g.toBlob(async w=>{if(w){const b=new File([w],`webcam-${Date.now()}.jpg`,{type:"image/jpeg"});e(b,new Date),k(),a(!1)}},"image/jpeg",.9))}},[e]),k=v.useCallback(()=>{m&&(m.getTracks().forEach(f=>f.stop()),d(null)),c(!1)},[m]),h=()=>{var f;(f=r.current)==null||f.click()};return u?i.jsxs("div",{className:"w-full",children:[i.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[i.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-auto max-h-[50vh] object-contain"}),i.jsx("canvas",{ref:s,className:"hidden"})]}),i.jsxs("div",{className:"mt-4 flex gap-2",children:[i.jsx(Q,{onClick:j,fullWidth:!0,children:"Capture"}),i.jsx(Q,{variant:"secondary",onClick:k,fullWidth:!0,children:"Cancel"})]})]}):i.jsxs("div",{className:"w-full",children:[i.jsx("input",{ref:n,type:"file",accept:"image/*",capture:"environment",onChange:y,className:"hidden"}),i.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:y,className:"hidden"}),t?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:tg(t),alt:"Selected",className:"w-full h-auto rounded-lg max-h-[40vh] object-contain"}),i.jsxs("div",{className:"mt-4 flex gap-2",children:[i.jsx(Q,{variant:"secondary",fullWidth:!0,onClick:x,children:"Take Photo"}),i.jsx(Q,{variant:"secondary",fullWidth:!0,onClick:h,children:"Gallery"})]})]}):i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Add a photo"}),o?i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx(Q,{onClick:x,fullWidth:!0,children:"Take Photo"}),i.jsx(Q,{variant:"secondary",onClick:h,fullWidth:!0,children:"Choose from Gallery"}),i.jsx("button",{onClick:()=>a(!1),className:"text-sm text-gray-500 mt-2",children:"Cancel"})]}):i.jsx(Q,{onClick:()=>a(!0),children:"Select Photo"})]})]})}function rg({value:e,onChange:t}){const n=l=>{const s=l.target.value;s.length<=Kt.MAX_TEXT_LENGTH&&t(s)},r=Kt.MAX_TEXT_LENGTH-e.length;return i.jsxs("div",{className:"w-full",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Text (optional)"}),i.jsx("textarea",{value:e,onChange:n,placeholder:"Add a description...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4}),i.jsxs("div",{className:"mt-1 text-sm text-gray-500 text-right",children:[r," characters remaining"]})]})}function lg({value:e,onChange:t}){const n=s=>{const o=new Date(s),a=o.getFullYear(),u=String(o.getMonth()+1).padStart(2,"0"),c=String(o.getDate()).padStart(2,"0"),m=String(o.getHours()).padStart(2,"0"),d=String(o.getMinutes()).padStart(2,"0");return`${a}-${u}-${c}T${m}:${d}`},r=s=>new Date(s).toISOString(),l=s=>{t(r(s.target.value))};return i.jsxs("div",{className:"space-y-2 overflow-hidden",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date and time"}),i.jsx("input",{type:"datetime-local",value:n(e),onChange:l,className:"w-full min-w-0 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent box-border text-base",style:{maxWidth:"100%"}})]})}function Cu(){const{id:e}=kp(),t=Ae(),n=Kr(),{user:r}=Pt(),{updateArticle:l,deleteArticle:s}=dt(),{showToast:o}=Xn(),[a,u]=v.useState(""),[c,m]=v.useState(new Date().toISOString()),[d,p]=v.useState(null),[y,x]=v.useState(""),[j,k]=v.useState(!1),[h,f]=v.useState(!1),[g,S]=v.useState(!1),[w,b]=v.useState("ACTIVE"),C=!!e,_=w==="DELETED";v.useEffect(()=>{const M=n.state;if(M!=null&&M.famileoImport){const{text:Z,date:W,imageBase64:re,imageMimeType:P}=M.famileoImport;u(Z);const R=new Date(W.replace(" ","T"));if(isNaN(R.getTime())||m(R.toISOString()),re){const F=`data:${P};base64,${re}`;x(F),fetch(F).then(H=>H.blob()).then(H=>{const X=new File([H],"famileo-import.jpg",{type:P});p(X)})}window.history.replaceState({},document.title)}},[n.state]),v.useEffect(()=>{C&&O()},[e]);const O=async()=>{if(e){k(!0);try{const M=await ht.get(e);u(M.texte),m(M.date),x(M.image_url),b(M.status||"ACTIVE")}catch{o("Failed to load article","error"),t("/")}finally{k(!1)}}},I=(M,Z)=>{p(M);const W=URL.createObjectURL(M);x(W),Z&&!C&&m(Z.toISOString())},K=async()=>{if(!d&&!C){o("Please select a photo","error");return}if(r){f(!0);try{if(C&&e){const M=_?"ACTIVE":void 0,Z=await kt.updateArticle(e,a,d||void 0,c,void 0,void 0,M);l(Z),o(_?"Article restored":"Article updated","success")}else d&&(await kt.createArticle(r.email,a,d,c),o("Article created","success"));await J0.deleteDraft(e||"new"),t("/")}catch(M){o(M instanceof Error?M.message:"Failed to save article","error")}finally{f(!1)}}},G=()=>{y&&y.startsWith("blob:")&&URL.revokeObjectURL(y),t("/")},U=async()=>{if(e){f(!0);try{console.log("Deleting article:",e);const M=await kt.deleteArticle(e);console.log("Delete result:",M),s(e),o("Article deleted","success"),t("/")}catch(M){console.error("Delete error:",M),o(M instanceof Error?M.message:"Failed to delete article","error")}finally{f(!1),S(!1)}}};return j?i.jsx(vn,{message:"Loading article..."}):i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[i.jsx(yn,{}),i.jsxs("div",{className:"flex-1 flex flex-col max-w-content mx-auto w-full bg-white",children:[i.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between flex-shrink-0",children:[i.jsx("button",{onClick:G,className:"text-gray-600 touch-manipulation",disabled:h,children:" Back"}),i.jsx("h1",{className:"text-lg font-semibold",children:C?"Edit Article":"New Article"}),i.jsx("div",{className:"w-12"})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 space-y-6 pb-4",children:[i.jsx(ng,{onPhotoSelected:I,currentImage:y}),i.jsx(rg,{value:a,onChange:u}),i.jsx(lg,{value:c,onChange:m})]}),i.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2 flex-shrink-0",children:[i.jsx(Q,{onClick:K,disabled:h||!d&&!C,fullWidth:!0,children:h?"Saving...":_?"Save and restore":C?"Update":"Create"}),i.jsx(Q,{variant:"secondary",onClick:()=>t("/photo-assembly",{state:{editMode:C,articleId:e,texte:a,dateModification:c}}),disabled:h,fullWidth:!0,children:"Use Photo Assembly"}),C&&!_&&i.jsx(Q,{variant:"danger",onClick:()=>S(!0),disabled:h,fullWidth:!0,children:"Delete Article"}),i.jsx(Q,{variant:"secondary",onClick:G,disabled:h,fullWidth:!0,children:"Cancel"})]}),i.jsx(hn,{isOpen:g,title:"Delete Article",message:"Are you sure you want to delete this article? This action cannot be undone.",confirmLabel:"Delete",cancelLabel:"Cancel",variant:"danger",isLoading:h,onConfirm:U,onCancel:()=>S(!1)})]})]})}const mt={create:e=>se.post("pdf/create",e),process:e=>se.get("pdf/process",{job_id:e}),status:e=>se.get("pdf/status",{job_id:e}),list:e=>{const t=e?{date_from:e.date_from,date_to:e.date_to,author:e.author,include_in_progress:e.include_in_progress?"true":void 0}:void 0;return se.get("pdf/list",t)},delete:e=>se.post("pdf/delete",{job_id:e}),cancel:e=>se.post("pdf/cancel",{job_id:e})};class sg{async createPdf(t,n){return(await mt.create({from:t,to:n})).job_id}async pollJobStatus(t,n){return new Promise((r,l)=>{const s=async()=>{try{const o=await mt.status(t);n&&n(o),o.status==="DONE"?r(o):o.status==="ERROR"?l(new Error(o.error_message||"PDF generation failed")):setTimeout(s,Kt.PDF_POLL_INTERVAL_MS)}catch(o){l(o)}};s()})}}const Eu=new sg;function og(){const e=Ae(),{showToast:t}=Xn(),[n,r]=v.useState(!0),[l,s]=v.useState(null),[o,a]=v.useState([]),[u,c]=v.useState(0),[m,d]=v.useState(!1),[p,y]=v.useState(0);v.useEffect(()=>{x()},[]);const x=async()=>{r(!0),s(null);try{const k=dr(),h=await ht.list({year:k.toString(),limit:"1000"}),f={};h.items.forEach(S=>{const w=new Date(S.date).getMonth();f[w]=(f[w]||0)+1});const g=Kp.map((S,w)=>({month:S,count:f[w]||0}));a(g),c(h.items.length)}catch(k){s(k instanceof Error?k.message:"Failed to load statistics")}finally{r(!1)}},j=async()=>{d(!0),y(0);try{const k=dr(),h=`${k}-01-01`,f=`${k}-12-31`,g=await Eu.createPdf(h,f),S=await Eu.pollJobStatus(g,w=>{y(w.progress)});S.pdf_url&&(t("PDF generated successfully!","success"),window.open(S.pdf_url,"_blank"))}catch(k){t(k instanceof Error?k.message:"Failed to generate PDF","error")}finally{d(!1),y(0)}};return n?i.jsx(vn,{message:"Loading statistics..."}):l?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:i.jsx(mf,{message:l,onRetry:x})}):i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[i.jsx(yn,{}),i.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M15 19l-7-7 7-7"})})}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Statistics"})]})}),i.jsxs("div",{className:"flex-1 p-4 pb-20",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:dr()}),i.jsx("div",{className:"space-y-2 mb-6",children:o.map(k=>i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[i.jsx("span",{className:"text-gray-700",children:k.month}),i.jsx("span",{className:"font-semibold text-gray-900",children:k.count})]},k.month))}),i.jsxs("div",{className:"pt-4 border-t-2 border-gray-200 flex justify-between items-center",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),i.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[u," articles"]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 mt-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Export to PDF"}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Generate a PDF document with all articles from ",dr()]}),m&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[i.jsx("span",{children:"Generating PDF..."}),i.jsxs("span",{children:[p,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})})]}),i.jsx(Q,{onClick:j,disabled:m||u===0,fullWidth:!0,children:m?"Generating...":"Generate PDF"})]})]})]})}const Cl=[{id:"2x1-vertical",name:"21 Vertical",zones:[{x:0,y:0,width:100,height:50},{x:0,y:50,width:100,height:50}]},{id:"2x1-horizontal",name:"21 Horizontal",zones:[{x:0,y:0,width:50,height:100},{x:50,y:0,width:50,height:100}]},{id:"4x4-grid",name:"44 Grid",zones:[{x:0,y:0,width:50,height:50},{x:50,y:0,width:50,height:50},{x:0,y:50,width:50,height:50},{x:50,y:50,width:50,height:50}]},{id:"3-plus-2",name:"3 + 2",zones:[{x:0,y:0,width:100,height:33.33},{x:0,y:33.33,width:100,height:33.33},{x:0,y:66.66,width:50,height:33.34},{x:50,y:66.66,width:50,height:33.34}]},{id:"3-plus-2-plus-2",name:"3 + 2 + 2",zones:[{x:0,y:0,width:100,height:40},{x:0,y:40,width:50,height:30},{x:50,y:40,width:50,height:30},{x:0,y:70,width:50,height:30},{x:50,y:70,width:50,height:30}]}];class _u{constructor(t,n){gs(this,"state");this.state={templateId:t,photos:[],zoneStates:Array(n).fill(null).map(()=>({photoIndex:-1,zoom:1,x:0,y:0}))}}addPhoto(t){return this.state.photos.push(t),this.state.photos.length-1}assignPhotoToZone(t,n){n>=0&&n<this.state.zoneStates.length&&(this.state.zoneStates[n].photoIndex=t)}updateZoneTransform(t,n){if(t>=0&&t<this.state.zoneStates.length){const r=this.state.zoneStates[t];n.zoom!==void 0&&(r.zoom=n.zoom),n.x!==void 0&&(r.x=n.x),n.y!==void 0&&(r.y=n.y)}}getState(){return{...this.state}}getPhotoForZone(t){const n=this.state.zoneStates[t];return n.photoIndex>=0&&n.photoIndex<this.state.photos.length?this.state.photos[n.photoIndex]:null}isComplete(){return this.state.zoneStates.every(t=>t.photoIndex>=0)}serialize(){return{templateId:this.state.templateId,zoneStates:this.state.zoneStates}}}function ig({selectedTemplateId:e,onSelect:t}){return i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Select Layout"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:Cl.map(n=>i.jsx("button",{onClick:()=>t(n),className:`aspect-square border-2 rounded-lg p-2 transition-colors touch-manipulation ${n.id===e?"border-blue-600 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:i.jsx("div",{className:"text-xs text-center font-medium text-gray-700",children:n.name})},n.id))})]})}function ag({template:e,stateManager:t,onZoneClick:n}){const r=v.useRef(null),[l,s]=v.useState(new Map);v.useEffect(()=>{o()},[t]),v.useEffect(()=>{a()},[e,l]);const o=async()=>{const c=new Map,m=t.getState();for(let d=0;d<m.photos.length;d++){const p=m.photos[d],y=new Image,x=URL.createObjectURL(p);await new Promise(j=>{y.onload=()=>{c.set(d,y),j()},y.src=x})}s(c)},a=()=>{const c=r.current;if(!c)return;const m=c.getContext("2d");if(!m)return;const d=c.width,p=c.height;m.fillStyle="#f3f4f6",m.fillRect(0,0,d,p);const y=t.getState();e.zones.forEach((x,j)=>{const k=y.zoneStates[j],h=l.get(k.photoIndex),f=x.x/100*d,g=x.y/100*p,S=x.width/100*d,w=x.height/100*p;if(m.strokeStyle="#d1d5db",m.lineWidth=2,m.strokeRect(f,g,S,w),h){m.save(),m.beginPath(),m.rect(f,g,S,w),m.clip();const b=k.zoom,C=h.width*b,_=h.height*b,O=f+k.x+(S-C)/2,I=g+k.y+(w-_)/2;m.drawImage(h,O,I,C,_),m.restore()}else m.fillStyle="#e5e7eb",m.fillRect(f+2,g+2,S-4,w-4),m.fillStyle="#9ca3af",m.textAlign="center",m.textBaseline="middle",m.font="14px sans-serif",m.fillText("+",f+S/2,g+w/2)})},u=c=>{const m=r.current;if(!m)return;const d=m.getBoundingClientRect(),p=(c.clientX-d.left)/d.width*100,y=(c.clientY-d.top)/d.height*100,x=e.zones.findIndex(j=>p>=j.x&&p<=j.x+j.width&&y>=j.y&&y<=j.y+j.height);x>=0&&n(x)};return i.jsx("div",{className:"w-full bg-gray-100 rounded-lg overflow-hidden",children:i.jsx("canvas",{ref:r,width:Kt.TARGET_IMAGE_WIDTH_PX,height:Kt.TARGET_IMAGE_WIDTH_PX,onClick:u,className:"w-full h-auto cursor-pointer touch-manipulation"})})}function ug({zoneIndex:e,stateManager:t,onUpdate:n,onClose:r}){const s=t.getState().zoneStates[e],[o,a]=v.useState(s.zoom),u=m=>{a(m),t.updateZoneTransform(e,{zoom:m}),n()},c=()=>{t.updateZoneTransform(e,{zoom:1,x:0,y:0}),a(1),n()};return i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg z-20",children:i.jsxs("div",{className:"max-w-mobile mx-auto space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Zone ",e+1]}),i.jsx("button",{onClick:r,className:"text-gray-600 hover:text-gray-900",children:""})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-gray-600 mb-2",children:["Zoom: ",o.toFixed(1),"x"]}),i.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:o,onChange:m=>u(parseFloat(m.target.value)),className:"w-full"})]}),i.jsx("button",{onClick:c,className:"w-full px-4 py-2 bg-gray-200 text-gray-900 rounded-lg hover:bg-gray-300",children:"Reset Zone"})]})})}function cg({onAddPhoto:e,onValidate:t,onCancel:n,isValid:r}){return i.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2",children:[i.jsx(Q,{onClick:e,variant:"secondary",fullWidth:!0,children:"Add Photo"}),i.jsx(Q,{onClick:t,disabled:!r,fullWidth:!0,children:"Validate Assembly"}),i.jsx(Q,{onClick:n,variant:"secondary",fullWidth:!0,children:"Cancel"})]})}function dg({onComplete:e,onCancel:t}){Ae();const{showToast:n}=Xn(),r=v.useRef(null),[l,s]=v.useState(Cl[0]),[o,a]=v.useState(()=>new _u(Cl[0].id,Cl[0].zones.length)),[u,c]=v.useState(null),[m,d]=v.useState(0),p=f=>{s(f),a(new _u(f.id,f.zones.length)),c(null),d(g=>g+1)},y=()=>{var f;(f=r.current)==null||f.click()},x=f=>{const g=Array.from(f.target.files||[]);if(g.length===0)return;const S=g[0],w=o.addPhoto(S),C=o.getState().zoneStates.findIndex(_=>_.photoIndex===-1);C>=0&&(o.assignPhotoToZone(w,C),d(_=>_+1)),f.target.value=""},j=f=>{c(f)},k=()=>{d(f=>f+1)},h=async()=>{if(!o.isComplete()){n("Please fill all zones","error");return}try{const f=document.querySelector("canvas");if(!f){n("Failed to generate image","error");return}const g=await b0(f,.9),S=o.serialize();e(g,S)}catch{n("Failed to create assembly","error")}};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[i.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center sticky top-0 z-10",children:[i.jsx("button",{onClick:t,className:"text-gray-600 touch-manipulation",children:" Back"}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Photo Assembly"})]}),i.jsxs("div",{className:"flex-1 pb-32",children:[i.jsx(ig,{selectedTemplateId:l.id,onSelect:p}),i.jsx("div",{className:"p-4",children:i.jsx(ag,{template:l,stateManager:o,onZoneClick:j},m)})]}),u!==null&&i.jsx(ug,{zoneIndex:u,stateManager:o,onUpdate:k,onClose:()=>c(null)}),i.jsx(cg,{onAddPhoto:y,onValidate:h,onCancel:t,isValid:o.isComplete()}),i.jsx("input",{ref:r,type:"file",accept:"image/*",capture:"environment",onChange:x,className:"hidden"})]})}function fg(){var d,p,y,x;const e=Ae(),t=Kr(),{user:n}=Pt(),{updateArticle:r}=dt(),{showToast:l}=Xn(),s=((d=t.state)==null?void 0:d.editMode)||!1,o=(p=t.state)==null?void 0:p.articleId,a=((y=t.state)==null?void 0:y.texte)||"",u=((x=t.state)==null?void 0:x.dateModification)||new Date().toISOString(),c=async(j,k)=>{if(n)try{const h=`data:image/jpeg;base64,${j}`,g=await(await fetch(h)).blob(),S=new File([g],"assembled.jpg",{type:"image/jpeg"});if(s&&o){const w=await kt.updateArticle(o,a,S,u,k);r(w),l("Article updated","success")}else await kt.createArticle(n.name,a,S,u,void 0,k),l("Article created","success");e("/")}catch(h){l(h instanceof Error?h.message:"Failed to save article","error")}},m=()=>{e(s&&o?`/editor/${o}`:"/editor")};return i.jsx(dg,{onComplete:c,onCancel:m})}function mg(e){if(!e||e.startsWith("blob:")||e.includes("drive.google.com/thumbnail"))return e;const t=[/drive\.google\.com\/file\/d\/([A-Za-z0-9_-]+)/,/drive\.google\.com\/uc\?.*id=([A-Za-z0-9_-]+)/,/drive\.google\.com\/open\?.*id=([A-Za-z0-9_-]+)/,/lh3\.googleusercontent\.com\/d\/([A-Za-z0-9_-]+)/];for(const n of t){const r=e.match(n);if(r&&r[1])return`https://drive.google.com/thumbnail?id=${r[1]}&sz=w2000`}return e}function hg(){const e=Ae(),{user:t,logout:n}=Pt(),{showToast:r}=Xn(),{profile:l,isLoading:s,saveProfile:o,avatarBlobUrl:a}=sf(),[u,c]=v.useState(""),[m,d]=v.useState(null),[p,y]=v.useState(""),[x,j]=v.useState(!1);v.useEffect(()=>{l?(c(l.pseudo),y(a||l.avatar_url)):t&&c(t.name)},[l,t,a]);const k=g=>{var b;const S=(b=g.target.files)==null?void 0:b[0];if(!S)return;d(S);const w=URL.createObjectURL(S);y(w)},h=async()=>{if(!u.trim()){r("Please enter a pseudo","error");return}j(!0);try{await o(u.trim(),m||void 0),r("Profile saved","success"),e("/")}catch{r("Failed to save profile","error")}finally{j(!1)}},f=()=>{n()};return s?i.jsx(vn,{message:"Loading profile..."}):i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[i.jsx(yn,{}),i.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M15 19l-7-7 7-7"})})}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile"})]})}),i.jsxs("div",{className:"flex-1 p-4 space-y-6 pb-32 max-w-md mx-auto w-full",children:[i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsxs("div",{className:"relative",children:[p?i.jsx("img",{src:mg(p),alt:"Avatar",className:"w-32 h-32 rounded-full object-cover border-4 border-primary-200"}):i.jsx("div",{className:"w-32 h-32 rounded-full bg-primary-100 flex items-center justify-center border-4 border-primary-200",children:i.jsx("span",{className:"text-4xl font-semibold text-primary-600",children:u.charAt(0).toUpperCase()||"?"})}),i.jsx("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:i.jsxs("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),i.jsx("path",{d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})}),i.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:k,className:"hidden"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Click to change avatar"})]}),i.jsx("div",{children:i.jsx(Ur,{label:"Pseudo",value:u,onChange:g=>c(g.target.value),placeholder:"Enter your pseudo"})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backend URL"}),i.jsx("input",{type:"text",value:"https://script.google.com/macros/s/AKfycbyBK-9iXQ7bXvd26EN4qCz6DT2V_Z9pniGS2qrLaBP7pqXIQ29hGtmnQj2PP2LYCPHf/exec",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600 text-xs"})]})]}),i.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 space-y-2 sticky bottom-0",children:[i.jsx(Q,{onClick:h,disabled:x||!u.trim(),fullWidth:!0,children:x?"Saving...":"Save Profile"}),i.jsx(Q,{variant:"danger",onClick:f,disabled:x,fullWidth:!0,children:"Logout"})]})]})}const wn={status:()=>se.get("famileo/status"),posts:e=>se.get("famileo/posts",e),image:e=>se.get("famileo/image",{url:encodeURIComponent(e)}),triggerRefresh:()=>se.get("famileo/trigger-refresh"),families:()=>se.get("famileo/families"),importedIds:()=>se.get("famileo/imported-ids")};function pg({post:e,selected:t,onSelectionChange:n,onImageLoaded:r,cachedImage:l,alreadyImported:s}){const[o,a]=v.useState(!1),[u,c]=v.useState(null),[m,d]=v.useState(!1);v.useEffect(()=>{if(l){c(`data:${l.mimeType};base64,${l.base64}`);return}(async()=>{if(!(u||o||m)){a(!0);try{const x=await wn.image(e.image_url);c(`data:${x.mimeType};base64,${x.base64}`),r(e.id,x.base64,x.mimeType)}catch{d(!0)}finally{a(!1)}}})()},[e.id,e.image_url,l]);const p=e.author_pseudo.split(" ").map(y=>y[0]).join("").toUpperCase().substring(0,2);return i.jsx("div",{className:"px-4",children:i.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border-2 transition-colors ${t?"border-primary-500 bg-primary-50":"border-gray-200"}`,children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("input",{type:"checkbox",checked:t,onChange:y=>n(y.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 flex-shrink-0"}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-sm font-semibold text-orange-700",children:p})}),i.jsxs("div",{className:"flex flex-col min-w-0",children:[i.jsx("span",{className:"font-semibold text-gray-900",children:e.author_pseudo}),i.jsx("span",{className:"text-sm text-gray-500",children:hf(e.date)})]})]}),s&&i.jsx("div",{className:"flex-shrink-0 ml-2",children:i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[i.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Import"]})})]}),i.jsxs("div",{className:"w-full bg-gray-100 relative min-h-[200px]",children:[o&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),m&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-500",children:i.jsx("p",{className:"text-sm",children:"Failed to load image"})}),u&&i.jsx("img",{src:u,alt:"",className:"w-full h-auto object-contain"})]}),e.text&&i.jsx("div",{className:"p-4",children:i.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:e.text})}),i.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-100 text-xs text-gray-500",children:[i.jsxs("span",{children:["ID: ",e.id]}),i.jsx("span",{className:"mx-2",children:"|"}),i.jsx("span",{children:e.image_orientation})]})]})})}function gg(){const e=Ae(),{user:t}=Pt(),[n,r]=v.useState(""),[l,s]=v.useState(""),[o,a]=v.useState([]),[u,c]=v.useState(!1),[m,d]=v.useState(null),[p,y]=v.useState(new Set),[x,j]=v.useState({}),[k,h]=v.useState(!1),[f,g]=v.useState(null),[S,w]=v.useState(!1),[b,C]=v.useState(null),[_,O]=v.useState([]),[I,K]=v.useState(""),[G,U]=v.useState(!0),[M,Z]=v.useState(new Set),[W,re]=v.useState(!1);v.useEffect(()=>{(async()=>{try{const[B,J]=await Promise.all([wn.families(),wn.importedIds()]);O(B.families),B.families.length>0&&K(B.families[0].famileo_id),Z(new Set(J.ids))}catch(B){console.error("Failed to load initial data:",B)}finally{U(!1)}})()},[]);const P=async()=>{if(!n||!l){d("Please select both start and end dates");return}c(!0),d(null),C(null),a([]),y(new Set),j({});try{const T=[];let B=!0;const J=new Date(n+"T00:00:00").getTime(),ke=new Date(l+"T23:59:59").getTime();let Qe=new Date(l+"T23:59:59.999Z").toISOString();for(console.log("Famileo fetch - startDate:",n,"endDate:",l),console.log("Famileo fetch - startTs:",new Date(J).toISOString(),"endTs:",new Date(ke).toISOString()),console.log("Famileo fetch - initial timestamp:",Qe);B;){console.log("Famileo fetch - calling API with timestamp:",Qe);const D=await wn.posts({limit:"50",timestamp:Qe,family_id:I||void 0});console.log("Famileo fetch - got",D.posts.length,"posts, has_more:",D.has_more,"next_timestamp:",D.next_timestamp);for(const z of D.posts){const xe=new Date(z.date).getTime();xe>=J&&xe<=ke&&T.push(z)}if(D.next_timestamp){const z=new Date(D.next_timestamp).getTime();console.log("Famileo fetch - nextTs:",new Date(z).toISOString(),"startTs:",new Date(J).toISOString(),"continue?",z>=J),z>=J?Qe=D.next_timestamp:(console.log("Famileo fetch - stopping, next page before start date"),B=!1)}else console.log("Famileo fetch - stopping, no next_timestamp"),B=!1}a(T),T.length===0&&d("No posts found in this date range")}catch(T){d(T instanceof Error?T.message:"Failed to fetch posts")}finally{c(!1)}},R=()=>{e("/")},F=(T,B)=>{y(J=>{const ke=new Set(J);return B?ke.add(T):ke.delete(T),ke})},H=(T,B,J)=>{j(ke=>({...ke,[T]:{base64:B,mimeType:J}}))},X=()=>{p.size===o.length?y(new Set):y(new Set(o.map(T=>T.id)))},Oe=async()=>{if(!t||p.size===0)return;const T=o.filter(B=>p.has(B.id));T.sort((B,J)=>new Date(B.date).getTime()-new Date(J.date).getTime()),h(!0),g({current:0,total:T.length,currentPostText:""});try{for(let B=0;B<T.length;B++){const J=T[B];g({current:B+1,total:T.length,currentPostText:J.text.substring(0,50)+(J.text.length>50?"...":"")});let ke="",Qe="image/jpeg";const D=await wn.image(J.full_image_url);ke=D.base64,Qe=D.mimeType;const z=`data:${Qe};base64,${ke}`,xe=await fetch(z).then(Te=>Te.blob()),N=new File([xe],"famileo-import.jpg",{type:Qe}),A=new Date(J.date.replace(" ","T")),ce=isNaN(A.getTime())?new Date().toISOString():A.toISOString();await kt.createArticle(J.author_email,J.text,N,ce,String(J.id)),Z(Te=>new Set([...Te,String(J.id)])),B<T.length-1&&await new Promise(Te=>setTimeout(Te,500))}y(new Set),C(`Successfully created ${T.length} article${T.length>1?"s":""}`)}catch(B){d(B instanceof Error?B.message:"Failed to create articles")}finally{h(!1),g(null)}},ae=async()=>{w(!0),C(null),d(null);try{const T=await wn.triggerRefresh();C(T.message)}catch(T){d(T instanceof Error?T.message:"Failed to trigger refresh")}finally{w(!1)}},Ue=p.size;return i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[i.jsx(yn,{}),i.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:R,className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",disabled:k,children:i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M15 19l-7-7 7-7"})})}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Famileo Scraper"})]}),i.jsxs("button",{onClick:ae,disabled:S||k,className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation disabled:opacity-50",title:"Refresh Famileo session",children:[i.jsx("svg",{className:`w-4 h-4 ${S?"animate-spin":""}`,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),i.jsx("span",{children:S?"Refreshing...":"Refresh Session"})]})]})}),i.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-4",children:i.jsxs("div",{className:"flex flex-col gap-4",children:[_.length>0&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Famille"}),i.jsx("select",{value:I,onChange:T=>K(T.target.value),disabled:u||k||G,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white",children:_.map(T=>i.jsx("option",{value:T.famileo_id,children:T.name},T.id))})]}),G&&i.jsx("div",{className:"text-sm text-gray-500",children:"Chargement des familles..."}),!G&&_.length===0&&i.jsx("div",{className:"text-sm text-amber-600",children:'Aucune famille configure. Ajoutez des familles dans la sheet "families".'}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),i.jsx("input",{type:"date",value:n,onChange:T=>r(T.target.value),disabled:u||k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white appearance-none"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),i.jsx("input",{type:"date",value:l,onChange:T=>s(T.target.value),disabled:u||k,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 text-gray-900 bg-white appearance-none"})]})]}),i.jsx("button",{onClick:P,disabled:u||k||G||!n||!l||!I&&_.length>0,className:"w-full py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors touch-manipulation",children:G?"Loading families...":u?"Loading...":"Get Posts"})]})}),k&&f&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 mx-4 max-w-sm w-full shadow-xl",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Creating Articles"}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[f.current," / ",f.total]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all duration-300",style:{width:`${f.current/f.total*100}%`}})})]}),i.jsx("p",{className:"text-sm text-gray-500 truncate",children:f.currentPostText})]})}),b&&i.jsx("div",{className:"mx-4 mt-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:b}),m&&i.jsx("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:m}),u&&i.jsx("div",{className:"flex-1 flex items-center justify-center py-12",children:i.jsx("div",{className:"w-10 h-10 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"})}),!u&&o.length>0&&i.jsxs("div",{className:"flex-1 py-4 pb-24",children:[i.jsxs("div",{className:"px-4 mb-3 flex flex-col gap-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:[o.length," post",o.length>1?"s":""," found",Ue>0&&i.jsxs("span",{className:"ml-2 text-primary-600 font-medium",children:["(",Ue," selected)"]})]}),i.jsx("button",{onClick:X,disabled:k,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:p.size===o.length?"Deselect All":"Select All"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"hideImported",checked:W,onChange:T=>re(T.target.checked),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),i.jsxs("label",{htmlFor:"hideImported",className:"text-sm text-gray-600",children:["Masquer les posts dj imports (",o.filter(T=>M.has(String(T.id))).length,")"]})]})]}),i.jsx("div",{className:"space-y-4",children:o.filter(T=>!W||!M.has(String(T.id))).map(T=>i.jsx(pg,{post:T,selected:p.has(T.id),onSelectionChange:B=>F(T.id,B),onImageLoaded:H,cachedImage:x[T.id],alreadyImported:M.has(String(T.id))},T.id))})]}),!u&&o.length>0&&i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-20",children:i.jsx("div",{className:"max-w-content mx-auto",children:i.jsxs("button",{onClick:Oe,disabled:Ue===0||k,className:"w-full py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors touch-manipulation flex items-center justify-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M12 4v16m8-8H4"})}),Ue>0?`Bulk Create (${Ue})`:"Select posts to create"]})})})]})}const Zl=Qi((e,t)=>({isGenerating:!1,jobId:null,progress:0,progressMessage:"",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:null,startGeneration:async(n,r,l,s)=>{e({isGenerating:!0,jobId:null,progress:0,progressMessage:"Dmarrage...",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:s||null});try{const o=await mt.create({from:n,to:r,options:l});o.status==="DONE"&&o.pdf_url?(e({isGenerating:!1,progress:100,progressMessage:"Termin !",pdfUrl:o.pdf_url,showSuccess:!0}),s&&s()):o.status==="ERROR"?e({isGenerating:!1,error:"La gnration du PDF a chou",progressMessage:""}):(e({isGenerating:!1,jobId:o.job_id}),mt.process(o.job_id).catch(()=>{}),s&&s())}catch(o){e({isGenerating:!1,error:o instanceof Error?o.message:"Erreur lors de la gnration",progressMessage:""})}},pollJobStatus:async n=>{try{const r=await mt.status(n);if(e({progress:r.progress||0,progressMessage:r.progress_message||""}),r.status==="DONE"){const l=t().onCompleteCallback;e({isGenerating:!1,pdfUrl:r.pdf_url||null,showSuccess:!0}),l&&l()}else r.status==="ERROR"?e({isGenerating:!1,error:r.error_message||"La gnration du PDF a chou"}):setTimeout(()=>t().pollJobStatus(n),1e3)}catch(r){e({isGenerating:!1,error:r instanceof Error?r.message:"Erreur lors du suivi"})}},setLastCompletedJob:n=>{e({lastCompletedJob:n,showSuccess:n!==null,pdfUrl:(n==null?void 0:n.pdf_url)||null})},dismissSuccess:()=>{e({showSuccess:!1,pdfUrl:null,lastCompletedJob:null})},dismissError:()=>{e({error:null})},reset:()=>{e({isGenerating:!1,jobId:null,progress:0,progressMessage:"",error:null,pdfUrl:null,showSuccess:!1,lastCompletedJob:null,onCompleteCallback:null})}}));function vg({isOpen:e,onClose:t,onComplete:n}){const{startGeneration:r,isGenerating:l}=Zl(),[s,o]=v.useState("dates"),[a,u]=v.useState(""),[c,m]=v.useState(""),[d,p]=v.useState(!1),[y,x]=v.useState(null),[j,k]=v.useState([]),[h,f]=v.useState(0),[g,S]=v.useState("full"),[w,b]=v.useState(!0),[C,_]=v.useState(0),O=()=>{o("dates"),u(""),m(""),k([]),f(0),x(null),S("full"),b(!0),_(0)},I=()=>{O(),t()},K=async()=>{if(!a||!c){x("Veuillez slectionner les dates de dbut et de fin");return}p(!0),x(null);try{const U=[];let M=null;do{const re=await ht.list({from:a,to:c,limit:"100",cursor:M||void 0,status_filter:"active"});U.push(...re.items),M=re.next_cursor}while(M);const Z=new Map;for(const re of U){const P=re.date.substring(0,7),R=pf(re.date);Z.has(P)?Z.get(P).count++:Z.set(P,{label:R,count:1})}const W=Array.from(Z.entries()).sort((re,P)=>re[0].localeCompare(P[0])).map(([re,P])=>({key:re,label:P.label,count:P.count}));k(W),f(U.length),_(U.length),U.length===0?x("Aucun article trouv pour cette priode"):o("preview")}catch(U){x(U instanceof Error?U.message:"Erreur lors du chargement")}finally{p(!1)}},G=()=>{r(a,c,{mosaic_layout:g,show_seasonal_fruits:w,max_mosaic_photos:C>0?C:void 0}),O(),t(),n("")};return e?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:I}),i.jsxs("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[s==="dates"&&"Slectionner la priode",s==="preview"&&"Aperu des articles",s==="options"&&"Options de gnration"]}),i.jsx("button",{onClick:I,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[y&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:y}),s==="dates"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de dbut"}),i.jsx("input",{type:"date",value:a,onChange:U=>u(U.target.value),disabled:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),i.jsx("input",{type:"date",value:c,onChange:U=>m(U.target.value),disabled:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100"})]})]}),s==="preview"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-primary-50 rounded-lg p-4",children:i.jsxs("p",{className:"text-primary-800",children:[i.jsx("span",{className:"font-semibold text-primary-900",children:h})," article",h>1?"s":""," ","sur"," ",i.jsx("span",{className:"font-semibold text-primary-900",children:j.length})," mois"]})}),i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"bg-gray-50 px-3 py-2 border-b border-gray-200",children:i.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Dtail par mois"})}),i.jsx("ul",{className:"divide-y divide-gray-100 max-h-48 overflow-y-auto",children:j.map(U=>i.jsxs("li",{className:"px-3 py-2 flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-700",children:U.label}),i.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded text-xs font-medium",children:U.count})]},U.key))})]})]}),s==="options"&&i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos sur la couverture"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"range",min:1,max:h,value:C||h,onChange:U=>_(parseInt(U.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-12 text-right",children:C||h})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nombre de photos pour la mosaque de couverture"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Style des intercalaires de mois"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>S("full"),className:`flex-1 py-2.5 px-3 rounded-lg border text-sm transition-colors ${g==="full"?"border-primary-500 bg-primary-50 text-primary-700 font-medium":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:"Mosaque pleine"}),i.jsx("button",{onClick:()=>S("centered"),className:`flex-1 py-2.5 px-3 rounded-lg border text-sm transition-colors ${g==="centered"?"border-primary-500 bg-primary-50 text-primary-700 font-medium":"border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:"Mosaque centre"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx("input",{type:"checkbox",checked:w,onChange:U=>b(U.target.checked),className:"w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Fruits & lgumes de saison"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Dcorations autour des intercalaires"})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-sm text-gray-600",children:[i.jsx("strong",{children:h})," articles du"," ",i.jsx("strong",{children:new Date(a).toLocaleDateString("fr-FR")})," au"," ",i.jsx("strong",{children:new Date(c).toLocaleDateString("fr-FR")})]})]})]}),i.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex gap-3",children:[s==="dates"&&i.jsxs(i.Fragment,{children:[i.jsx(Q,{variant:"secondary",onClick:I,fullWidth:!0,children:"Annuler"}),i.jsx(Q,{onClick:K,disabled:!a||!c||d,fullWidth:!0,children:d?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Recherche..."]}):"Suivant"})]}),s==="preview"&&i.jsxs(i.Fragment,{children:[i.jsx(Q,{variant:"secondary",onClick:()=>o("dates"),fullWidth:!0,children:"Retour"}),i.jsx(Q,{onClick:()=>o("options"),fullWidth:!0,children:"Suivant"})]}),s==="options"&&i.jsxs(i.Fragment,{children:[i.jsx(Q,{variant:"secondary",onClick:()=>o("preview"),fullWidth:!0,children:"Retour"}),i.jsxs(Q,{onClick:G,disabled:l,fullWidth:!0,children:[i.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Gnrer le PDF"]})]})]})]})]}):null}function yg(){const e=Ae(),[t,n]=v.useState([]),[r,l]=v.useState(!0),[s,o]=v.useState(null),[a,u]=v.useState(""),[c,m]=v.useState(""),[d,p]=v.useState("created_at"),[y,x]=v.useState("desc"),[j,k]=v.useState([]),[h,f]=v.useState(!1),[g,S]=v.useState(new Set),[w,b]=v.useState(null),[C,_]=v.useState(!1),[O,I]=v.useState(!1),[K,G]=v.useState(null),[U,M]=v.useState(!1),Z=v.useCallback(async()=>{l(!0),o(null);try{const N=await mt.list({include_in_progress:!0});n(N.items||[]),k(N.authors||[])}catch(N){o(N instanceof Error?N.message:"Failed to load PDF list")}finally{l(!1)}},[]);v.useEffect(()=>{Z()},[Z]);const[W,re]=v.useState(new Map),{setLastCompletedJob:P}=Zl(),R=t.filter(N=>N.status==="PENDING"||N.status==="RUNNING"),F=t.filter(N=>N.status==="DONE"||N.status==="ERROR"||N.status==="CANCELLED");v.useEffect(()=>{if(R.length===0)return;const N=setInterval(async()=>{const A=await Promise.all(R.map(async ce=>{try{return{...await mt.status(ce.job_id),job_id:ce.job_id}}catch{return null}}));n(ce=>ce.map(Te=>{const Ke=A.find(Yr=>Yr&&Yr.job_id===Te.job_id);return Ke?{...Te,status:Ke.status,progress:Ke.progress,progress_message:Ke.progress_message,pdf_url:Ke.pdf_url,error_message:Ke.error_message}:Te}))},2e3);return()=>clearInterval(N)},[R.length]),v.useEffect(()=>{const N=new Map(t.map(A=>[A.job_id,A.status]));for(const[A,ce]of W){const Te=N.get(A);if((ce==="PENDING"||ce==="RUNNING")&&Te==="DONE"){const Ke=t.find(Yr=>Yr.job_id===A);Ke&&P(Ke)}}re(N)},[t,W,P]);const H=Zl(N=>N.showSuccess);v.useEffect(()=>{H&&Z()},[H,Z]);const X=Array.from(new Set(t.map(N=>N.year).filter(Boolean))).sort((N,A)=>A-N),Oe=N=>{if(!N)return 0;const A=new Date(N);return isNaN(A.getTime())?0:A.getTime()},ae=F.filter(N=>!a||N.year===parseInt(a)).filter(N=>!c||N.created_by===c).sort((N,A)=>{let ce=0;return d==="created_at"?ce=Oe(N.created_at)-Oe(A.created_at):d==="date_from"?ce=Oe(N.date_from)-Oe(A.date_from):d==="created_by"&&(ce=(N.created_by||"").localeCompare(A.created_by||"")),y==="desc"?-ce:ce}),Ue=()=>{e("/")},T=N=>{try{return new Date(N).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return N}},B=(N,A)=>{try{const ce=new Date(N),Te=new Date(A),Ke={day:"2-digit",month:"short",year:"numeric"};return`${ce.toLocaleDateString("fr-FR",Ke)}  ${Te.toLocaleDateString("fr-FR",Ke)}`}catch{return`${N}  ${A}`}},J=N=>{const A=new Set(g);A.has(N)?A.delete(N):A.add(N),S(A)},ke=()=>{g.size===ae.length?S(new Set):S(new Set(ae.map(N=>N.job_id)))},Qe=async()=>{if(w){I(!0);try{await mt.delete(w),n(N=>N.filter(A=>A.job_id!==w)),b(null)}catch(N){o(N instanceof Error?N.message:"Failed to delete PDF")}finally{I(!1)}}},D=async()=>{if(g.size!==0){I(!0);try{for(const N of g)await mt.delete(N);n(N=>N.filter(A=>!g.has(A.job_id))),S(new Set),f(!1),_(!1)}catch(N){o(N instanceof Error?N.message:"Failed to delete PDFs")}finally{I(!1)}}},z=()=>{M(!1),Z()},xe=async N=>{G(N);try{await mt.cancel(N),n(A=>A.map(ce=>ce.job_id===N?{...ce,status:"CANCELLED",progress_message:"Annul"}:ce))}catch(A){o(A instanceof Error?A.message:"Failed to cancel PDF generation")}finally{G(null)}};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[i.jsx(yn,{}),i.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[h?i.jsx("div",{className:"w-9 h-9"}):i.jsx("button",{onClick:Ue,className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M15 19l-7-7 7-7"})})}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900 flex-1",children:h?`${g.size} slectionn(s)`:"PDFs gnrs"}),i.jsxs("div",{className:"flex items-center gap-4",children:[h&&i.jsx("button",{onClick:ke,className:"text-primary-600 hover:text-primary-700 touch-manipulation text-sm font-medium",children:g.size===ae.length?"Deselect all":"Select all"}),ae.length>0&&i.jsx(gf,{checked:h,onChange:N=>{f(N),N||S(new Set)},label:"Select"})]})]}),i.jsx("div",{className:"flex items-center gap-2 mt-3 h-11 overflow-x-auto",children:h?i.jsx("span",{className:"text-sm text-gray-500",children:"Slectionnez les PDFs  supprimer"}):i.jsxs(i.Fragment,{children:[i.jsxs("select",{value:a,onChange:N=>u(N.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"",children:"Anne"}),X.map(N=>i.jsx("option",{value:N,children:N},N))]}),j.length>1&&i.jsxs("select",{value:c,onChange:N=>m(N.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 max-w-32 truncate",children:[i.jsx("option",{value:"",children:"Auteur"}),j.map(N=>i.jsx("option",{value:N,children:N.split("@")[0]},N))]}),i.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden text-xs",children:[i.jsxs("button",{onClick:()=>{d==="created_at"?x(y==="desc"?"asc":"desc"):(p("created_at"),x("desc"))},className:`px-3 py-2.5 font-medium transition-colors flex items-center gap-1 ${d==="created_at"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Cration",d==="created_at"&&i.jsx("span",{className:"text-[10px]",children:y==="desc"?"":""})]}),i.jsxs("button",{onClick:()=>{d==="date_from"?x(y==="desc"?"asc":"desc"):(p("date_from"),x("desc"))},className:`px-3 py-2.5 font-medium border-l border-gray-300 transition-colors flex items-center gap-1 ${d==="date_from"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Priode",d==="date_from"&&i.jsx("span",{className:"text-[10px]",children:y==="desc"?"":""})]}),i.jsxs("button",{onClick:()=>{d==="created_by"?x(y==="desc"?"asc":"desc"):(p("created_by"),x("asc"))},className:`px-3 py-2.5 font-medium border-l border-gray-300 transition-colors flex items-center gap-1 ${d==="created_by"?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["Auteur",d==="created_by"&&i.jsx("span",{className:"text-[10px]",children:y==="desc"?"":""})]})]}),i.jsxs("span",{className:"text-sm text-gray-500 ml-auto",children:[ae.length," PDF",ae.length>1?"s":""]})]})})]}),s&&i.jsxs("div",{className:"mx-4 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[s,i.jsx("button",{onClick:()=>o(null),className:"ml-2 text-red-500 hover:text-red-700",children:""})]}),i.jsx("div",{className:"flex-1 p-4 pb-24",children:r?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):R.length===0&&ae.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("p",{className:"text-gray-500 mb-2",children:a?"Aucun PDF pour cette anne":"Aucun PDF gnr"}),i.jsx(Q,{onClick:()=>M(!0),variant:"primary",children:"Crer mon premier PDF"})]}):i.jsxs(i.Fragment,{children:[R.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"En cours de gnration"}),i.jsx("div",{className:"space-y-3",children:R.map(N=>i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:i.jsxs("svg",{className:"w-5 h-5 text-blue-600 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-gray-900",children:B(N.date_from,N.date_to)}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("div",{className:"flex-1 h-1.5 bg-blue-200 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300",style:{width:`${N.progress||0}%`}})}),i.jsxs("span",{className:"text-xs text-blue-600 font-medium w-8",children:[N.progress||0,"%"]})]}),i.jsx("p",{className:"text-xs text-blue-500 mt-0.5",children:N.progress_message||"En attente..."}),i.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["par ",N.created_by]})]}),i.jsx("button",{onClick:()=>xe(N.job_id),disabled:K===N.job_id,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Annuler",children:K===N.job_id?i.jsxs("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})},N.job_id))})]}),ae.length>0&&i.jsxs("div",{children:[R.length>0&&i.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Gnrs"}),i.jsx("div",{className:"space-y-3",children:ae.map(N=>i.jsx("div",{onClick:()=>h&&J(N.job_id),className:`bg-white rounded-lg shadow-sm border transition-colors ${h?g.has(N.job_id)?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300":"border-gray-200"} p-4 ${h?"cursor-pointer":""}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[h&&i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 mt-0.5 ${g.has(N.job_id)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:g.has(N.job_id)&&i.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M5 13l4 4L19 7"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-medium text-gray-900",children:B(N.date_from,N.date_to)}),N.status==="ERROR"&&i.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-red-100 text-red-700 rounded",children:"Erreur"}),N.status==="CANCELLED"&&i.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-600 rounded",children:"Annul"})]}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Cr le ",T(N.created_at)]}),N.status==="ERROR"&&N.error_message&&i.jsx("p",{className:"text-xs text-red-500 mt-0.5 truncate",title:N.error_message,children:N.error_message}),i.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["par ",N.created_by]})]}),!h&&i.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[N.pdf_url&&i.jsx("a",{href:N.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Voir le PDF",onClick:A=>A.stopPropagation(),children:i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),i.jsx("button",{onClick:A=>{A.stopPropagation(),b(N.job_id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},N.job_id))})]})]})}),h&&g.size>0&&i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-300 p-4 z-50 shadow-lg",children:i.jsxs("div",{className:"max-w-content mx-auto flex items-center justify-between gap-4",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:[g.size," PDF",g.size>1?"s":""," slectionn",g.size>1?"s":""]}),i.jsx("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Supprimer"})]})}),!h&&i.jsx("button",{onClick:()=>M(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-105 active:scale-95 z-30",title:"Nouveau PDF",children:i.jsx("svg",{className:"w-7 h-7",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M12 4v16m8-8H4"})})}),i.jsx(vg,{isOpen:U,onClose:()=>M(!1),onComplete:z}),i.jsx(hn,{isOpen:!!w,title:"Supprimer le PDF ?",message:"Le PDF sera dfinitivement supprim de Google Drive.",confirmLabel:"Supprimer",cancelLabel:"Annuler",onConfirm:Qe,onCancel:()=>b(null),variant:"danger",isLoading:O}),i.jsx(hn,{isOpen:C,title:`Supprimer ${g.size} PDF${g.size>1?"s":""} ?`,message:"Les PDFs slectionns seront dfinitivement supprims de Google Drive.",confirmLabel:"Supprimer",cancelLabel:"Annuler",onConfirm:D,onCancel:()=>_(!1),variant:"danger",isLoading:O})]})}const bu={get:e=>se.get("config/get",{key:e}),set:(e,t)=>se.post("config/set",{key:e,value:t})};function xg(){const e=Ae(),{showToast:t}=Xn(),[n,r]=v.useState(""),[l,s]=v.useState(!0),[o,a]=v.useState(!1);v.useEffect(()=>{u()},[]);const u=async()=>{try{const m=await bu.get("family_name");r(m.value||"")}catch{t("Erreur lors du chargement","error")}finally{s(!1)}},c=async()=>{a(!0);try{await bu.set("family_name",n.trim()),t("Configuration sauvegarde","success"),e("/")}catch{t("Erreur lors de la sauvegarde","error")}finally{a(!1)}};return l?i.jsx(vn,{message:"Chargement..."}):i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[i.jsx(yn,{}),i.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-14 z-20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e("/"),className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors touch-manipulation",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M15 19l-7-7 7-7"})})}),i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Paramtres"})]})}),i.jsx("div",{className:"flex-1 p-4 space-y-6 pb-32 max-w-md mx-auto w-full",children:i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Page de couverture PDF"}),i.jsx(Ur,{label:"Nom de la famille",value:n,onChange:m=>r(m.target.value),placeholder:"Ex: Famille Dupont"}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:['Apparatra sur la couverture : "Livre de souvenirs de ',n||"...",'"']})]})}),i.jsx("div",{className:"bg-white border-t border-gray-200 p-4 sticky bottom-0",children:i.jsx(Q,{onClick:c,disabled:o,fullWidth:!0,children:o?"Sauvegarde...":"Sauvegarder"})})]})}const wg="modulepreload",Sg=function(e){return"/"+e},Pu={},jg=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));l=Promise.allSettled(n.map(u=>{if(u=Sg(u),u in Pu)return;Pu[u]=!0;const c=u.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":wg,c||(d.as="script"),d.crossOrigin="",d.href=u,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((p,y)=>{d.addEventListener("load",p),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return l.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function kg(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:l,onRegisteredSW:s,onRegisterError:o}=e;let a,u,c;const m=async(p=!0)=>{await u,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(a=await jg(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:p}},[]).then(({Workbox:p})=>new p("/sw.js",{scope:"/",type:"classic"})).catch(p=>{o==null||o(p)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let p=!1;const y=()=>{p=!0,a==null||a.addEventListener("controlling",x=>{x.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",x=>{typeof x.isUpdate>"u"?typeof x.isExternal<"u"?x.isExternal?y():!p&&(r==null||r()):x.isExternal?window.location.reload():!p&&(r==null||r()):x.isUpdate||r==null||r()}),a.addEventListener("waiting",y),a.addEventListener("externalwaiting",y)}a.register({immediate:t}).then(p=>{s?s("/sw.js",p):l==null||l(p)}).catch(p=>{o==null||o(p)})}}return u=d(),m}function Ng(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:l,onRegisteredSW:s,onRegisterError:o}=e,[a,u]=v.useState(!1),[c,m]=v.useState(!1),[d]=v.useState(()=>kg({immediate:t,onOfflineReady(){m(!0),r==null||r()},onNeedRefresh(){u(!0),n==null||n()},onRegistered:l,onRegisteredSW:s,onRegisterError:o}));return{needRefresh:[a,u],offlineReady:[c,m],updateServiceWorker:d}}function Cg(){const{needRefresh:[e],updateServiceWorker:t}=Ng({onRegistered(n){console.log("SW Registered:",n),n&&setInterval(()=>{n.update()},3e4)},onRegisterError(n){console.log("SW registration error",n)}});return e?i.jsxs("div",{className:"fixed bottom-20 left-4 right-4 z-50 bg-primary-600 text-white p-4 rounded-lg shadow-lg flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Nouvelle version disponible"}),i.jsx("button",{onClick:()=>t(!0),className:"bg-white text-primary-600 px-4 py-2 rounded-md text-sm font-semibold",children:"Mettre  jour"})]}):null}function Eg(){const{error:e,pdfUrl:t,showSuccess:n,lastCompletedJob:r,dismissSuccess:l,dismissError:s}=Zl();if(!n&&!e)return null;const o=(a,u)=>{try{const c=new Date(a),m=new Date(u),d={day:"2-digit",month:"short",year:"numeric"};return`${c.toLocaleDateString("fr-FR",d)} - ${m.toLocaleDateString("fr-FR",d)}`}catch{return`${a} - ${u}`}};return i.jsxs("div",{className:"fixed bottom-20 left-4 right-4 z-50 max-w-md mx-auto",children:[n&&t&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg shadow-lg p-4 animate-slide-up",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-green-800",children:"PDF gnr avec succs !"}),r&&i.jsx("p",{className:"text-xs text-green-600 mt-0.5",children:o(r.date_from,r.date_to)}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:[i.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Voir"]}),i.jsx("button",{onClick:l,className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-green-700 hover:bg-green-100 rounded-lg transition-colors",children:"Fermer"})]})]}),i.jsx("button",{onClick:l,className:"text-green-400 hover:text-green-600",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})}),e&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 animate-slide-up",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:i.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Erreur de gnration"}),i.jsx("p",{className:"text-xs text-red-600 mt-0.5",children:e})]}),i.jsx("button",{onClick:s,className:"text-red-400 hover:text-red-600",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})]})}function _g(){return i.jsx(Wp,{children:i.jsxs(Qp,{children:[i.jsx(Cg,{}),i.jsx(Eg,{}),i.jsx("div",{className:"min-h-screen max-w-content mx-auto bg-white",children:i.jsxs(Op,{children:[i.jsx(Ye,{path:"/auth",element:i.jsx(Zp,{})}),i.jsx(Ye,{path:"/",element:i.jsx(vt,{children:i.jsx(A0,{})})}),i.jsx(Ye,{path:"/editor",element:i.jsx(vt,{children:i.jsx(Cu,{})})}),i.jsx(Ye,{path:"/editor/:id",element:i.jsx(vt,{children:i.jsx(Cu,{})})}),i.jsx(Ye,{path:"/stats",element:i.jsx(vt,{children:i.jsx(og,{})})}),i.jsx(Ye,{path:"/photo-assembly",element:i.jsx(vt,{children:i.jsx(fg,{})})}),i.jsx(Ye,{path:"/profile",element:i.jsx(vt,{children:i.jsx(hg,{})})}),i.jsx(Ye,{path:"/famileo",element:i.jsx(vt,{children:i.jsx(gg,{})})}),i.jsx(Ye,{path:"/pdf-export",element:i.jsx(vt,{children:i.jsx(yg,{})})}),i.jsx(Ye,{path:"/settings",element:i.jsx(vt,{children:i.jsx(xg,{})})}),i.jsx(Ye,{path:"*",element:i.jsx(nf,{to:"/",replace:!0})})]})})]})})}Ks.createRoot(document.getElementById("root")).render(i.jsx(qo.StrictMode,{children:i.jsx($p,{children:i.jsx(_g,{})})}));
